import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as c}from"./client-misc-1LRynplM.js";/* empty css              */import{t as L,P as v}from"./path-shape-C2966eRL.js";import{b as T,s as A}from"./utility-2TZy30Cu.js";import{m as w}from"./misc-CLGTS8fC.js";const E=c("go",HTMLButtonElement),S=c("source",HTMLTextAreaElement),D=c("result",HTMLElement);S.addEventListener("input",()=>E.disabled=!1);function M(e,t,s){const i=e.width/e.height,n=t.width/t.height;let a,o;i>n?(a=t.width/e.width,o=a):(o=t.height/e.height,a=o);const r=e.width*a,u=e.height*o,d=e.x*a,m=e.y*o,y=t.x+(t.width-r)/2-d,l=t.y+(t.height-u)/2-m;return new DOMMatrix().scale(a,o).translate(y,l)}{const e={x:-1,y:-1,width:2,height:2},t={x:0,y:0,height:244,width:325},s=M(e,t);console.log({testFrom:e,testTo:t,testMatrix:s}),[e.x,e.x+e.width].forEach(i=>{[e.y,e.y+e.height].forEach(n=>{const a=L(i,n,s);console.log({xFrom:i,yFrom:n,toPoint:a})})})}class x{static#t=c("error",HTMLDivElement);static display(t){this.#t.innerText=t}static displayError(t){t instanceof b?this.#t.innerHTML=`Unable to access <code>support.input(${t.requestedIndex})</code>.  Only ${p.length} input sliders currently exist.  <button onclick="addMoreInputs(this,${t.requestedIndex+1})">Add More</button>`:this.display(t.message)}static clear(){this.display("")}}class h{#t;get svgElement(){return this.#t}#e;get pathElement(){return this.#e}constructor(t){this.#t=T(t,SVGSVGElement),this.#e=w.assertClass(this.#t.firstElementChild,SVGPathElement),h.all.add(this)}static all=new Set;#s=NaN;get recommendedWidth(){return this.#s}#n(){const t=this.#e.getBBox(),s=this.#t.viewBox.baseVal;s.x=t.x,s.y=t.y,s.width=t.width,s.height=t.height,this.#s=Math.max(s.width,s.height)/100,this.#t.style.setProperty("--recommended-width",this.#s.toString())}setD(t){this.#e.setAttribute("d",t),this.#n()}static setD(t){this.all.forEach(s=>s.setD(t))}static getOuterHTML(){return w.pickAny(h.all).#e.outerHTML}deAnimate(){this.#e.getAnimations().forEach(t=>t.cancel())}}new h("#filledSample");new h("#outlineSample");class P extends h{constructor(){super("#chasingPathsSample")}setD(t){super.setD(t);const s=this.pathElement,i=1500,n=Date.now()/i%1;this.deAnimate();const a=s.getTotalLength();s.style.strokeDasharray=`0 ${a} ${a} 0`,s.animate([{strokeDashoffset:0},{strokeDashoffset:-2*a}],{iterations:1/0,duration:i,iterationStart:n})}}new P;class I extends h{constructor(){super("#dancingAntsSample")}setD(t){super.setD(t);const s=this.pathElement,i=250;this.deAnimate();const n=s.getTotalLength(),a=Date.now()/i%1,o=4*this.recommendedWidth,r=o*10<n?n/Math.round(n/o):o;s.style.strokeDasharray=`0 ${r}`,s.animate([{strokeDashoffset:0},{strokeDashoffset:-r}],{iterations:1/0,duration:i,iterationStart:a})}}new I;class H extends h{constructor(){super("#tauFollowingPathSample")}setD(t){super.setD(t),this.svgElement.style.setProperty("--css-path",v.cssifyPath(t))}}new H;new h("#textPathSample");class N{static#t=document.createElementNS("http://www.w3.org/2000/svg","svg");static#e=document.createElementNS("http://www.w3.org/2000/svg","path");static#s=c("clipPathSample",HTMLImageElement);static setPathShape(t){document.body.append(this.#t),this.#t.append(this.#e),t=v.fromString("M 0 -1 L 1 0 L 0 1 L -1 0 z"),this.#e.setAttribute("d",t.rawPath);const s=this.#e.getBBox(),i=M(s,{x:0,y:0,height:this.#s.clientHeight,width:this.#s.clientWidth}),n=t.transform(i);this.#s.style.clipPath=n.cssPath}}const p=[];class b extends Error{constructor(t){super(`Unable to access support.input(${t}).  Only ${p.length} input sliders currently exist.`),this.requestedIndex=t}}const $={input(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError(`invalid ${e}`);if(e>=p.length)throw new b(e);return p[e]}},C=c("inputs",HTMLDivElement);function f(){E.disabled=!1;const e=p.length,t=.5,s=`<div class="has-slider">
      <input type="range" min="0" max="1" value="${t}" step="0.00001" oninput="copyNewInput(this, ${e})" />
      <code>support.input(${e})</code> =
      <span>${t.toString().padEnd(7,"0")}</span>
    </div>`;C.insertAdjacentHTML("beforeend",s),p.push(t)}window.addMoreInputs=(e,t)=>{for(e.disabled=!0;p.length<t;)f()};T("#inputsGroup button",HTMLButtonElement).addEventListener("click",()=>{f()});f();f();{const e=c("segmentCountInput",HTMLInputElement),t=c("inputsGroup",HTMLDivElement),s=()=>{x.clear();const r=`"use strict";
`+S.value+`
return { x, y };`;let u;try{u=new Function("t /* A value between 0 and 1, inclusive. */","support",r)}catch(l){if(l instanceof SyntaxError){x.displayError(l);return}else throw l}const d=l=>{const g=u(l,$);if(!(Number.isFinite(g.x)&&Number.isFinite(g.y)))throw new Error(`Invalid result.  Expected {x,y} where x and y are both finite numbers.  Found: ${JSON.stringify(g)} when t=${l}.`);return g};let m;try{m=v.parametric(d,e.valueAsNumber)}catch(l){if(l instanceof Error){x.displayError(l);return}else throw l}const y=m.rawPath;h.setD(y),N.setPathShape(m),D.innerText=h.getOuterHTML()};let i=!1;const n=()=>{E.disabled=!0,i||(i=!0,requestAnimationFrame(()=>{i=!1,s()}))};E.addEventListener("click",n);const a=c("segmentCountSpan",HTMLSpanElement),o=()=>{a.innerText=e.value.padStart(3,w.FIGURE_SPACE)};o(),e.addEventListener("input",()=>{o(),n()}),window.copyNewInput=(r,u)=>{p[u]=r.valueAsNumber;const d=w.assertClass(r.parentElement?.lastElementChild,HTMLSpanElement);d.innerText=r.valueAsNumber.toFixed(5),n()},A("button.show-this",HTMLButtonElement).forEach(r=>{const u=w.assertClass(r.parentElement?.nextElementSibling,HTMLPreElement);r.addEventListener("click",()=>{const d=u.innerText;S.value=d,n(),t.scrollIntoView({behavior:"smooth"})})}),n()}
