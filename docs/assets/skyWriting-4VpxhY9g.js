import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as p}from"./client-misc-leadhGo2.js";import{d as L,T as c}from"./letters-more-BIU1PgJH.js";import{b as v}from"./utility-DcEUXXL7.js";const u=p("input",HTMLTextAreaElement),r=p("main",SVGElement);{const t=new c().font,{normal:s}=L(t),o=p("available",HTMLSpanElement);o.innerText=[...s].sort().join(" ")}class n{static#t;static doCleanup(){this.#t?.doCleanup(),this.#t=void 0,r.innerHTML=""}static restartCurrent(){const t=this.#t;t&&(this.doCleanup(),t.start())}start(){n.doCleanup(),this.startImpl(),n.#t=this}doCleanup(){}}class E extends n{startImpl(){const t=new c;t.restart();const s=u.value,o=t.addText(s);t.displayText(o,r),r.ownerSVGElement.viewBox.baseVal.height=t.baseline+t.font.get("0").fontMetrics.bottom}static start(){new this().start()}}const f=p("completionRatio",HTMLInputElement);class T extends n{startImpl(){const t=new c;t.restart();const s=u.value,o=t.addText(s);r.ownerSVGElement.viewBox.baseVal.height=t.baseline+t.font.get("0").fontMetrics.bottom;const y=c.join(o),i=document.createElementNS("http://www.w3.org/2000/svg","g");i.classList.add("handwriting"),r.appendChild(i);let d=0;y.splitOnMove().forEach(l=>{const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",l.rawPath),i.appendChild(a);const g=d,w=a.getTotalLength();d=g+w,a.style.setProperty("--offset",g.toString()),a.style.setProperty("--length",w.toString())});const m=new AbortController;this.doCleanup=()=>m.abort();const b=d+40,h=()=>{const l=f.valueAsNumber*b;v(l),i.style.setProperty("--total-position",l.toString())};h(),f.addEventListener("input",h,{signal:m.signal})}static start(){new this().start()}}u.addEventListener("input",()=>{n.restartCurrent()});function x(){const e=document.querySelector('input[name="type"]:checked')?.id;switch(e){case"simpleType":{E.start();break}case"handwritingType":{new T().start();break}default:throw new Error(`invalid id: ${e}`)}}x();document.querySelectorAll('input[name="type"]').forEach(e=>{e.addEventListener("click",x)});
