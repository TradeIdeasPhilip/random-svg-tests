import{c as R,m as G,i as K,b as U}from"./client-misc-leadhGo2.js";import{b as N,l as k,e as at,c as ot,f as Z,a as D}from"./utility-DJLNEATl.js";class A{constructor(o,s,l,r){this.x0=o,this.y0=s,this.x=l,this.y=r,N(o,s,l,r),this.asString=`L ${l},${r}`,this.outgoingAngle=this.incomingAngle=Math.atan2(r-s,l-o)}incomingAngle;outgoingAngle;command="L";asString;translate(o,s){return new A(this.x0+o,this.y0+s,this.x+o,this.y+s)}toCubic(){return new I(this.x0,this.y0,k(this.x0,this.x,1/3),k(this.y0,this.y,1/3),k(this.x0,this.x,2/3),k(this.y0,this.y,2/3),this.x,this.y)}}class O{constructor(o,s,l,r,a,m){this.x0=o,this.y0=s,this.x1=l,this.y1=r,this.x=a,this.y=m,N(o,s,l,r,a,m),this.asString=`Q ${l},${r} ${a},${m}`}static line4(o,s,l,r){return new this(o,s,(o+l)/2,(s+r)/2,l,r)}static line(o,s){return this.line4(o.x,o.y,s.x,s.y)}static angles(o,s,l,r,a,m){N(o,s,l,r,a,m);const p=pt({x0:o,y0:s,slope:Math.tan(l)},{x0:r,y0:a,slope:Math.tan(m)});return p?new this(o,s,p.x,p.y,r,a):(console.warn("Line instead of Q"),this.line4(o,s,r,a))}get incomingAngle(){return Math.atan2(this.y1-this.y0,this.x1-this.x0)}get outgoingAngle(){return Math.atan2(this.y-this.y1,this.x-this.x1)}command="Q";asString;translate(o,s){return new O(this.x0+o,this.y0+s,this.x1+o,this.y1+s,this.x+o,this.y+s)}toCubic(){return new I(this.x0,this.y0,k(this.x0,this.x1,2/3),k(this.y0,this.y1,2/3),k(this.x,this.x1,2/3),k(this.y,this.y1,2/3),this.x,this.y)}}class I{constructor(o,s,l,r,a,m,p,g){this.x0=o,this.y0=s,this.x1=l,this.y1=r,this.x2=a,this.y2=m,this.x=p,this.y=g,N(o,s,l,r,a,m,p,g),this.asString=`C ${l},${r} ${a},${m} ${p},${g}`}reverse(){return new I(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}get incomingAngle(){return Math.atan2(this.y1-this.y0,this.x1-this.x0)}get outgoingAngle(){return Math.atan2(this.y-this.y2,this.x-this.x2)}command="C";asString;translate(o,s){return new I(this.x0+o,this.y0+s,this.x1+o,this.y1+s,this.x2+o,this.y2+s,this.x+o,this.y+s)}toCubic(){return this}}class u{get commands(){return this.#t}addCommand(o){this.#t.push(o),this.#s=void 0}addCommands(o){return o.forEach(s=>this.addCommand(s)),this}static fromStrings(o){let s=o.join(" ");const l=[];let r;for(;s=s.replace(/^ */,""),s!="";){let a=it.exec(s);if(a){const m=R(a[1]),p=R(a[2]);if(m===void 0||p===void 0)throw console.error(a,m,p,this),new Error("wtf");r&&l.push(r),r=this.M(m,p),s=a[3];continue}if(r){if(a=ht.exec(s),a){const m=R(a[1]),p=R(a[2]),g=R(a[3]),c=R(a[4]);if(m===void 0||p===void 0||g===void 0||c===void 0)throw console.error(a,m,p,g,c,this),new Error("wtf");r=r.Q(m,p,g,c),s=a[5];continue}if(a=rt.exec(s),a){const m=R(a[1]),p=R(a[2]),g=R(a[3]),c=R(a[4]),w=R(a[5]),x=R(a[6]);if(m===void 0||p===void 0||g===void 0||c===void 0||w===void 0||x===void 0)throw console.error(a,m,p,g,c,w,x,this),new Error("wtf");r=r.C(m,p,g,c,w,x),s=a[7];continue}}throw console.error(s),new Error("wtf")}return r&&l.push(r),l}static M(o,s){const l=new u;return l.M(o,s),l}#t=[];get pathShape(){return new L(this.#t)}#s;M(o,s,l=NaN){return N(o,s),this.#s={x:o,y:s,outgoingAngle:l},this}previous(){return this.#s??this.#t.at(-1)}H(o){const s=this.previous();return this.addCommand(new A(s.x,s.y,o,s.y)),this}V(o){const s=this.previous();return this.addCommand(new A(s.x,s.y,s.x,o)),this}L(o,s){const l=this.previous();return this.addCommand(new A(l.x,l.y,o,s)),this}Q(o,s,l,r){const a=this.previous();return this.addCommand(new O(a.x,a.y,o,s,l,r)),this}Q_HV(o,s){const l=this.previous();return this.Q(o,l.y,o,s)}Q_VH(o,s){const l=this.previous();return this.Q(l.x,s,o,s)}Q_angles(o,s,l,r){const a=this.previous();if(r??=a.outgoingAngle,r===void 0)throw new Error("wtf");return this.addCommand(O.angles(a.x,a.y,r,o,s,l)),this}C(o,s,l,r,a,m){const p=this.previous();return this.addCommand(new I(p.x,p.y,o,s,l,r,a,m)),this}circle(o,s,l="cw"){const r=this.previous(),a=r.x,m=r.y,p=Math.atan2(m-s,a-o),g=Math.hypot(m-s,a-o),c=l=="cw"?1:-1,w=p+Math.PI*2*c,x=G(0,p,1,w);function h(t){switch(t){case 0:case 1:return r;default:{const n=x(t),e=D(g,n);return{x:o+e.x,y:s+e.y}}}}function b(t){return h(t)}return this.addParametricPath(b,8),this}arc(o,s,l,r,a){const m=this.previous(),p=m.x,g=m.y;let c=Z(Math.atan2(g-s,p-o),Math.PI*2);const w=Math.hypot(g-s,p-o);let x=Z(Math.atan2(r-s,l-o),Math.PI*2);const h=Math.hypot(r-s,l-o);a=="cw"?c>x&&(x+=Math.PI*2):c<x&&(c+=Math.PI*2);const b=Math.abs(c-x),T=Math.ceil(b*1.17+1e-4),t=G(0,w,1,h),n=G(0,c,1,x);function e(i){switch(i){case 0:return m;case 1:return{x:l,y:r};default:{const d=D(t(i),n(i));return{x:o+d.x,y:s+d.y}}}}return this.addParametricPath(e,T)}addParametricPath(o,s){if(s<=0)throw new Error("wtf");const l=.01/s,r=K(s+1,m=>{const p=m/s,g=o(p),c=ct(o,p,l);return{t:p,point:g,direction:c}});return K(s,m=>({from:r[m],to:r[m+1]})).forEach(m=>{this.Q_angles(m.to.point.x,m.to.point.y,m.to.direction,m.from.direction)}),this}}function ct(V,o,s){if(!(o>=0&&o<=1))throw new Error("Expected 0 ≤ t ≤ 1");const l=Math.max(0,o-s),r=V(l),a=Math.min(1,o+s),m=V(a),p=m.x-r.x,g=m.y-r.y;return p==0&&g==0?NaN:Math.atan2(g,p)}const J=" *",W="(-?[0-9]+.?[0-9]*)",P=" *[, ] *",it=new RegExp(`^M${J}${W}${P}${W}(.*)$`),ht=new RegExp(`^Q${J}${W}${P}${W}${P}${W}${P}${W}(.*)$`),rt=new RegExp(`^C${J}${W}${P}${W}${P}${W}${P}${W}${P}${W}${P}${W}(.*)$`);class L{matchForMorph(o){const s=this.commands.map(p=>p.toCubic()),l=o.commands.map(p=>p.toCubic());if(s.length!=l.length){const{shorter:p,longer:g}=s.length<l.length?{shorter:s,longer:l}:{shorter:l,longer:s};if(p.length==0)throw new Error("can't morph something into nothing");const c=g.length/p.length,w=[];p.forEach((x,h)=>{const b=Math.round((h+1)*c);for(;w.length<b;)w.push(x)}),p.length=0,p.push(...w)}if(s.length!=l.length)throw new Error("wtf");function r(p){return L.cssifyPath(p.map(g=>new L([g]).rawPath).join())}const a=r(s),m=r(l);return[a,m]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(o){const l=u.fromStrings(o).flatMap(a=>a.commands);return new this(l)}constructor(o){this.commands=[...o]}static cssifyPath(o){return`path('${o}')`}get cssPath(){return L.cssifyPath(this.rawPath)}makeElement(){const o=document.createElementNS("http://www.w3.org/2000/svg","path"),s=this.cssPath;if(o.style.d=s,o.style.d=="")throw console.error(s,o),new Error("wtf");return o}static needAnM(o,s){return!o||o.x!=s.x0||o.y!=s.y0}get rawPath(){return this.commands.flatMap((o,s)=>{const l=[],r=this.commands[s-1];return L.needAnM(r,o)&&l.push(`M ${o.x0},${o.y0}`),l.push(o.asString),l}).join(" ")}get cssPaths(){return this.splitOnMove().map(o=>o.cssPath)}get rawPaths(){return this.splitOnMove().map(o=>o.rawPath)}splitOnMove(){const o=[];let s=[];return this.commands.forEach(l=>{L.needAnM(s.at(-1),l)&&(s=[],o.push(s)),s.push(l)}),o.map(l=>new L(l))}static join(o){return new L(o.flatMap(({Δx:s,Δy:l,shape:r})=>r.translate(s,l).commands))}convertToCubics(){return new L(this.commands.map(o=>o.toCubic()))}translate(o,s){return new L(this.commands.map(l=>l.translate(o,s)))}static fixAngleRounding(o){return o+400-400}static toDegrees(o){return Math.round(o*at*100)/100}dump(){const o=this.commands.map((s,l)=>{const{x0:r,y0:a,x:m,y:p,incomingAngle:g,outgoingAngle:c,command:w}=s,x=this.commands[l-1],h=x===void 0?{}:{difference:L.toDegrees(ot(x.outgoingAngle,g))};return{x0:r,y0:a,x:m,y:p,incomingAngle:L.toDegrees(g),outgoingAngle:L.toDegrees(c),c:w,...h}});console.table(o)}}function pt(V,o){if(isNaN(V.slope)||isNaN(o.slope)||V.slope==o.slope)return;const s=Math.abs(V.slope)*100>Number.MAX_SAFE_INTEGER,l=Math.abs(o.slope)*100>Number.MAX_SAFE_INTEGER;if(!(s&&l))if(s||l){const r=s?V.x0:o.x0,a=s?o:V,m=a.slope*(r-a.x0)+a.y0;return{x:r,y:m}}else{const r=(o.y0-o.slope*o.x0-V.y0+V.slope*V.x0)/(V.slope-o.slope),a=V.slope*(r-V.x0)+V.y0;return{x:r,y:a}}}class dt{constructor(o,s=o/10){if(this.fontSize=o,this.strokeWidth=s,o<=0||!isFinite(o))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class lt{constructor(o,s,l){this.advance=s,this.fontMetrics=l,o instanceof L?this.#t=()=>o:this.#t=o}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(o=>({innerShape:o,element:o.makeElement()}))}}function Ht(V){function o(r){return r.length==1}let s="",l=[];return V.forEach((r,a)=>{o(a)?s+=a:l.push(r)}),{normal:s,special:l}}const tt=0,X=Math.PI/4,Y=2*X,ut=3*X,st=4*X,mt=5*X,z=6*X;function nt(V){const o=new Map;typeof V=="number"&&(V=new dt(V));const s=(t,n,e)=>{const i=new lt(n,e,V);if(o.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...o].at(-1)[0]}"`);o.set(t,i)},{aWidth:l,digitWidth:r,capitalTop:a,capitalTopMiddle:m,capitalMiddle:p,capitalBottomMiddle:g,baseline:c,descender:w,strokeWidth:x}=V,h=0,b=x/3;{const t=r*.9,n=t/2,e=t/2,i=e*Math.SQRT1_2,d=u.M(h,a+e);d.arc(n,a+e,n+i,a+e+i,"cw"),d.Q_angles(n,g,Y),d.M(n,c-b),d.L(n,c),s("?",d.pathShape,t)}{const t=r*7/8,n=t/2,e=t,i=t/2,d=V.mHeight/8,M=a-d,H=c+d;if(H-M<i*4)throw new Error("wtf");const f=(M+H)/2,_=u.M(e,M).arc(e,M+i,n,M+i,"ccw").L(n,f-i).arc(h,f-i,h,f,"cw").arc(h,f+i,n,f+i,"cw").L(n,H-i).arc(e,H-i,e,H,"ccw").pathShape;s("{",_,t);const Q=u.M(h,M).arc(h,M+i,n,M+i,"cw").L(n,f-i).arc(e,f-i,e,f,"ccw").arc(e,f+i,n,f+i,"ccw").L(n,H-i).arc(h,H-i,h,H,"cw").pathShape;s("}",Q,t)}{const t=r,e=t/2,i=t;{const d=(w-c)*2,M=w,H=M-d,f=a-d/4,_=f+d;if(d<=0||M<=H||H<=_||_<=f)throw new Error("wtf");const Q=r*.5;{const v=u.M(Q,f).Q_HV(0,_).V(H).Q_VH(Q,M).pathShape;s("(",v,Q)}{const v=r*.5,y=u.M(0,f).Q_HV(v,_).V(H).Q_VH(0,M).pathShape;s(")",y,v)}{const v=u.M(Q,f).H(0).V(M).H(Q).pathShape;s("[",v,Q)}{const v=u.M(0,f).H(Q).V(M).H(0).pathShape;s("]",v,Q)}}{const d=r*.75,M=d/2,H=u.M(M,p-M).V(p+M).M(h,p).H(d).pathShape;s("+",H,d)}{const d=r*.75,M=u.M(h,p).H(d).pathShape;s("-",M,d)}{const d=r/2*.9,M=5,H=-Math.PI/2,f=(a+c)/2,_=0,Q=K(M,S=>{const F=S*(Math.PI*2)/M+H,B=D(_,F),q=D(d,F);return[B,q]}),v=Q.flat(),y=Math.min(...v.map(({x:S})=>S));v.forEach(S=>{S.x-=y,S.y+=f});const $=Q.map(([S,F])=>new A(S.x,S.y,F.x,F.y)),E=new L($),C=Math.max(...v.map(({x:S})=>S));s("*",E,C)}{const d=r*.75,M=u.M(h,p-x*1.25).H(d).M(h,p+x*1.25).H(d).pathShape;s("=",M,d)}{const d=r*1.25,M=c+x,H=u.M(0,M).H(d).pathShape;s("_",H,d)}{const d=r/2,M=3*d,H=d/3,f=a,_=f+d,Q=_+d,v=Q+d,y=u.M(d+H,f).L(d-H,v).M(2*d+H,f).L(2*d-H,v).M(0,_).H(M).M(0,Q).H(M).pathShape;s("#",y,M)}{const d=r/2,M=3*d,H=0,f=d,_=M/2,Q=2*d,v=M,y=a+(V.mHeight-M)/2,$=y+f,E=y+_,C=y+Q,S=y+v,F=u.M(Q,E).Q_VH(_,$).Q_HV(f,E).Q_VH(_,C).Q_HV(Q,E).Q_VH((Q+v)/2,C).Q_HV(v,E).V(($+E)/2).Q_VH(_,y).Q_HV(H,E).Q_VH(_,S).H((Q+v)/2).pathShape;s("@",F,M)}{const d=u.M(e,a).Q(i,a,i,m).L(i,g).Q(i,c,e,c).Q(h,c,h,g).L(h,m).Q(h,a,e,a).M(i,m).L(h,g).pathShape;s("0",d,t)}{const d=u.M(h,m).Q(e,m,e,a).L(e,c).M(h,c).L(i,c).pathShape;s("1",d,t)}{const d=u.M(h,m).Q_VH(e,a).Q_HV(i,m).Q_VH(e,p).Q_HV(h,c).L(i,c).pathShape;s("2",d,t)}{const d=u.M(h,m).Q_VH(e,a).Q_HV(i,m).Q_VH(e,p).Q_HV(i,g).Q_VH(e,c).Q_HV(h,g).pathShape;s("3",d,t)}{const d=(e+i)/2,M=(e+h)/2,H=u.M(i,p).L(h,p).L(M,a).M(d,a).L(d,c).pathShape;s("4",H,t)}{const d=h+r/5,M=i-r/5,H=(p+g)/2,f=u.M(M,a).L(d,a).L(h,p).Q_VH(e,m).Q_HV(i,H).Q_VH(e,c).Q_HV(h,g).pathShape;s("5",f,t)}{const d=u.M(i,a).Q_HV(h,g).Q_VH(e,c).Q_HV(i,g).Q_VH(e,p).Q_HV(h,g).pathShape;s("6",d,t)}{const d=u.M(h,a).L(i,a).L(h,c).pathShape;s("7",d,t)}{const d=u.M(e,a).Q(i,a,i,m).Q(i,p,e,p).Q(h,p,h,g).Q(h,c,e,c).Q(i,c,i,g).Q(i,p,e,p).Q(h,p,h,m).Q(h,a,e,a).pathShape;s("8",d,t)}{const d=u.M(i,m).Q(i,a,e,a).Q(h,a,h,m).Q(h,p,e,p).Q(i,p,i,m).Q(i,c,h,c).pathShape;s("9",d,t)}}{const t=u.M(h,c).L(l/2,a).L(V.aWidth,c).M(V.aWidth/4,p).L(V.aWidth*.75,p).pathShape;s("A",t,l)}{const t=r,n=m-a;if(n<=0)throw new Error("wtf");const e=(t-n)*(2/3),i=c-g;if(i<=0)throw new Error("wtf");const d=t-i,M=u.M(h,c).L(h,a).L(e,a).Q_HV(e+n,a+n).Q(e+n,p,e,p).L(h,p).M(Math.max(d,e),p).Q_HV(d+i,c-i).Q_VH(d,c).L(h,c).pathShape;s("B",M,t)}{const t=r,e=t/2,i=t,d=u.M(i,m).Q(i,a,e,a).Q(h,a,h,m).L(h,g).Q(h,c,e,c).Q(i,c,i,g).pathShape;s("C",d,t)}{const t=r,e=t/2,i=t,d=u.M(h,a).L(h,c).L(e,c).Q(i,c,i,g).L(i,m).Q(i,a,e,a).L(h,a).pathShape;s("D",d,t)}{const t=r,n=t*(2/3),e=t,i=u.M(e,a).L(h,a).L(h,c).L(e,c).M(n,p).L(h,p).pathShape;s("E",i,t)}{const t=r,n=t*(2/3),e=t,i=u.M(e,a).L(h,a).L(h,c).M(n,p).L(h,p).pathShape;s("F",i,t)}{const t=r,e=t/2,i=t,d=u.M(i,m).Q(i,a,e,a).Q(h,a,h,m).L(h,g).Q(h,c,e,c).Q(i,c,i,g).L(i,p).L(e,p).pathShape;s("G",d,t)}{const t=r,n=t,e=u.M(h,a).L(h,c).M(n,a).L(n,c).M(h,p).L(n,p).pathShape;s("H",e,t)}{const t=V.mHeight/3,n=t/2,e=t,i=u.M(h,a).L(e,a).M(h,c).L(e,c).M(n,a).L(n,c).pathShape;s("I",i,t)}{const t=r*.85,e=t/2,i=t,d=u.M(i,a).L(i,g).Q(i,c,e,c).Q(h,c,h,g).pathShape;s("J",d,t)}{const t=r+x,n=(a+c)/2,e=u.M(h,a).L(h,c).M(t,a).L(h+.5,n).L(t,c).pathShape;s("K",e,t)}{const t=r,n=u.M(h,a).L(h,c).L(t,c).pathShape;s("L",n,t)}{const t=r*1.5,n=t/2,e=u.M(h,c).L(h,a).L(n,p).L(t,a).L(t,c).pathShape;s("M",e,t)}{const t=r*1.2,n=u.M(h,c).L(h,a).L(t,c).L(t,a).pathShape;s("N",n,t)}{const t=r*1.5,n=t/2,e=(a+c)/2,i=u.M(n,a).Q_HV(t,e).Q_VH(n,c).Q_HV(h,e).Q_VH(n,a).pathShape;s("O",i,t)}{const t=r,n=p-m;if(n<=0)throw new Error("wtf");const e=t-n,i=u.M(h,a).L(h,c).M(h,a).L(e,a).Q_HV(t,m).Q_VH(e,p).L(h,p).pathShape;s("P",i,t)}{const t=r*1.5,n=t/2,e=(a+c)/2,i=u.M(n,a).Q_HV(t,e).Q_VH(n,c).Q_HV(h,e).Q_VH(n,a).M(t-n*.75,c-n*.75).L(t+n/6,c+n/6).pathShape;s("Q",i,t)}{const t=r,n=p-m;if(n<=0)throw new Error("wtf");const e=t-n,i=u.M(h,a).L(h,c).M(h,a).L(e,a).Q_HV(t,m).Q_VH(e,p).L(h,p).M(e,p).L(t,c).pathShape;s("R",i,t)}{const t=r,n=r/2,e=r,i=u.M(e,m).Q_VH(n,a).Q_HV(h,m).Q_VH(n,p).Q_HV(e,g).Q_VH(n,c).Q_HV(h,g).pathShape;s("S",i,t)}{const n=r+x,e=n/2,i=n,d=V.mHeight/8,M=u.M(i,m).Q_VH(e,a).Q_HV(h,m).Q_VH(e,p).Q_HV(i,g).Q_VH(e,c).Q_HV(h,g).M(e,a-d).V(c+d).pathShape;s("$",M,n)}{const t=r,n=t/2,e=u.M(n,a).L(n,c).M(t,a).L(h,a).pathShape;s("T",e,t)}{const t=(g+p)/2,n=Math.abs(t-c)*.85,e=n*2,i=u.M(h,a).V(t).Q_VH(n,c).Q_HV(e,t).V(a).pathShape;s("U",i,e)}{const t=l,n=t/2,e=u.M(h,a).L(n,c).L(t,a).pathShape;s("V",e,t)}{const t=l*1.5,n=t/3,e=t/2,i=n*2,d=u.M(h,a).L(n,c).L(e,p).L(i,c).L(t,a).pathShape;s("W",d,t)}{const t=r,n=u.M(t,a).L(h,c).M(h,a).L(t,c).pathShape;s("X",n,t)}{const t=x,n=r+t,e=u.M(n,a).L(t,c).M(h,a).L(n/2,p).pathShape;s("Y",e,n)}{const t=r,n=u.M(h,a).H(t).L(h,c).H(t).pathShape;s("Z",n,t)}{const t=r/4,n=r*1.2,e=u.M(t*2,a+t).Q_VH(t,a).Q_HV(0,a+t).Q_VH(t,a+t*2).Q_HV(t*2,a+t),d=e.pathShape.translate(n-t*2,V.mHeight-t*2);e.addCommands(d.commands),e.M(n,a).L(h,c);const M=e.pathShape;s("%",M,n)}{const t=r,n=u.M(t,a).L(h,c).pathShape;s("/",n,t)}{const t=r,n=u.M(h,a).L(t,c).pathShape;s("\\",n,t)}{const t=r,n=x/2,e=t+n,i=t/2,d=u.M(i,p).Q_HV(h,g).Q_VH(i,c).Q_HV(t,g).Q_VH(i,p).M(e,p).L(e,c).pathShape;s("a",d,e)}{const t=r,n=x/2,e=t+n,i=n,d=n+t/2,M=e,H=u.M(h,a).V(c).M(i,g).Q_VH(d,c).Q_HV(M,g).Q_VH(d,p).Q_HV(i,g).pathShape;s("b",H,e)}{const t=r*.875,n=0,e=r/2,i=t,d=(p+g)/2,M=(g+c)/2,H=u.M(i,d).Q_VH(e,p).Q_HV(n,g).Q_VH(e,c).Q_HV(i,M).pathShape;s("c",H,t)}{const t=r,n=x/2,e=t+n,i=t/2,d=u.M(i,p).Q_HV(h,g).Q_VH(i,c).Q_HV(t,g).Q_VH(i,p).M(e,a).L(e,c).pathShape;s("d",d,e)}const T=r/8;{const t=r,n=r/2,e=t,i=e-T,d=u.M(h,g).H(e).Q_VH(n,p).Q_HV(h,g).Q_VH(n,c).H(i).pathShape;s("e",d,t)}{const t=r*.75,n=t/2,e=t,i=u.M(e,a).Q_HV(n,m).V(c).M(e,p).H(h).pathShape;s("f",i,t)}{const t=r,n=x/2,e=t+n,i=t/2,d=u.M(i,p).Q_HV(h,g).Q_VH(i,c).Q_HV(t,g).Q_VH(i,p).M(e,p).V(c).Q_VH(i,w).H(h+T).pathShape;s("g",d,e)}{const t=r*.85,n=t/2,e=u.M(h,a).V(c).Q_VH(n,p).Q_HV(t,g).V(c).pathShape;s("h",e,t)}{const n=u.M(h,p).V(c).M(h,m).V(m-b).pathShape;s("i",n,0)}{const t=Math.abs(c-w),n=t/2,e=u.M(t,p).V(c).Q_VH(n,w).Q_HV(h,c).M(t,m).V(m-b).pathShape;s("j",e,t)}{const n=u.M(h,c).V(c-b).pathShape;s(".",n,0)}{const n=u.M(h,a).V(g).M(h,c).V(c-b).pathShape;s("!",n,0)}{const n=(w-c)/2,e=n/2,i=u.M(h,c-b).V(c).Q_VH(-e,c+n).pathShape;s(",",i,0)}{const e=(w-c)/2+b,i=new L([new A(h,a,h,a+e)]);s("'",i,0)}{const n=(w-c)/2+b,e=n,i=n,d=new L([new A(h,a,i,a+n)]);s("`",d,e)}{const n=(w-c)/2+b,e=n,i=n*2,d=i,M=a,H=a+n,f=u.M(h,H).L(e,M).L(d,H).pathShape;s("^",f,i)}{const t=x*2,e=(w-c)/2+b,i=new L([new A(h,a,h,a+e),new A(t,a,t,a+e)]);s('"',i,t)}{const n=p,e=u.M(h,c).V(c-b).M(h,n-b).V(n).pathShape;s(":",e,0)}{const n=new L([new A(h,a,h,c)]);s("|",n,0)}{const n=p,e=(w-c)/2,i=e/2,d=u.M(h,c-b).V(c).Q_VH(-i,c+e).M(h,n-b).V(n).pathShape;s(";",d,0)}{const t=V.xHeight*2/3,n=r/10,e=t+n,i=u.M(h,a).V(c).M(t,p).L(h,p+t).M(t/2,c-t).L(e,c).pathShape;s("k",i,e)}{const n=u.M(h,a).V(c).pathShape;s("l",n,0)}{const t=r*1.5,n=t/4,e=t/2,i=t*3/4,d=t,M=u.M(h,p).V(c).Q_VH(n,p).Q_HV(e,g).V(c).M(e,g).Q_VH(i,p).Q_HV(d,g).V(c).pathShape;s("m",M,t)}{const t=r*.85,n=t/2,e=u.M(h,p).V(c).Q_VH(n,p).Q_HV(t,g).V(c).pathShape;s("n",e,t)}{const t=r,n=0,e=t/2,i=t,d=u.M(e,p).Q_HV(i,g).Q_VH(e,c).Q_HV(n,g).Q_VH(e,p).pathShape;s("o",d,t)}{const t=r,n=x/2,e=t+n,i=n,d=n+t/2,M=e,H=u.M(h,p).V(w).M(i,g).Q_VH(d,p).Q_HV(M,g).Q_VH(d,c).Q_HV(i,g).pathShape;s("p",H,e)}{const t=r,n=t/2,e=t+x/2,i=Math.abs(c-w),d=e+i/2,M=e+i,H=u.M(n,p).Q_HV(h,g).Q_VH(n,c).Q_HV(t,g).Q_VH(n,p).M(e,p).V(c).Q_VH(d,w).Q_HV(M,c).pathShape;s("q",H,M)}{const t=r,n=t/2,e=u.M(h,p).V(c).Q_VH(n,p).Q_HV(t,g).pathShape;s("r",e,t)}{const t=V.xHeight*2/3,n=t/2,e=c,i=g,d=p,M=(e+i)/2,H=(i+d)/2,f=(H+d)/2,_=(e+M)/2,Q=u.M(t,f).Q_VH(n,d).Q_HV(h,H).Q_VH(n,i).Q_HV(t,M).Q_VH(n,e).Q_HV(h,_).pathShape;s("s",Q,t)}{const t=r*.75,n=t/2,e=t,i=u.M(n,m).V(g).Q_VH(e,c).M(e,p).H(h).pathShape;s("t",i,t)}{const t=r*.85,n=t/2,e=u.M(h,p).V(g).Q_VH(n,c).Q_HV(t,p).L(t,c).pathShape;s("u",e,t)}{const t=r,n=t/2,e=u.M(h,p).L(n,c).L(t,p).pathShape;s("v",e,t)}{const t=V.xHeight*1.5,n=t/3,e=t/2,i=n*2,d=u.M(h,p).L(n,c).L(e,g).L(i,c).L(t,p).pathShape;s("w",d,t)}{const t=r,n=u.M(t,p).L(h,c).M(h,p).L(t,c).pathShape;s("x",n,t)}{const t=r,n=t/2,e=(p+w)/2,i=u.M(t,p).L(h,w).M(h,p).L(n,e).pathShape;s("y",i,t)}{const t=r,n=u.M(h,p).H(t).L(h,c).H(t).pathShape;s("z",n,t)}{const t=r/2,n=t/2,e=u.M(n,a).circle(n,a+n,"cw").pathShape;s("°",e,t)}{const t=-a,n=t/2,e=u.M(n,a).circle(n,a+n,"cw").pathShape;s("◯",e,t)}{const t=-a,n=t/2,e=a/2,i=u.M(0,e).arc(n,e,t,e,"cw").pathShape;s("◠",i,t)}{const t=-a,n=t/2,e=a/2,i=u.M(0,e).arc(n,e,t,e,"ccw").pathShape;s("◡",i,t)}{const t=-a,n=t/4,e=a+n,i=u.M(n*2,e).arc(n*3,e,t,e,"cw").Q_angles(n*2,c,ut,Y).Q_angles(0,e,z,mt).arc(n,e,n*2,e,"cw").pathShape;s("♡",i,t)}{const t=V.mHeight,n=t/4,e=n;{const i=t,d=(a+c)/2,M=u.M(e,d-n).L(0,d).L(e,d+n).M(0,d).L(i,d).M(i-e,d-n).L(i,d).L(i-e,d+n);s("↔",M.pathShape,i);const H=new L(M.commands.slice(0,3));s("←",H,i);const f=new L(M.commands.slice(2,5));s("→",f,i)}{const d=n,M=n*2,H=M,f=u.M(0,a+e).L(d,a).L(H,a+e).M(d,a).L(d,c).M(0,c-e).L(d,c).L(H,c-e);s("↕",f.pathShape,M);const _=new L(f.commands.slice(0,3));s("↑",_,M);const Q=new L(f.commands.slice(2,5));s("↓",Q,M)}}{const t=V.mHeight,n=0,e=t/2,i=t,d=a,M=c,H=(d+M)/2,f=Math.PI/16,_=u.M(e,d).Q_angles(i,H,tt+f,Y-f).Q_angles(e,M,Y+f,tt-f).Q_angles(n,H,st+f,z-f).Q_angles(e,d,z+f,st-f).pathShape;s("✧",_,t)}{let t=function(Q,v){const y=Q.maxY-Q.minY,E=(v.bottom-v.top)/y,S=(Q.maxX-Q.minX)*E,F=0,B=S,q=U(Q.minX,F,Q.maxX,B),et=U(Q.minY,v.top,Q.maxY,v.bottom);return{x:q,y:et,advance:B}},n=function(){const Q={x:1/0,y:1/0},v={x:-1/0,y:-1/0};M.forEach(C=>{["x","y"].forEach(S=>{Q[S]=Math.min(Q[S],C[S]),v[S]=Math.max(v[S],C[S])})});const y={minX:Q.x,maxX:v.x,minY:Q.y,maxY:v.y},E=t(y,{top:a,bottom:c});return M.forEach(C=>{C.x=E.x(C.x),C.y=E.y(C.y)}),E};const d=z,M=K(5,Q=>{const v=d+Q*(2*Math.PI)*2/5;return D(1,v)}),H=n(),f=M.map((Q,v,y)=>{const $=y.at(v+1-y.length);return new A(Q.x,Q.y,$.x,$.y)});s("☆",new L(f),H.advance);const _=M.map((Q,v,y)=>{const $=y.at(v+1-y.length),E=Math.atan2($.y-Q.y,$.x-Q.x),C=.175;return O.angles(Q.x,Q.y,E+C,$.x,$.y,E-C)});s("⭒",new L(_),H.advance)}return new Map([...o.entries()].sort(([t],[n])=>t<n?-1:t==n?1:0))}class j{restart(o=5,s=this.lineHeight){this.leftMargin=o,this.x=o,this.baseline=s}leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=nt(5);getDescription(o){return this.font.get(o)}static join(o){return new L(o.flatMap(s=>s.description.shape.translate(s.x,s.baseline).commands))}displayText(o,s){return o.map(l=>{const r=l.description.shape,a=r.makeElement();return s.appendChild(a),a.style.transform=`translate(${l.x}px,${l.baseline}px)`,{...l,shape:r,element:a}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(o){const s=new Set,l=[];for(;;){const r=j.WORD_BREAK.exec(o);if(!r)break;const a=r[1];if(o=r[2],a[0]==`
`)this.carriageReturn(),this.lineFeed(a.length*4/3);else if(a[0]==" ")this.addSpace(a.length);else{let m=0;const p=0,g=[...a].flatMap(c=>{const w=this.getDescription(c);if(w){const x=w.advance+w.fontMetrics.defaultKerning,h={char:c,x:m,width:x,baseline:p,description:w};return m+=x,h}else return s.add(c),[]});this.x+m>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),g.forEach(c=>{c.x+=this.x,c.baseline=this.baseline,l.push(c)}),this.x+=m}}return s.size>0&&console.warn(s),l}addSpace(o=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*o}static textToShape(o,s){const l=new j;l.font=s;const r=l.addText(o),a=j.join(r),m=l.x;return{shape:a,advance:m}}}class Qt{constructor(o){this.element=o}leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=nt(5);getDescription(o){return this.font.get(o)}makeRoom(o){this.x+o.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(o){this.x+=o.advance+o.fontMetrics.defaultKerning}moveToCursor(o){o.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(o,s){return this.x+s>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),this.element.appendChild(o),o.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=s,this}show1(o){this.makeRoom(o);const s=o.makeElement();this.element.appendChild(s);const{x:l,baseline:r}=this;return this.moveToCursor(s),this.advance(o),{element:s,x:l,baseline:r}}splitAndShow1(o){this.makeRoom(o);const s=o.makeElements();return s.forEach(({element:l})=>{this.element.appendChild(l),this.moveToCursor(l)}),this.advance(o),s}show(o){const s=new Set,l=[...o].flatMap(r=>{const a=this.getDescription(r);return a?{...this.show1(a),description:a,char:r}:r==" "?(this.showSpace(),[]):(s.add(r),[])});return s.size>0&&console.warn(s),l}splitAndShow(o){const s=new Set,l=[...o].flatMap(r=>{const a=this.getDescription(r);return a?this.splitAndShow1(a):r==" "?(this.showSpace(),[]):(s.add(r),[])});return s.size>0&&console.warn(s),l}showSpace(o=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*o,this}}export{lt as D,dt as F,L as P,O as Q,j as T,Qt as W,Ht as d,nt as m};
