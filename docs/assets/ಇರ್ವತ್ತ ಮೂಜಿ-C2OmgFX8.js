import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as M}from"./client-misc-ZHNZ3-cL.js";import{b,c as J,s as K,g as W,t as $,h as L}from"./fourier-shared-GIP1qG5r.js";import{p as X,P as G}from"./path-shape-n6EbRjvk.js";import{m as x}from"./misc-wGF4FraP.js";import{d as T,g as Y}from"./utility-D2jUDy1w.js";const k=M.getById("scaled",SVGGElement),V=M.getById("reference",SVGPathElement),ee=M.getById("samples",SVGPathElement);function D(s,m){if(s>=m)throw new Error("wtf");const F=x.makeLinear(s,0,m,1);function w(S){if(S<=s)return 0;if(S>=m)return 1;const r=F(S);return Y(r)}return w}function te(s){V.setAttribute("d",s.pathString);const m=X(V.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),F=m.a;k.style.transform=m.toString(),k.style.setProperty("--path-scale",F.toString());const w=J(s.pathString,s.numberOfFourierSamples);let S="";w.forEach(([e,n])=>{S+=`M${e},${n}l0,0`}),ee.setAttribute("d",S);const r=K(w),C=W({addTime:4900,pauseTime:100,maxGroupsToDisplay:s.maxGroupsToDisplay,terms:r}),I=e=>8*Math.max(...r.slice(0,e).map(t=>t.frequency))+7,z=C.map(e=>{if(e.addingCircles==0){const n=$(r,e.usingCircles),t=I(e.usingCircles),i=G.parametric(n,t);return()=>i.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&r[0].frequency==0){let n=function(l){return`${d.x*l},${d.y*l}`};const{startTime:t,endTime:i}=e,o=i-t,u=o*.25,g=o*.5,a=D(t+u,t+u+g),c=D(i-g,i),d=L(r[0]);return l=>{const y=c(l),f=n(y),p=a(l),h=n(p);return`M ${f} L ${h}`}}else{const t=.2/Math.max(...r.slice(0,e.usingCircles+e.addingCircles).map(a=>a.frequency)),i=x.makeBoundedLinear(e.startTime,-t,e.endTime,1+t),o=$(r,e.usingCircles),u=$(r,e.addingCircles,e.usingCircles);let g=I(e.usingCircles+e.addingCircles);if(e.usingCircles==0||e.usingCircles==1&&L(r[0])){const a=L(r[0])??{x:0,y:0};return c=>{const d=i(c),l=d-t,y=d+t,f=D(l,y),p=Math.min(1,y);if(p<=0)return`$M${a.x},${a.y} L${a.x},${a.y}`;{let h=function(A){A=A*p;const E=o(A),v=1-f(A);if(v==0)return E;{const _=u(A);return{x:E.x+v*_.x,y:E.y+v*_.y}}};const P=Math.ceil(Math.max(g,150)*p);return G.parametric(h,P).rawPath}}}else return a=>{const c=i(a),d=D(c-t,c+t);function l(f){const p=o(f),h=1-d(f);if(h==0)return p;{const P=u(f);return{x:p.x+h*P.x,y:p.y+h*P.y}}}return G.parametric(l,g).rawPath}}}),Q=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,O=e=>{e<0&&(e=0);let n=Q(e);const[,t,i]=/^([0-9]+)\.([0-9]+)$/.exec(n);switch(t.length){case 3:break;case 2:{n=x.FIGURE_SPACE+n;break}case 1:{n=x.FIGURE_SPACE+x.FIGURE_SPACE+n;break}default:throw console.warn({beforeDecimalPoint:t,afterDecimalPoint:i,result:n}),new Error("wtf")}return n+"%"},Z=C.map(e=>({usingAmplitude:O(e.usingAmplitude),addingAmplitude:O(e.addingAmplitude),availableAmplitude:O(e.availableAmplitude)})),q=T("[data-using] [data-circles]",HTMLTableCellElement),H=T("[data-using] [data-amplitude]",HTMLTableCellElement),B=T("[data-adding] [data-circles]",HTMLTableCellElement),N=T("[data-adding] [data-amplitude]",HTMLTableCellElement),R=T("[data-available] [data-circles]",HTMLTableCellElement),U=T("[data-available] [data-amplitude]",HTMLTableCellElement);function j(e){function n(){const a=C.findIndex(({endTime:c})=>e<c);return a==-1?C.length-1:a}const t=n(),i=a=>`${a.toString().padStart(4,x.FIGURE_SPACE)}`,o=C[t];q.innerText=i(o.usingCircles),B.innerText=i(o.addingCircles),R.innerText=i(o.availableCircles),[{value:o.usingCircles,element1:q,element2:H},{value:o.addingCircles,element1:B,element2:N},{value:o.availableCircles,element1:R,element2:U}].forEach(({value:a,element1:c,element2:d})=>{const l=a==0?"0.5":"";c.style.opacity=l,d.style.opacity=l});const u=Z[t];H.innerText=u.usingAmplitude,N.innerText=u.addingAmplitude,U.innerText=u.availableAmplitude;const g=G.cssifyPath(z[t](e));k.style.setProperty("--d",g)}window.showFrame=j}const ne=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,numberOfFourierSamples:1024,pathString:b.likeShareAndSubscribe,minGoodCircles:10}],["hilbert0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.hilbert[1],minGoodCircles:13}],["hilbert4",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.hilbert[4]}],["p0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.peanocurve[2]}]]);te(ne.get("likeShareAndSubscribe"));setTimeout(()=>{let s=NaN;new M.AnimationLoop(m=>{isNaN(s)&&(s=m);const F=m-s;window.showFrame(F)})},1);
