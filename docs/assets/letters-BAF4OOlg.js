import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as P,g as dt,i as lt,m as pt,s as at}from"./client-misc-DyzYuCZn.js";/* empty css              */import{b as K,l as X}from"./utility-BJJSsp0G.js";import{a as ut}from"./rough.esm-C_8OcXYf.js";class r{constructor(l,e,L,h){this.segmentStartX=l,this.segmentStartY=e,this.endX=L,this.endY=h,K(l,e,L,h)}get rawPath(){return[...this].map(l=>l.asString).join(" ")}static fromStrings(l){let e=l.join(" ");const L=[];let h;for(;e=e.replace(/^ */,""),e!="";){let a=mt.exec(e);if(a){const f=P(a[1]),d=P(a[2]);if(f===void 0||d===void 0)throw console.error(a,f,d,this),new Error("wtf");h&&L.push(h),h=this.M(f,d),e=a[3];continue}if(h){if(a=gt.exec(e),a){const f=P(a[1]),d=P(a[2]),w=P(a[3]),o=P(a[4]);if(f===void 0||d===void 0||w===void 0||o===void 0)throw console.error(a,f,d,w,o,this),new Error("wtf");h=h.Q(f,d,w,o),e=a[5];continue}if(a=wt.exec(e),a){const f=P(a[1]),d=P(a[2]),w=P(a[3]),o=P(a[4]),S=P(a[5]),b=P(a[6]);if(f===void 0||d===void 0||w===void 0||o===void 0||S===void 0||b===void 0)throw console.error(a,f,d,w,o,S,b,this),new Error("wtf");h=h.C(f,d,w,o,S,b),e=a[7];continue}}throw console.error(e),new Error("wtf")}return h&&L.push(h),L}static M(l,e){return new Z(l,e)}H(l){return new J(this,l)}V(l){return new tt(this,l)}L(l,e){return new et(this,l,e)}Q(l,e,L,h){return new nt(this,l,e,L,h)}Q_HV(l,e){return this.Q(l,this.endY,l,e)}Q_VH(l,e){return this.Q(this.endX,e,l,e)}C(l,e,L,h,a,f){return new B(this,l,e,L,h,a,f)}}class Z extends r{*[Symbol.iterator](){yield this}translate(l,e){return new Z(this.endX+l,this.endY+e)}toCubic(){return this}asString;constructor(l,e){super(l,e,l,e),this.asString=`M ${l},${e}`}}class U extends r{constructor(l,e,L){super(l.segmentStartX,l.segmentStartY,e,L),this.previous=l}*[Symbol.iterator](){yield*this.previous,yield this}get commandStartX(){return this.previous.endX}get commandStartY(){return this.previous.endY}}class J extends U{translate(l,e){return new J(this.previous.translate(l,e),this.endX+l)}toCubic(){return new B(this.previous.toCubic(),X(this.commandStartX,this.endX,1/3),this.commandStartY,X(this.commandStartX,this.endX,2/3),this.commandStartY,this.endX,this.commandStartY)}asString;constructor(l,e){super(l,e,l.endY),this.asString=`H ${e}`}}class tt extends U{translate(l,e){return new tt(this.previous.translate(l,e),this.endY+e)}toCubic(){return new B(this.previous.toCubic(),this.commandStartX,X(this.commandStartY,this.endY,1/3),this.commandStartX,X(this.commandStartY,this.endY,2/3),this.commandStartX,this.endY)}asString;constructor(l,e){super(l,l.endX,e),this.asString=`V ${e}`}}class et extends U{translate(l,e){return new et(this.previous.translate(l,e),this.endX+l,this.endY+e)}toCubic(){return new B(this.previous.toCubic(),X(this.commandStartX,this.endX,1/3),X(this.commandStartY,this.endY,1/3),X(this.commandStartX,this.endX,2/3),X(this.commandStartY,this.endY,2/3),this.endX,this.endY)}asString;constructor(l,e,L){super(l,e,L),this.asString=`L ${e},${L}`}}class nt extends U{constructor(l,e,L,h,a){K(e,L),super(l,h,a),this.x1=e,this.y1=L,this.asString=`Q ${e},${L} ${h},${a}`}translate(l,e){return new nt(this.previous.translate(l,e),this.x1+l,this.y1+e,this.endX+l,this.endY+e)}toCubic(){return new B(this.previous.toCubic(),X(this.commandStartX,this.x1,2/3),X(this.commandStartY,this.y1,2/3),X(this.endX,this.x1,2/3),X(this.endY,this.y1,2/3),this.endX,this.endY)}asString}class B extends U{constructor(l,e,L,h,a,f,d){K(e,h,L,a),super(l,f,d),this.x1=e,this.y1=L,this.x2=h,this.y2=a,this.x3=f,this.y3=d,this.asString=`C ${e},${L} ${h},${a} ${f},${d}`}translate(l,e){return new B(this.previous.translate(l,e),this.x1+l,this.y1+e,this.x2+l,this.y2+e,this.x3+l,this.y3+e)}toCubic(){const l=this.previous.toCubic();return l==this.previous?this:new B(l,this.x1,this.y1,this.x2,this.y2,this.x3,this.y3)}asString}const st=" *",W="(-?[0-9]+.?[0-9]*)",A=" *[, ] *",mt=new RegExp(`^M${st}${W}${A}${W}(.*)$`),gt=new RegExp(`^Q${st}${W}${A}${W}${A}${W}${A}${W}(.*)$`),wt=new RegExp(`^C${st}${W}${A}${W}${A}${W}${A}${W}${A}${W}${A}${W}(.*)$`);class m{matchForMorph(l){}segments;get endX(){return this.segments.at(-1)?.endX}get endY(){return this.segments.at(-1)?.endY}get startX(){return this.segments.at(0)?.segmentStartX}get startY(){return this.segments.at(0)?.segmentStartY}static fromStrings(l){const e=r.fromStrings(l);return new this(e)}constructor(l){this.segments=[...l]}static cssifyPath(l){return`path('${l}')`}get cssPath(){return m.cssifyPath(this.rawPath)}makeElement(){const l=document.createElementNS("http://www.w3.org/2000/svg","path"),e=this.cssPath;if(l.style.d=e,l.style.d=="")throw console.error(e,l),new Error("wtf");return l}get rawPath(){return this.segments.map(l=>l.rawPath).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){return[...this.segments].map(l=>new m([l]))}static join(l){return new m(l.flatMap(({Δx:e,Δy:L,shape:h})=>h.translate(e,L).segments))}convertToCubics(){return new m(this.segments.map(l=>l.toCubic()))}translate(l,e){return new m(this.segments.map(L=>L.translate(l,e)))}}class ct{constructor(l,e=l/10){if(this.fontSize=l,this.strokeWidth=e,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class ot{constructor(l,e,L){this.advance=e,this.fontMetrics=L,l instanceof m?this.#t=()=>l:this.#t=l}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:l.makeElement()}))}}function N(y){const l=new Map;typeof y=="number"&&(y=new ct(y));const e=(t,s,n)=>{const i=new ot(s,n,y);if(l.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...l].at(-1)[0]}"`);l.set(t,i)},{aWidth:L,digitWidth:h,capitalTop:a,capitalTopMiddle:f,capitalMiddle:d,capitalBottomMiddle:w,baseline:o,descender:S,strokeWidth:b}=y,c=0;{const t=h,n=t/2,i=t;{const p=(S-o)*2,H=S,_=H-p,$=a-p/4,V=$+p;if(p<=0||H<=_||_<=V||V<=$)throw new Error("wtf");const u=h*.5;{const g=new m([r.M(u,$).Q_HV(0,V).V(_).Q_VH(u,H)]);e("(",g,u)}{const g=h*.5,Q=new m([r.M(0,$).Q_HV(g,V).V(_).Q_VH(0,H)]);e(")",Q,g)}{const g=new m([r.M(u,$).H(0).V(H).H(u)]);e("[",g,u)}{const g=new m([r.M(0,$).H(u).V(H).H(0)]);e("]",g,u)}}{const p=h*.75,H=p/2,_=new m([r.M(H,d-H).V(d+H),r.M(c,d).H(p)]);e("+",_,p)}{const p=h*.75,H=new m([r.M(c,d).H(p)]);e("-",H,p)}{const p=h*.75,H=new m([r.M(c,d-b*1.25).H(p),r.M(c,d+b*1.25).H(p)]);e("=",H,p)}{const p=h*1.25,H=o+b,_=new m([r.M(0,H).H(p)]);e("_",_,p)}{const p=h/2,H=3*p,_=p/3,$=a,V=$+p,u=V+p,g=u+p,Q=new m([r.M(p+_,$).L(p-_,g),r.M(2*p+_,$).L(2*p-_,g),r.M(0,V).H(H),r.M(0,u).H(H)]);e("#",Q,H)}{const p=new m([r.M(n,a).Q(i,a,i,f).L(i,w).Q(i,o,n,o).Q(c,o,c,w).L(c,f).Q(c,a,n,a),r.M(i,f).L(c,w)]);e("0",p,t)}{const p=new m([r.M(c,f).Q(n,f,n,a).L(n,o),r.M(c,o).L(i,o)]);e("1",p,t)}{const p=new m([r.M(c,f).Q_VH(n,a).Q_HV(i,f).Q_VH(n,d).Q_HV(c,o).L(i,o)]);e("2",p,t)}{const p=new m([r.M(c,f).Q_VH(n,a).Q_HV(i,f).Q_VH(n,d).Q_HV(i,w).Q_VH(n,o).Q_HV(c,w)]);e("3",p,t)}{const p=(n+i)/2,H=(n+c)/2,_=new m([r.M(i,d).L(c,d).L(H,a),r.M(p,a).L(p,o)]);e("4",_,t)}{const p=c+h/5,H=i-h/5,_=(d+w)/2,$=new m([r.M(H,a).L(p,a).L(c,d).Q_VH(n,f).Q_HV(i,_).Q_VH(n,o).Q_HV(c,w)]);e("5",$,t)}{const p=new m([r.M(i,a).Q_HV(c,w).Q_VH(n,o).Q_HV(i,w).Q_VH(n,d).Q_HV(c,w)]);e("6",p,t)}{const p=new m([r.M(c,a).L(i,a).L(c,o)]);e("7",p,t)}{const p=new m([r.M(n,a).Q(i,a,i,f).Q(i,d,n,d).Q(c,d,c,w).Q(c,o,n,o).Q(i,o,i,w).Q(i,d,n,d).Q(c,d,c,f).Q(c,a,n,a)]);e("8",p,t)}{const p=new m([r.M(i,f).Q(i,a,n,a).Q(c,a,c,f).Q(c,d,n,d).Q(i,d,i,f).Q(i,o,c,o)]);e("9",p,t)}}{const t=new m([r.M(c,o).L(L/2,a).L(y.aWidth,o),r.M(y.aWidth/4,d).L(y.aWidth*.75,d)]);e("A",t,L)}{const t=h,s=f-a;if(s<=0)throw new Error("wtf");const n=(t-s)*(2/3),i=o-w;if(i<=0)throw new Error("wtf");const p=t-i,H=new m([r.M(c,a).L(c,o).L(p,o),r.M(Math.max(p,n),d).L(c,d),r.M(c,a).L(n,a).Q(n+s,a,n+s,a+s).Q(n+s,d,n,d),r.M(p,d).Q(p+i,d,p+i,o-i).Q(p+i,o,p,o)]);e("B",H,t)}{const t=h,n=t/2,i=t,p=new m([r.M(i,f).Q(i,a,n,a).Q(c,a,c,f).L(c,w).Q(c,o,n,o).Q(i,o,i,w)]);e("C",p,t)}{const t=h,n=t/2,i=t,p=new m([r.M(c,a).L(c,o).L(n,o).Q(i,o,i,w).L(i,f).Q(i,a,n,a).L(c,a)]);e("D",p,t)}{const t=h,s=t*(2/3),n=t,i=new m([r.M(n,a).L(c,a).L(c,o).L(n,o),r.M(s,d).L(c,d)]);e("E",i,t)}{const t=h,s=t*(2/3),n=t,i=new m([r.M(n,a).L(c,a).L(c,o),r.M(s,d).L(c,d)]);e("F",i,t)}{const t=h,n=t/2,i=t,p=new m([r.M(i,f).Q(i,a,n,a).Q(c,a,c,f).L(c,w).Q(c,o,n,o).Q(i,o,i,w).L(i,d).L(n,d)]);e("G",p,t)}{const t=h,s=t,n=new m([r.M(c,a).L(c,o),r.M(s,a).L(s,o),r.M(c,d).L(s,d)]);e("H",n,t)}{const t=y.mHeight/3,s=t/2,n=t,i=new m([r.M(c,a).L(n,a),r.M(c,o).L(n,o),r.M(s,a).L(s,o)]);e("I",i,t)}{const t=h*.85,n=t/2,i=t,p=new m([r.M(i,a).L(i,w).Q(i,o,n,o).Q(c,o,c,w)]);e("J",p,t)}{const t=h+b,s=(a+o)/2,n=new m([r.M(c,a).L(c,o),r.M(t,a).L(c+.5,s).L(t,o)]);e("K",n,t)}{const t=h,s=new m([r.M(c,a).L(c,o).L(t,o)]);e("L",s,t)}{const t=h*1.5,s=t/2,n=new m([r.M(c,o).L(c,a).L(s,d).L(t,a).L(t,o)]);e("M",n,t)}{const t=h*1.2,s=new m([r.M(c,o).L(c,a).L(t,o).L(t,a)]);e("N",s,t)}{const t=h*1.5,s=t/2,n=(a+o)/2,i=new m([r.M(s,a).Q_HV(t,n).Q_VH(s,o).Q_HV(c,n).Q_VH(s,a)]);e("O",i,t)}{const t=h,s=d-f;if(s<=0)throw new Error("wtf");const n=t-s,i=new m([r.M(c,a).L(c,o),r.M(c,a).L(n,a).Q_HV(t,f).Q_VH(n,d).L(c,d)]);e("P",i,t)}{const t=h*1.5,s=t/2,n=(a+o)/2,i=new m([r.M(s,a).Q_HV(t,n).Q_VH(s,o).Q_HV(c,n).Q_VH(s,a),r.M(t-s*.75,o-s*.75).L(t+s/6,o+s/6)]);e("Q",i,t)}{const t=h,s=d-f;if(s<=0)throw new Error("wtf");const n=t-s,i=new m([r.M(c,a).L(c,o),r.M(c,a).L(n,a).Q_HV(t,f).Q_VH(n,d).L(c,d),r.M(n,d).L(t,o)]);e("R",i,t)}{const t=h,s=h/2,n=h,i=new m([r.M(n,f).Q_VH(s,a).Q_HV(c,f).Q_VH(s,d).Q_HV(n,w).Q_VH(s,o).Q_HV(c,w)]);e("S",i,t)}{const s=h+b,n=s/2,i=s,p=y.mHeight/8,H=new m([r.M(i,f).Q_VH(n,a).Q_HV(c,f).Q_VH(n,d).Q_HV(i,w).Q_VH(n,o).Q_HV(c,w),r.M(n,a-p).V(o+p)]);e("$",H,s)}{const t=h,s=t/2,n=new m([r.M(s,a).L(s,o),r.M(t,a).L(c,a)]);e("T",n,t)}{const t=(w+d)/2,s=Math.abs(t-o)*.85,n=s*2,i=new m([r.M(c,a).V(t).Q_VH(s,o).Q_HV(n,t).V(a)]);e("U",i,n)}{const t=L,s=t/2,n=new m([r.M(c,a).L(s,o).L(t,a)]);e("V",n,t)}{const t=L*1.5,s=t/3,n=t/2,i=s*2,p=new m([r.M(c,a).L(s,o).L(n,d).L(i,o).L(t,a)]);e("W",p,t)}{const t=h,s=new m([r.M(t,a).L(c,o),r.M(c,a).L(t,o)]);e("X",s,t)}{const t=b,s=h+t,n=new m([r.M(s,a).L(t,o),r.M(c,a).L(s/2,d)]);e("Y",n,s)}{const t=h,s=new m([r.M(c,a).H(t).L(c,o).H(t)]);e("Z",s,t)}{const t=h,s=new m([r.M(t,a).L(c,o)]);e("/",s,t)}{const t=h,s=new m([r.M(c,a).L(t,o)]);e("\\",s,t)}{const t=h,s=b/2,n=t+s,i=t/2,p=new m([r.M(i,d).Q_HV(c,w).Q_VH(i,o).Q_HV(t,w).Q_VH(i,d),r.M(n,d).L(n,o)]);e("a",p,n)}{const t=h,s=b/2,n=t+s,i=s,p=s+t/2,H=n,_=new m([r.M(c,a).V(o),r.M(i,w).Q_VH(p,o).Q_HV(H,w).Q_VH(p,d).Q_HV(i,w)]);e("b",_,n)}{const t=h*.875,s=0,n=h/2,i=t,p=(d+w)/2,H=(w+o)/2,_=new m([r.M(i,p).Q_VH(n,d).Q_HV(s,w).Q_VH(n,o).Q_HV(i,H)]);e("c",_,t)}{const t=h,s=b/2,n=t+s,i=t/2,p=new m([r.M(i,d).Q_HV(c,w).Q_VH(i,o).Q_HV(t,w).Q_VH(i,d),r.M(n,a).L(n,o)]);e("d",p,n)}const z=h/8;{const t=h,s=h/2,n=t,i=n-z,p=new m([r.M(c,w).H(n).Q_VH(s,d).Q_HV(c,w).Q_VH(s,o).H(i)]);e("e",p,t)}{const t=h*.75,s=t/2,n=t,i=new m([r.M(n,a).Q_HV(s,f).V(o),r.M(n,d).H(c)]);e("f",i,t)}{const t=h,s=b/2,n=t+s,i=t/2,p=new m([r.M(i,d).Q_HV(c,w).Q_VH(i,o).Q_HV(t,w).Q_VH(i,d),r.M(n,d).V(o).Q_VH(i,S).H(c+z)]);e("g",p,n)}{const t=h*.85,s=t/2,n=new m([r.M(c,a).V(o).Q_VH(s,d).Q_HV(t,w).V(o)]);e("h",n,t)}const T=b/4;{const s=new m([r.M(c,d).V(o),r.M(c,f).V(f-T)]);e("i",s,0)}{const t=Math.abs(o-S),s=t/2,n=new m([r.M(t,d).V(o).Q_VH(s,S).Q_HV(c,o),r.M(t,f).V(f-T)]);e("j",n,t)}{const s=new m([r.M(c,o).V(o-T)]);e(".",s,0)}{const s=new m([r.M(c,a).V(w),r.M(c,o).V(o-T)]);e("!",s,0)}{const s=(S-o)/2,n=s/2,i=new m([r.M(c,o-T).V(o).Q_VH(-n,o+s)]);e(",",i,0)}{const s=d,n=new m([r.M(c,o).V(o-T),r.M(c,s-T).V(s)]);e(":",n,0)}{const s=d,n=(S-o)/2,i=n/2,p=new m([r.M(c,o-T).V(o).Q_VH(-i,o+n),r.M(c,s-T).V(s)]);e(";",p,0)}{const t=y.xHeight*2/3,s=h/10,n=t+s,i=new m([r.M(c,a).V(o),r.M(t,d).L(c,d+t),r.M(t/2,o-t).L(n,o)]);e("k",i,n)}{const s=new m([r.M(c,a).V(o)]);e("l",s,0)}{const t=h*1.5,s=t/4,n=t/2,i=t*3/4,p=t,H=new m([r.M(c,d).V(o).Q_VH(s,d).Q_HV(n,w).V(o),r.M(n,w).Q_VH(i,d).Q_HV(p,w).V(o)]);e("m",H,t)}{const t=h*.85,s=t/2,n=new m([r.M(c,d).V(o).Q_VH(s,d).Q_HV(t,w).V(o)]);e("n",n,t)}{const t=h,s=0,n=t/2,i=t,p=new m([r.M(n,d).Q_HV(i,w).Q_VH(n,o).Q_HV(s,w).Q_VH(n,d)]);e("o",p,t)}{const t=h,s=b/2,n=t+s,i=s,p=s+t/2,H=n,_=new m([r.M(c,d).V(S),r.M(i,w).Q_VH(p,d).Q_HV(H,w).Q_VH(p,o).Q_HV(i,w)]);e("p",_,n)}{const t=h,s=t/2,n=t+b/2,i=Math.abs(o-S),p=n+i/2,H=n+i,_=new m([r.M(s,d).Q_HV(c,w).Q_VH(s,o).Q_HV(t,w).Q_VH(s,d),r.M(n,d).V(o).Q_VH(p,S).Q_HV(H,o)]);e("q",_,H)}{const t=h,s=t/2,n=new m([r.M(c,d).V(o).Q_VH(s,d).Q_HV(t,w)]);e("r",n,t)}{const t=y.xHeight*2/3,s=t/2,n=o,i=w,p=d,H=(n+i)/2,_=(i+p)/2,$=(_+p)/2,V=(n+H)/2,u=new m([r.M(t,$).Q_VH(s,p).Q_HV(c,_).Q_VH(s,i).Q_HV(t,H).Q_VH(s,n).Q_HV(c,V)]);e("s",u,t)}{const t=h*.75,s=t/2,n=t,i=new m([r.M(s,f).V(w).Q_VH(n,o),r.M(n,d).H(c)]);e("t",i,t)}{const t=h*.85,s=t/2,n=new m([r.M(c,d).V(w).Q_VH(s,o).Q_HV(t,d).L(t,o)]);e("u",n,t)}{const t=h,s=t/2,n=new m([r.M(c,d).L(s,o).L(t,d)]);e("v",n,t)}{const t=y.xHeight*1.5,s=t/3,n=t/2,i=s*2,p=new m([r.M(c,d).L(s,o).L(n,w).L(i,o).L(t,d)]);e("w",p,t)}{const t=h,s=new m([r.M(t,d).L(c,o),r.M(c,d).L(t,o)]);e("x",s,t)}{const t=h,s=t/2,n=(d+S)/2,i=new m([r.M(t,d).L(c,S),r.M(c,d).L(s,n)]);e("y",i,t)}{const t=h,s=new m([r.M(c,d).H(t).L(c,o).H(t)]);e("z",s,t)}return new Map([...l.entries()].sort(([t],[s])=>t<s?-1:t==s?1:0))}const j=dt("main",SVGSVGElement);function ft(y){const l=new Map;return y.forEach((e,L)=>{const{advance:h,fontMetrics:a}=e,f=e.shape.convertToCubics(),d=new ot(f,h,a);l.set(L,d)}),l}function Mt(y,l=y*.75){const e=N(y);return N(l).forEach((h,a)=>{const f=a.toLowerCase();f!=a&&e.set(f,h)}),e}function q(y,l){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},L=ut.generator({options:{...e,...l}}),h=new Map;return y.forEach((a,f)=>{const d=()=>{const o=L.path(a.d),b=L.toPaths(o).map(c=>c.d);return m.fromStrings(b)},w=new ot(d,a.advance,a.fontMetrics);h.set(f,w)}),h}{let y=function(V){return V.length==1},l=function(V){let g=1/0,Q=-1/0;V.forEach(k=>{const{description:R,baseline:C}=k,{fontMetrics:D}=R;g=Math.min(g,D.top+C),Q=Math.max(Q,D.bottom+C)});const M=g-1,x=Q+1,v=document.createElementNS("http://www.w3.org/2000/svg","rect");return v.x.baseVal.value=0,v.y.baseVal.value=M,v.width.baseVal.value=100,v.height.baseVal.value=x-M,j.insertBefore(v,V[0].element),v};class e{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(u=1){this.baseline+=this.lineHeight*u}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=N(5);getDescription(u){return this.font.get(u)}static join(u){return new m(u.flatMap(g=>g.description.shape.translate(g.x,g.baseline).segments))}displayText(u){return u.map(g=>{const Q=g.description.shape,M=Q.makeElement();return j.appendChild(M),M.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...g,shape:Q,element:M}})}static wordBreak=/^( +|[^ ]+)(.*)/;addText(u){const g=new Set,Q=[];for(;;){const M=e.wordBreak.exec(u);if(!M)break;const x=M[1];if(u=M[2],x[0]==" ")this.addSpace(x.length);else{let v=0;const k=0,R=[...x].flatMap(C=>{const D=this.getDescription(C);if(D){const E=D.advance+D.fontMetrics.defaultKerning,F={x:v,width:E,baseline:k,description:D,char:C};return v+=E,F}else return g.add(C),[]});this.x+v>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),R.forEach(C=>{C.x+=this.x,C.baseline=this.baseline,Q.push(C)}),this.x+=v}}return g.size>0&&console.warn(g),Q}addSpace(u=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*u}}class L{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(u=1){this.baseline+=this.lineHeight*u}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=N(5);getDescription(u){return this.font.get(u)}makeRoom(u){this.x+u.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(u){this.x+=u.advance+u.fontMetrics.defaultKerning}moveToCursor(u){u.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(u,g){this.x+g>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),j.appendChild(u),u.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=g}show1(u){this.makeRoom(u);const g=u.makeElement();j.appendChild(g);const{x:Q,baseline:M}=this;return this.moveToCursor(g),this.advance(u),{element:g,x:Q,baseline:M}}splitAndShow1(u){this.makeRoom(u);const g=u.makeElements();return g.forEach(({element:Q})=>{j.appendChild(Q),this.moveToCursor(Q)}),this.advance(u),g}show(u){const g=new Set,Q=[...u].flatMap(M=>{const x=this.getDescription(M);return x?{...this.show1(x),description:x,char:M}:M==" "?(this.showSpace(),[]):(g.add(M),[])});return g.size>0&&console.warn(g),Q}splitAndShow(u){const g=new Set,Q=[...u].flatMap(M=>{const x=this.getDescription(M);return x?this.splitAndShow1(x):M==" "?(this.showSpace(),[]):(g.add(M),[])});return g.size>0&&console.warn(g),Q}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const h=new L;let a="";h.font.forEach((V,u)=>{y(u)&&(a+=u)}),h.show(a),h.CRLF();{const V=h.show(a);V.forEach(({element:u})=>{u.classList.add("lights")}),l(V).style.fill="black"}h.CRLF();const f=h.splitAndShow(a),d=V=>{if(V==0)return 0;const u=f[V].innerShape,g=f[V-1].innerShape,Q=Math.hypot(g.endX-u.startX,g.endY-u.startY);return K(Q),Q},{totalLength:w,maxLength:o}=f.reduce(({totalLength:V,maxLength:u},{element:g},Q)=>{const M=g.getTotalLength();return K(M),V+=d(Q)+M,u=Math.max(u,M),{totalLength:V,maxLength:u}},{totalLength:0,maxLength:0}),S=Math.ceil(o)+1,b=`0 ${S} ${S} 0`;async function c(){for(;;){let g=0,Q;f.forEach(({element:M},x)=>{const v=M.getTotalLength();g+=d(x);const k=1e3+g/w*2e4;g+=v;const R=v/w*2e4;Q=M.animate([{strokeDasharray:b,strokeDashoffset:1e-5},{strokeDasharray:b,strokeDashoffset:-v}],{delay:k,duration:R,fill:"backwards"})}),await Q.finished,await at(3e3)}}c(),h.CRLF(),h.font=Mt(5,3),h.show("Small  Caps"),h.lineHeight*=1.125;const z=N(new ct(6,.5)),T=ft(z),t=[{roughness:.4,title:"Heartbeat"},{roughness:.44,title:"Toggle (snap)"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"Do the Wave"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(V=>{const{roughness:u,title:g}=V;return h.font=q(T,{roughness:u}),h.CRLF(),h.show(`${Math.round(u*100)} ${g??"Rough Font"} [4XxYyZ]`)}),s=t[0],n=t[1],i=t[2],p=t[3],H=t[4],_=t[5],$=q(T,{roughness:0});l(H).style.fill="black",H.forEach(({element:V})=>{V.classList.add("lights")}),[H,_].forEach(V=>{V.forEach(u=>{function g(){return Math.random()+.5|0}const Q=3+g()+g()+g(),M=lt(Q,()=>({d:u.description.cssPath}));M.push(M[0]);const x=Q*1e4/3,v=x/8,k=Math.exp(X(Math.log(v),Math.log(x),Math.random()));u.element.animate(M,{duration:k,iterations:1/0})})}),n.forEach(V=>{const u=$.get(V.char).cssPath,g=V.element.style.d,Q=.03,M=[{offset:0,d:g},{offset:Q,d:u},{offset:.5,d:u},{offset:Q+.5,d:g},{offset:1,d:g}];V.element.animate(M,{duration:2e3,iterations:1/0})});{const M=p.length,x=M*3,v=5e3;p.forEach((k,R)=>{const C=$.get(k.char).cssPath,D=k.element.style.d,E=k.element.style.transform,F=E+" scale(1.32)",Y={d:C,transform:E},I={d:D,transform:F},O=[{offset:0,...Y},{offset:4/x,...I},{offset:6/x,...I},{offset:14/x,...Y},{offset:1,...Y}];k.element.animate(O,{duration:v,iterationStart:1-R/M,iterations:1/0})})}{const V=i;l(V).style.fill="hwb(190 10% 0% / 1)",V.forEach(u=>{const g=$.get(u.char).cssPath,Q=u.element.style.d,M=1/16,x=15/16,v=14e3,k=[{offset:0,strokeWidth:.5},{offset:M,strokeWidth:.5},{offset:x,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],R=[{offset:0,d:g},{offset:M,d:g,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:x,d:Q},{offset:1,d:Q}],C=[{offset:0,opacity:1},{offset:M,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:x,opacity:0},{offset:1,opacity:0}];u.element.animate(C,{duration:v,iterations:1/0}),u.element.animate(R,{duration:v,iterations:1/0}),u.element.animate(k,{duration:v,iterations:1/0}),u.element.style.stroke="white"})}s.forEach(V=>{const u=$.get(V.char).cssPath,g=V.element.style.d,Q=750,M="cubic-bezier(.55,0,1,.55)";V.element.animate([{offset:0,d:u,easing:M},{offset:.5,d:g,easing:M},{offset:1,d:u}],{duration:Q,iterations:1/0})});{h.CRLF();const V=.25,u=1.5,g="The more I drink the more I want to tell you what I really think about you.",Q=pt(0,V,g.length-1,u),M=[...g].flatMap((E,F)=>(h.font=q(T,{roughness:Q(F)}),h.splitAndShow(E))),x=E=>{if(E==0)return 0;const F=M[E].innerShape,Y=M[E-1].innerShape,I=Math.hypot(Y.endX-F.startX,Y.endY-F.startY);return K(I),I},{totalLength:v,maxLength:k}=M.reduce(({totalLength:E,maxLength:F},{element:Y},I)=>{const O=Y.getTotalLength();return E+=x(I)+O,F=Math.max(F,O),{totalLength:E,maxLength:F}},{totalLength:0,maxLength:0}),R=Math.ceil(k)+1,C=`0 ${R} ${R} 0`;async function D(){for(;;){let Y=0,I;M.forEach(({element:O},it)=>{const G=O.getTotalLength();Y+=x(it);const rt=1e3+Y/v*3e4;Y+=G;const ht=G/v*3e4;I=O.animate([{strokeDasharray:C,strokeDashoffset:1e-5},{strokeDasharray:C,strokeDashoffset:-G}],{delay:rt,duration:ht,fill:"backwards"})}),await I.finished,await at(3e3)}}D()}{let V=function(x){const v=new e;v.font=z;const k=v.addText(x),R=e.join(k),C=v.x;return{shape:R,advance:C}};h.font=z,h.CRLF();const u=V("Stop"),g=V("Go");h.CRLF();const Q=u.shape.makeElement();h.showAndAdvance(Q,u.advance),h.showSpace();const M=g.shape.makeElement();h.showAndAdvance(M,g.advance)}h.x>h.rightMargin&&h.CRLF(),j.viewBox.baseVal.height=h.baseline+h.font.get("0").fontMetrics.bottom}
