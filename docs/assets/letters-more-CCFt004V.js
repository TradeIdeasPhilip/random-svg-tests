import{m as P}from"./client-misc-CqK8Npau.js";import{P as R,Q as E,a as d,L as F}from"./path-shape-CZ8Qd9-L.js";class j{constructor(H,h=H/10){if(this.fontSize=H,this.strokeWidth=h,H<=0||!isFinite(H))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class q{constructor(H,h,_){this.advance=h,this.fontMetrics=_,H instanceof R?this.#t=()=>H:this.#t=H}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(H=>({innerShape:H,element:H.makeElement()}))}}function tt(S){function H(p){return p.length==1}let h="",_=[];return S.forEach((p,c)=>{H(c)?h+=c:_.push(p)}),{normal:h,special:_}}const D=0,T=Math.PI/4,A=2*T,G=3*T,$=4*T,J=5*T,I=6*T,Y=7*T;function K(S){const H=new Map;typeof S=="number"&&(S=new j(S));const h=(t,e,n)=>{const s=new q(e,n,S);if(H.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...H].at(-1)[0]}"`);H.set(t,s)},{aWidth:_,digitWidth:p,capitalTop:c,capitalTopMiddle:m,capitalMiddle:r,capitalBottomMiddle:Q,baseline:a,descender:w,strokeWidth:C}=S,o=0,W=C/3;{const t=S.mHeight,e=.5803571598560251*t,n=[];n.push(E.controlPoints(.5803571598560251*t,-.011904772996231272*t,.1993461912459357*t,-.4845653833822309*t,.15178572549774305*t,-.5833333559985097*t)),n.push(E.controlPoints(.15178572549774305*t,-.5833333559985097*t,.07142858010885174*t,-.7502096094253163*t,.07142858010885174*t,-.8809523915616125*t)),n.push(E.controlPoints(.07142858010885174*t,-.8809523915616125*t,.07142858010885174*t,-1*t,.18154763484090689*t,-1*t)),n.push(E.controlPoints(.18154763484090689*t,-1*t,.3125000278492327*t,-1*t,.3125000278492327*t,-.8809523857747589*t)),n.push(E.controlPoints(.3125000278492327*t,-.8809523857747589*t,.3125000278492327*t,-.795672021064033*t,.14880952935525849*t,-.5863095347804337*t)),n.push(E.controlPoints(.14880952935525849*t,-.5863095347804337*t,0*t,-.39598002063544424*t,0*t,-.23511904966855834*t)),n.push(E.controlPoints(0*t,-.23511904966855834*t,0*t,0*t,.16369048113341364*t,0*t)),n.push(E.controlPoints(.16369048113341364*t,0*t,.31699631330709954*t,0*t,.45535713019840074*t,-.4583333263408854*t)),h("&",new R(n),e)}{const t=p,e=t/2*Math.sqrt(3),n=(a+c)/2,s=n-t/2,i=s+t,l=0,M=e;h("<",new R([E.line4(M,s,l,n),E.line4(l,n,M,i)]),e),h(">",new R([E.line4(l,s,M,n),E.line4(M,n,l,i)]),e)}{const t=p*.9,e=t/2,n=t/2,s=n*Math.SQRT1_2,i=d.M(o,c+n);i.arc(e,c+n,e+s,c+n+s,"cw"),i.Q_angles(e,Q,A),i.M(e,a-W),i.L(e,a),h("?",i.pathShape,t)}{const t=p*7/8,e=t/2,n=t,s=t/2,i=S.mHeight/8,l=c-i,M=a+i;if(M-l<s*4)throw new Error("wtf");const V=(l+M)/2,L=d.M(n,l).arc(n,l+s,e,l+s,"ccw").L(e,V-s).arc(o,V-s,o,V,"cw").arc(o,V+s,e,V+s,"cw").L(e,M-s).arc(n,M-s,n,M,"ccw").pathShape;h("{",L,t);const g=d.M(o,l).arc(o,l+s,e,l+s,"cw").L(e,V-s).arc(n,V-s,n,V,"ccw").arc(n,V+s,e,V+s,"ccw").L(e,M-s).arc(o,M-s,o,M,"cw").pathShape;h("}",g,t)}{const t=p,n=t/2,s=t;{const i=(w-a)*2,l=w,M=l-i,V=c-i/4,L=V+i;if(i<=0||l<=M||M<=L||L<=V)throw new Error("wtf");const g=p*.5;{const u=d.M(g,V).Q_HV(0,L).V(M).Q_VH(g,l).pathShape;h("(",u,g)}{const u=p*.5,f=d.M(0,V).Q_HV(u,L).V(M).Q_VH(0,l).pathShape;h(")",f,u)}{const u=d.M(g,V).H(0).V(l).H(g).pathShape;h("[",u,g)}{const u=d.M(0,V).H(g).V(l).H(0).pathShape;h("]",u,g)}}{const i=p*.4,l=p*.3,M=o,V=M+i,L=V+l,g=L+l,u=g+i,f=u,y=p*.25,x=r,b=x-y,v=x+y,k=d.M(M,x).Q_angles(V,b,D,Y).Q_angles(L,x,(A+T)/2).Q_angles(g,v,D).Q_angles(u,x,Y).pathShape;h("~",k,f)}{const i=p*.75,l=i/2,M=d.M(l,r-l).V(r+l).M(o,r).H(i).pathShape;h("+",M,i)}{const i=p*.75,l=d.M(o,r).H(i).pathShape;h("-",l,i)}{const i=p/2*.9,l=5,M=-Math.PI/2,V=(c+a)/2,L=0,g=P.initializedArray(l,v=>{const k=v*(Math.PI*2)/l+M,B=P.polarToRectangular(L,k),X=P.polarToRectangular(i,k);return[B,X]}),u=g.flat(),f=Math.min(...u.map(({x:v})=>v));u.forEach(v=>{v.x-=f,v.y+=V});const y=g.map(([v,k])=>new F(v.x,v.y,k.x,k.y)),x=new R(y),b=Math.max(...u.map(({x:v})=>v));h("*",x,b)}{const i=p*.75,l=d.M(o,r-C*1.25).H(i).M(o,r+C*1.25).H(i).pathShape;h("=",l,i)}{const i=p*1.25,l=a+C,M=d.M(0,l).H(i).pathShape;h("_",M,i)}{const i=p/2,l=3*i,M=i/3,V=c,L=V+i,g=L+i,u=g+i,f=d.M(i+M,V).L(i-M,u).M(2*i+M,V).L(2*i-M,u).M(0,L).H(l).M(0,g).H(l).pathShape;h("#",f,l)}{const i=p/2,l=3*i,M=0,V=i,L=l/2,g=2*i,u=l,f=c+(S.mHeight-l)/2,y=f+V,x=f+L,b=f+g,v=f+u,k=d.M(g,x).Q_VH(L,y).Q_HV(V,x).Q_VH(L,b).Q_HV(g,x).Q_VH((g+u)/2,b).Q_HV(u,x).V((y+x)/2).Q_VH(L,f).Q_HV(M,x).Q_VH(L,v).H((g+u)/2).pathShape;h("@",k,l)}{const i=d.M(n,c).Q(s,c,s,m).L(s,Q).Q(s,a,n,a).Q(o,a,o,Q).L(o,m).Q(o,c,n,c).M(s,m).L(o,Q).pathShape;h("0",i,t)}{const i=d.M(o,m).Q(n,m,n,c).L(n,a).M(o,a).L(s,a).pathShape;h("1",i,t)}{const i=d.M(o,m).Q_VH(n,c).Q_HV(s,m).Q_VH(n,r).Q_HV(o,a).L(s,a).pathShape;h("2",i,t)}{const i=d.M(o,m).Q_VH(n,c).Q_HV(s,m).Q_VH(n,r).Q_HV(s,Q).Q_VH(n,a).Q_HV(o,Q).pathShape;h("3",i,t)}{const i=(n+s)/2,l=(n+o)/2,M=d.M(s,r).L(o,r).L(l,c).M(i,c).L(i,a).pathShape;h("4",M,t)}{const i=o+p/5,l=s-p/5,M=(r+Q)/2,V=d.M(l,c).L(i,c).L(o,r).Q_VH(n,m).Q_HV(s,M).Q_VH(n,a).Q_HV(o,Q).pathShape;h("5",V,t)}{const i=d.M(s,c).Q_HV(o,Q).Q_VH(n,a).Q_HV(s,Q).Q_VH(n,r).Q_HV(o,Q).pathShape;h("6",i,t)}{const i=d.M(o,c).L(s,c).L(o,a).pathShape;h("7",i,t)}{const i=d.M(n,c).Q(s,c,s,m).Q(s,r,n,r).Q(o,r,o,Q).Q(o,a,n,a).Q(s,a,s,Q).Q(s,r,n,r).Q(o,r,o,m).Q(o,c,n,c).pathShape;h("8",i,t)}{const i=d.M(s,m).Q(s,c,n,c).Q(o,c,o,m).Q(o,r,n,r).Q(s,r,s,m).Q(s,a,o,a).pathShape;h("9",i,t)}}{const t=d.M(o,a).L(_/2,c).L(S.aWidth,a).M(S.aWidth/4,r).L(S.aWidth*.75,r).pathShape;h("A",t,_)}{const t=p,e=m-c;if(e<=0)throw new Error("wtf");const n=(t-e)*(2/3),s=a-Q;if(s<=0)throw new Error("wtf");const i=t-s,l=d.M(o,a).L(o,c).L(n,c).Q_HV(n+e,c+e).Q(n+e,r,n,r).L(o,r).M(Math.max(i,n),r).Q_HV(i+s,a-s).Q_VH(i,a).L(o,a).pathShape;h("B",l,t)}{const t=p,n=t/2,s=t,i=d.M(s,m).Q(s,c,n,c).Q(o,c,o,m).L(o,Q).Q(o,a,n,a).Q(s,a,s,Q).pathShape;h("C",i,t)}{const t=p,n=t/2,s=t,i=d.M(o,c).L(o,a).L(n,a).Q(s,a,s,Q).L(s,m).Q(s,c,n,c).L(o,c).pathShape;h("D",i,t)}{const t=p,e=t*(2/3),n=t,s=d.M(n,c).L(o,c).L(o,a).L(n,a).M(e,r).L(o,r).pathShape;h("E",s,t)}{const t=p,e=t*(2/3),n=t,s=d.M(n,c).L(o,c).L(o,a).M(e,r).L(o,r).pathShape;h("F",s,t)}{const t=p,n=t/2,s=t,i=d.M(s,m).Q(s,c,n,c).Q(o,c,o,m).L(o,Q).Q(o,a,n,a).Q(s,a,s,Q).L(s,r).L(n,r).pathShape;h("G",i,t)}{const t=p,e=t,n=d.M(o,c).L(o,a).M(e,c).L(e,a).M(o,r).L(e,r).pathShape;h("H",n,t)}{const t=S.mHeight/3,e=t/2,n=t,s=d.M(o,c).L(n,c).M(o,a).L(n,a).M(e,c).L(e,a).pathShape;h("I",s,t)}{const t=p*.85,n=t/2,s=t,i=d.M(s,c).L(s,Q).Q(s,a,n,a).Q(o,a,o,Q).pathShape;h("J",i,t)}{const t=p+C,e=(c+a)/2,n=d.M(o,c).L(o,a).M(t,c).L(o+.5,e).L(t,a).pathShape;h("K",n,t)}{const t=p,e=d.M(o,c).L(o,a).L(t,a).pathShape;h("L",e,t)}{const t=p*1.5,e=t/2,n=d.M(o,a).L(o,c).L(e,r).L(t,c).L(t,a).pathShape;h("M",n,t)}{const t=p*1.2,e=d.M(o,a).L(o,c).L(t,a).L(t,c).pathShape;h("N",e,t)}{const t=p*1.5,e=t/2,n=(c+a)/2,s=d.M(e,c).Q_HV(t,n).Q_VH(e,a).Q_HV(o,n).Q_VH(e,c).pathShape;h("O",s,t)}{const t=p,e=r-m;if(e<=0)throw new Error("wtf");const n=t-e,s=d.M(o,c).L(o,a).M(o,c).L(n,c).Q_HV(t,m).Q_VH(n,r).L(o,r).pathShape;h("P",s,t)}{const t=p*1.5,e=t/2,n=(c+a)/2,s=d.M(e,c).Q_HV(t,n).Q_VH(e,a).Q_HV(o,n).Q_VH(e,c).M(t-e*.75,a-e*.75).L(t+e/6,a+e/6).pathShape;h("Q",s,t)}{const t=p,e=r-m;if(e<=0)throw new Error("wtf");const n=t-e,s=d.M(o,c).L(o,a).M(o,c).L(n,c).Q_HV(t,m).Q_VH(n,r).L(o,r).M(n,r).L(t,a).pathShape;h("R",s,t)}{const t=p,e=p/2,n=p,s=d.M(n,m).Q_VH(e,c).Q_HV(o,m).Q_VH(e,r).Q_HV(n,Q).Q_VH(e,a).Q_HV(o,Q).pathShape;h("S",s,t)}{const e=p+C,n=e/2,s=e,i=S.mHeight/8,l=d.M(s,m).Q_VH(n,c).Q_HV(o,m).Q_VH(n,r).Q_HV(s,Q).Q_VH(n,a).Q_HV(o,Q).M(n,c-i).V(a+i).pathShape;h("$",l,e)}{const t=p,e=t/2,n=d.M(e,c).L(e,a).M(t,c).L(o,c).pathShape;h("T",n,t)}{const t=(Q+r)/2,e=Math.abs(t-a)*.85,n=e*2,s=d.M(o,c).V(t).Q_VH(e,a).Q_HV(n,t).V(c).pathShape;h("U",s,n)}{const t=_,e=t/2,n=d.M(o,c).L(e,a).L(t,c).pathShape;h("V",n,t)}{const t=_*1.5,e=t/3,n=t/2,s=e*2,i=d.M(o,c).L(e,a).L(n,r).L(s,a).L(t,c).pathShape;h("W",i,t)}{const t=p,e=d.M(t,c).L(o,a).M(o,c).L(t,a).pathShape;h("X",e,t)}{const t=C,e=p+t,n=d.M(e,c).L(t,a).M(o,c).L(e/2,r).pathShape;h("Y",n,e)}{const t=p,e=d.M(o,c).H(t).L(o,a).H(t).pathShape;h("Z",e,t)}{const t=p/4,e=p*1.2,n=d.M(t*2,c+t).Q_VH(t,c).Q_HV(0,c+t).Q_VH(t,c+t*2).Q_HV(t*2,c+t),i=n.pathShape.translate(e-t*2,S.mHeight-t*2);n.addCommands(i.commands),n.M(e,c).L(o,a);const l=n.pathShape;h("%",l,e)}{const t=p,e=d.M(t,c).L(o,a).pathShape;h("/",e,t)}{const t=p,e=d.M(o,c).L(t,a).pathShape;h("\\",e,t)}{const t=p,e=t*.05,n=t+e,s=t/2,i=d.M(t,Q).Q_VH(s,r).Q_HV(o,Q).Q_VH(s,a).Q_HV(n,r).V(a).pathShape;h("a",i,n)}{const t=p,e=t*.05,n=t+e,s=e,i=e+t/2,l=n,M=d.M(s,Q).Q_VH(i,a).Q_HV(l,Q).Q_VH(i,r).Q_HV(o,a).V(c).pathShape;h("b",M,n)}{const t=p*.875,e=0,n=p/2,s=t,i=(r+Q)/2,l=(Q+a)/2,M=d.M(s,i).Q_VH(n,r).Q_HV(e,Q).Q_VH(n,a).Q_HV(s,l).pathShape;h("c",M,t)}{const t=p,e=t*.05,n=t+e,s=t/2,i=d.M(n,c).L(n,a).Q_VH(s,r).Q_HV(o,Q).Q_VH(s,a).Q_HV(t,Q).pathShape;h("d",i,n)}const z=p/8;{const t=p,e=p/2,n=t,s=n-z,i=d.M(o,Q).H(n).Q_VH(e,r).Q_HV(o,Q).Q_VH(e,a).H(s).pathShape;h("e",i,t)}{const t=p*.75,e=t/2,n=t,s=d.M(n,c).Q_HV(e,m).V(a).M(n,r).H(o).pathShape;h("f",s,t)}{const t=p,e=t*.05,n=t+e,s=t/2,i=d.M(t,Q).Q_VH(s,r).Q_HV(o,Q).Q_VH(s,a).Q_HV(n,r).V(a).Q_VH(s,w).H(o+z).pathShape;h("g",i,n)}{const t=p*.85,e=t/2,n=d.M(o,c).V(a).Q_VH(e,r).Q_HV(t,Q).V(a).pathShape;h("h",n,t)}{const e=d.M(o,r).V(a).M(o,m).V(m-W).pathShape;h("i",e,0)}{const t=Math.abs(a-w),e=t/2,n=d.M(t,r).V(a).Q_VH(e,w).Q_HV(o,a).M(t,m).V(m-W).pathShape;h("j",n,t)}{const e=d.M(o,a).V(a-W).pathShape;h(".",e,0)}{const e=d.M(o,c).V(Q).M(o,a).V(a-W).pathShape;h("!",e,0)}{const e=(w-a)/2,n=e/2,s=d.M(o,a-W).V(a).Q_VH(-n,a+e).pathShape;h(",",s,0)}{const n=(w-a)/2+W,s=new R([new F(o,c,o,c+n)]);h("'",s,0)}{const e=(w-a)/2+W,n=e,s=e,i=new R([new F(o,c,s,c+e)]);h("`",i,n)}{const e=(w-a)/2+W,n=e,s=e*2,i=s,l=c,M=c+e,V=d.M(o,M).L(n,l).L(i,M).pathShape;h("^",V,s)}{const t=C*2,n=(w-a)/2+W,s=new R([new F(o,c,o,c+n),new F(t,c,t,c+n)]);h('"',s,t)}{const e=r,n=d.M(o,a).V(a-W).M(o,e-W).V(e).pathShape;h(":",n,0)}{const e=new R([new F(o,c,o,a)]);h("|",e,0)}{const e=r,n=(w-a)/2,s=n/2,i=d.M(o,a-W).V(a).Q_VH(-s,a+n).M(o,e-W).V(e).pathShape;h(";",i,0)}{const t=S.xHeight*2/3,e=p/10,n=t+e,s=d.M(o,c).V(a).M(t,r).L(o,r+t).M(t/2,a-t).L(n,a).pathShape;h("k",s,n)}{const e=d.M(o,c).V(a).pathShape;h("l",e,0)}{const t=p*1.5,e=t/4,n=t/2,s=t*3/4,i=t,l=d.M(o,r).V(a).Q_VH(e,r).Q_HV(n,Q).V(a).M(n,Q).Q_VH(s,r).Q_HV(i,Q).V(a).pathShape;h("m",l,t)}{const t=p*.85,e=t/2,n=d.M(o,r).V(a).Q_VH(e,r).Q_HV(t,Q).V(a).pathShape;h("n",n,t)}{const t=p,e=0,n=t/2,s=t,i=d.M(n,r).Q_HV(s,Q).Q_VH(n,a).Q_HV(e,Q).Q_VH(n,r).pathShape;h("o",i,t)}{const t=p,e=p*.05,n=t+e,s=e,i=e+t/2,l=n,M=d.M(s,Q).Q_VH(i,r).Q_HV(l,Q).Q_VH(i,a).Q_HV(o,r).V(w).pathShape;h("p",M,n)}{const t=p,e=t/2,n=p*.05,s=t+n,i=Math.abs(a-w),l=s+i/2,M=s+i,V=d.M(t,Q).Q_VH(e,r).Q_HV(o,Q).Q_VH(e,a).Q_HV(s,r).V(a).Q_VH(l,w).Q_HV(M,a).pathShape;h("q",V,M)}{const t=p,e=t/2,n=d.M(o,r).V(a).Q_VH(e,r).Q_HV(t,Q).pathShape;h("r",n,t)}{const t=S.xHeight*2/3,e=t/2,n=a,s=Q,i=r,l=(n+s)/2,M=(s+i)/2,V=(M+i)/2,L=(n+l)/2,g=d.M(t,V).Q_VH(e,i).Q_HV(o,M).Q_VH(e,s).Q_HV(t,l).Q_VH(e,n).Q_HV(o,L).pathShape;h("s",g,t)}{const t=p*.75,e=t/2,n=t,s=d.M(e,m).V(Q).Q_VH(n,a).M(n,r).H(o).pathShape;h("t",s,t)}{const t=p*.85,e=t/2,n=d.M(o,r).V(Q).Q_VH(e,a).Q_HV(t,r).L(t,a).pathShape;h("u",n,t)}{const t=p,e=t/2,n=d.M(o,r).L(e,a).L(t,r).pathShape;h("v",n,t)}{const t=S.xHeight*1.5,e=t/3,n=t/2,s=e*2,i=d.M(o,r).L(e,a).L(n,Q).L(s,a).L(t,r).pathShape;h("w",i,t)}{const t=p,e=d.M(t,r).L(o,a).M(o,r).L(t,a).pathShape;h("x",e,t)}{const t=p,e=t/2,n=(r+w)/2,s=d.M(t,r).L(o,w).M(o,r).L(e,n).pathShape;h("y",s,t)}{const t=p,e=d.M(o,r).H(t).L(o,a).H(t).pathShape;h("z",e,t)}{const t=p/2,e=t/2,n=d.M(e,c).circle(e,c+e,"cw").pathShape;h("°",n,t)}{const t=-c,e=t/2,n=d.M(e,c).circle(e,c+e,"cw").pathShape;h("◯",n,t)}{const t=-c,e=t/2,n=c/2,s=d.M(0,n).arc(e,n,t,n,"cw").pathShape;h("◠",s,t)}{const t=-c,e=t/2,n=c/2,s=d.M(0,n).arc(e,n,t,n,"ccw").pathShape;h("◡",s,t)}{const t=-c,e=t/4,n=c+e,s=d.M(e*2,n).arc(e*3,n,t,n,"cw").Q_angles(e*2,a,G,A).Q_angles(0,n,I,J).arc(e,n,e*2,n,"cw").pathShape;h("♡",s,t)}{const t=S.mHeight,e=t/4,n=e;{const s=t,i=(c+a)/2,l=d.M(n,i-e).L(0,i).L(n,i+e).M(0,i).L(s,i).M(s-n,i-e).L(s,i).L(s-n,i+e);h("↔",l.pathShape,s);const M=new R(l.commands.slice(0,3));h("←",M,s);const V=new R(l.commands.slice(2,5));h("→",V,s)}{const i=e,l=e*2,M=l,V=d.M(0,c+n).L(i,c).L(M,c+n).M(i,c).L(i,a).M(0,a-n).L(i,a).L(M,a-n);h("↕",V.pathShape,l);const L=new R(V.commands.slice(0,3));h("↑",L,l);const g=new R(V.commands.slice(2,5));h("↓",g,l)}}{const t=S.mHeight,e=0,n=t/2,s=t,i=c,l=a,M=(i+l)/2,V=Math.PI/16,L=d.M(n,i).Q_angles(s,M,D+V,A-V).Q_angles(n,l,A+V,$-V).Q_angles(e,M,$+V,I-V).Q_angles(n,i,I+V,D-V).pathShape;h("✧",L,t)}{let t=function(g,u){const f=g.maxY-g.minY,x=(u.bottom-u.top)/f,v=(g.maxX-g.minX)*x,k=0,B=v,X=P.makeBoundedLinear(g.minX,k,g.maxX,B),N=P.makeBoundedLinear(g.minY,u.top,g.maxY,u.bottom);return{x:X,y:N,advance:B}},e=function(){const g={x:1/0,y:1/0},u={x:-1/0,y:-1/0};l.forEach(b=>{["x","y"].forEach(v=>{g[v]=Math.min(g[v],b[v]),u[v]=Math.max(u[v],b[v])})});const f={minX:g.x,maxX:u.x,minY:g.y,maxY:u.y},x=t(f,{top:c,bottom:a});return l.forEach(b=>{b.x=x.x(b.x),b.y=x.y(b.y)}),x};const i=I,l=P.initializedArray(5,g=>{const u=i+g*(2*Math.PI)*2/5;return P.polarToRectangular(1,u)}),M=e(),V=l.map((g,u,f)=>{const y=f.at(u+1-f.length);return new F(g.x,g.y,y.x,y.y)});h("☆",new R(V),M.advance);const L=l.map((g,u,f)=>{const y=f.at(u+1-f.length),x=Math.atan2(y.y-g.y,y.x-g.x),b=.175;return E.angles(g.x,g.y,x+b,y.x,y.y,x-b)});h("⭒",new R(L),M.advance)}return new Map([...H.entries()].sort(([t],[e])=>t<e?-1:t==e?1:0))}class O{restart(H=5,h=this.lineHeight){this.leftMargin=H,this.x=H,this.baseline=h}leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(H=1){this.baseline+=this.lineHeight*H}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=K(5);getDescription(H){return this.font.get(H)}static join(H){return new R(H.flatMap(h=>h.description.shape.translate(h.x,h.baseline).commands))}displayText(H,h){return H.map(_=>{const p=_.description.shape,c=p.makeElement();return h.appendChild(c),c.style.transform=`translate(${_.x}px,${_.baseline}px)`,{..._,shape:p,element:c}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(H){const h=new Set,_=[];for(;;){const p=O.WORD_BREAK.exec(H);if(!p)break;const c=p[1];if(H=p[2],c[0]==`
`)this.carriageReturn(),this.lineFeed(c.length*4/3);else if(c[0]==" ")this.addSpace(c.length);else{let m=0;const r=0,Q=[...c].flatMap(a=>{const w=this.getDescription(a);if(w){const C=w.advance+w.fontMetrics.defaultKerning,o={char:a,x:m,width:C,baseline:r,description:w};return m+=C,o}else return h.add(a),[]});this.x+m>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),Q.forEach(a=>{a.x+=this.x,a.baseline=this.baseline,_.push(a)}),this.x+=m}}return h.size>0&&console.warn(h),_}addSpace(H=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*H}static textToShape(H,h){const _=new O;_.font=h;const p=_.addText(H),c=O.join(p),m=_.x;return{shape:c,advance:m}}}class nt{constructor(H){this.element=H}leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(H=1){this.baseline+=this.lineHeight*H}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=K(5);getDescription(H){return this.font.get(H)}makeRoom(H){this.x+H.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(H){this.x+=H.advance+H.fontMetrics.defaultKerning}moveToCursor(H){H.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(H,h){return this.x+h>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),this.element.appendChild(H),H.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=h,this}show1(H){this.makeRoom(H);const h=H.makeElement();this.element.appendChild(h);const{x:_,baseline:p}=this;return this.moveToCursor(h),this.advance(H),{element:h,x:_,baseline:p}}splitAndShow1(H){this.makeRoom(H);const h=H.makeElements();return h.forEach(({element:_})=>{this.element.appendChild(_),this.moveToCursor(_)}),this.advance(H),h}show(H){const h=new Set,_=[...H].flatMap(p=>{const c=this.getDescription(p);return c?{...this.show1(c),description:c,char:p}:p==" "?(this.showSpace(),[]):(h.add(p),[])});return h.size>0&&console.warn(h),_}splitAndShow(H){const h=new Set,_=[...H].flatMap(p=>{const c=this.getDescription(p);return c?this.splitAndShow1(c):p==" "?(this.showSpace(),[]):(h.add(p),[])});return h.size>0&&console.warn(h),_}showSpace(H=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*H,this}}export{q as D,j as F,O as T,nt as W,tt as d,K as m};
