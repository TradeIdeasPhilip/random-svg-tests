var o={},E;function H(){return E||(E=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.countMap=i.Random=i.phi=i.radiansPerDegree=i.degreesPerRadian=i.FULL_CIRCLE=i.FIGURE_SPACE=i.NON_BREAKING_SPACE=i.MIN_DATE=i.MAX_DATE=i.csvStringToArray=void 0,i.assertClass=A,i.sleep=M,i.testXml=s,i.parseXml=L,i.followPath=c,i.getAttribute=S,i.parseFloatX=d,i.parseIntX=h,i.parseTimeT=F,i.pickAny=C,i.pick=_,i.take=R,i.filterMap=T,i.makePromise=N,i.dateIsValid=p,i.angleBetween=v,i.positiveModulo=f,i.rotateArray=P,i.rectUnion=m,i.rectAddPoint=y,i.dateToFileName=D,i.lerp=U,i.assertFinite=X,i.shuffleArray=$,i.zip=b,i.count=B,i.initializedArray=g,i.sum=O,i.makeLinear=G,i.makeBoundedLinear=j,i.polarToRectangular=q,i.permutations=w;function A(e,n,t="Assertion Failed."){const r=u=>{throw new Error(`${t}  Expected type:  ${n.name}.  Found type:  ${u}.`)};if(e===null)r("null");else if(typeof e!="object")r(typeof e);else if(!(e instanceof n))r(e.constructor.name);else return e;throw new Error("wtf")}function M(e){return new Promise(n=>{setTimeout(n,e)})}function s(e){const t=new DOMParser().parseFromString(e,"application/xml");for(const r of Array.from(t.querySelectorAll("parsererror")))if(r instanceof HTMLElement)return{error:r};return{parsed:t}}function L(e){if(e!==void 0)return s(e)?.parsed?.documentElement}function c(e,...n){for(const t of n){if(e===void 0)return;if(typeof t=="number")e=e.children[t];else{const r=e.getElementsByTagName(t);if(r.length!=1)return;e=r[0]}}return e}function S(e,n,...t){if(n=c(n,...t),n!==void 0&&n.hasAttribute(e))return n.getAttribute(e)??void 0}function d(e){if(e==null)return;const n=+e;if(isFinite(n))return n}function h(e){const n=d(e);if(n!==void 0)return n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER||n!=Math.floor(n)?void 0:n}function F(e){if(typeof e=="string"&&(e=h(e)),e!=null&&!(e<=0))return new Date(e*1e3)}const I=e=>{const n=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,t=[[]];let r;for(;r=n.exec(e);)r[1].length&&r[1]!==","&&t.push([]),t[t.length-1].push(r[2]!==void 0?r[2].replace(/""/g,'"'):r[3]);return t};i.csvStringToArray=I;function C(e){const n=e.values().next();if(!n.done)return n.value}function _(e){if(e.length==0)throw new Error("wtf");return e[Math.random()*e.length|0]}function R(e){if(e.length<1)throw new Error("wtf");const n=Math.random()*e.length|0;return e.splice(n,1)[0]}function T(e,n){const t=[];return e.forEach((r,u)=>{const a=n(r,u);a!==void 0&&t.push(a)}),t}function N(){let e,n;return{promise:new Promise((r,u)=>{e=r,n=u}),resolve:e,reject:n}}i.MAX_DATE=new Date(864e13),i.MIN_DATE=new Date(-864e13);function p(e){return isFinite(e.getTime())}i.NON_BREAKING_SPACE=" ",i.FIGURE_SPACE=" ",i.FULL_CIRCLE=2*Math.PI,i.degreesPerRadian=360/i.FULL_CIRCLE,i.radiansPerDegree=i.FULL_CIRCLE/360,i.phi=(1+Math.sqrt(5))/2;function v(e,n){const t=f(e,i.FULL_CIRCLE);let u=f(n,i.FULL_CIRCLE)-t;const a=i.FULL_CIRCLE/2;if(u>a?u-=i.FULL_CIRCLE:u<-a&&(u+=i.FULL_CIRCLE),Math.abs(u)>a)throw new Error("wtf");return u}function f(e,n){const t=e%n;return t<0?t+Math.abs(n):t}function P(e,n){if((n|0)!=n)throw new Error(`invalid input: ${n}`);return n=f(n,e.length),n==0?e:[...e.slice(n),...e.slice(0,n)]}class k{static sfc32(n,t,r,u){return function(){n|=0,t|=0,r|=0,u|=0;let a=(n+t|0)+u|0;return u=u+1|0,n=t^t>>>9,t=r+(r<<3)|0,r=r<<21|r>>>11,r=r+a|0,(a>>>0)/4294967296}}static#e=42;static create(n=this.newSeed()){console.info(n);const t=JSON.parse(n);if(!(t instanceof Array))throw new Error("invalid seed");if(t.length!=4)throw new Error("invalid seed");const[r,u,a,l]=t;if(!(typeof r=="number"&&typeof u=="number"&&typeof a=="number"&&typeof l=="number"))throw new Error("invalid seed");return this.sfc32(r,u,a,l)}static newSeed(){const n=[];return n.push(Date.now()),n.push(this.#e++),n.push(Math.random()*2**31|0),n.push(Math.random()*2**31|0),JSON.stringify(n)}}i.Random=k;function m(e,n){const t=Math.min(e.x,n.x),r=Math.min(e.y,n.y),u=Math.max(e.x+e.width,n.x+n.width),a=Math.max(e.y+e.height,n.y+n.height),l=u-t,z=a-r;return{x:t,y:r,width:l,height:z}}function y(e,n,t){return m(e,{x:n,y:t,width:0,height:0})}function D(e){return isNaN(e.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${e.getFullYear().toString().padStart(4,"0")}⸱${(e.getMonth()+1).toString().padStart(2,"0")}⸱${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}⦂${e.getMinutes().toString().padStart(2,"0")}⦂${e.getSeconds().toString().padStart(2,"0")}`}function U(e,n,t){return e+(n-e)*t}function X(...e){e.forEach(n=>{if(!isFinite(n))throw new Error("wtf")})}function $(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}return e}function*b(...e){const n=e.map(t=>t[Symbol.iterator]());for(;;){const t=n.map(r=>r.next());if(t.some(({done:r})=>r))break;yield t.map(({value:r})=>r)}}function*B(e=0,n=1/0,t=1){for(let r=e;r<n;r+=t)yield r}function g(e,n){const t=[];for(let r=0;r<e;r++)t.push(n(r));return t}i.countMap=g;function O(e){return e.reduce((n,t)=>n+t,0)}function G(e,n,t,r){const u=(r-n)/(t-e);return function(a){return(a-e)*u+n}}function j(e,n,t,r){t<e&&([e,n,t,r]=[t,r,e,n]);const u=(r-n)/(t-e);return function(a){return a<=e?n:a>=t?r:(a-e)*u+n}}function q(e,n){return{x:Math.cos(n)*e,y:Math.sin(n)*e}}function*w(e,n=[]){if(e.length==0)yield n;else for(let t=0;t<e.length;t++){const r=e[t],u=[...n,r],a=[...e.slice(0,t),...e.slice(t+1)];yield*w(a,u)}}}(o)),o}var J=H();export{J as m,H as r};
