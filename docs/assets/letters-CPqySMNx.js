import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as m,g as T,s as y}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as C}from"./utility-D2LlNOtt.js";import{a as O}from"./rough.esm-C_8OcXYf.js";function S(...L){L.forEach(l=>{if(!isFinite(l))throw new Error("wtf")})}const F=" *",b="(-?[0-9]+.?[0-9]*)",E=" *[, ] *",P=new RegExp(`^M${F}${b}${E}${b}(.*)$`),I=new RegExp(`^Q${F}${b}${E}${b}${E}${b}${E}${b}(.*)$`),D=new RegExp(`^C${F}${b}${E}${b}${E}${b}${E}${b}${E}${b}${E}${b}(.*)$`);class H{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(l,e){return new this().M(l,e)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...l){const e=new this;return l.forEach(p=>e.fromString(p)),e.checkInvariants(),e}fromString(l){for(;l=l.replace(/^ */,""),l!="";){let e=P.exec(l);if(e){const p=m(e[1]),d=m(e[2]);if(p===void 0||d===void 0)throw console.error(e,p,d,this),new Error("wtf");this.M(p,d),l=e[3];continue}if(e=I.exec(l),e){const p=m(e[1]),d=m(e[2]),i=m(e[3]),V=m(e[4]);if(p===void 0||d===void 0||i===void 0||V===void 0)throw console.error(e,p,d,i,V,this),new Error("wtf");this.Q(p,d,i,V),l=e[5];continue}if(e=D.exec(l),e){const p=m(e[1]),d=m(e[2]),i=m(e[3]),V=m(e[4]),r=m(e[5]),Q=m(e[6]);if(p===void 0||d===void 0||i===void 0||V===void 0||r===void 0||Q===void 0)throw console.error(e,p,d,i,V,r,Q,this),new Error("wtf");this.C(p,d,i,V,r,Q),l=e[7];continue}throw console.error(l),new Error("wtf")}return this}constructor(){}M(l,e){S(l,e);function p(i,V,r){i.M(l+V,e+r)}function d(i){i.M(l,e)}return this.#t.push({endX:l,endY:e,asString:`M ${l},${e}`,translate:p,toCubic:d}),this}H(l){S(l);function e(V,r,Q){V.H(l+r)}const p=this.endX,d=this.endY;function i(V){V.C(C(p,l,1/3),d,C(p,l,2/3),d,l,d)}return this.#t.push({endX:l,endY:d,asString:`H ${l}`,translate:e,toCubic:i}),this}V(l){S(l);function e(V,r,Q){V.V(l+Q)}const p=this.endX,d=this.endY;function i(V){V.C(p,C(d,l,1/3),p,C(d,l,2/3),p,l)}return this.#t.push({endX:this.endX,endY:l,asString:`V ${l}`,translate:e,toCubic:i}),this}L(l,e){S(l,e);function p(r,Q,o){r.L(l+Q,e+o)}const d=this.endX,i=this.endY;function V(r){r.C(C(d,l,1/3),C(i,e,1/3),C(d,l,2/3),C(i,e,2/3),l,e)}return this.#t.push({endX:l,endY:e,asString:`L ${l},${e}`,translate:p,toCubic:V}),this}Q(l,e,p,d){S(l,e,p,d);function i(o,_,f){o.Q(l+_,e+f,p+_,d+f)}const V=this.endX,r=this.endY;function Q(o){o.C(C(V,l,2/3),C(r,e,2/3),C(p,l,2/3),C(d,e,2/3),p,d)}return this.#t.push({endX:p,endY:d,asString:`Q ${l},${e} ${p},${d}`,translate:i,toCubic:Q}),this}Q_HV(l,e){return this.Q(l,this.endY,l,e)}Q_VH(l,e){return this.Q(this.endX,e,l,e)}C(l,e,p,d,i,V){S(l,e,p,d,i,V);function r(o,_,f){o.C(l+_,e+f,p+_,d+f,i+_,V+f)}function Q(o){o.C(l,e,p,d,i,V)}return this.#t.push({endX:i,endY:V,asString:`C ${l},${e} ${p},${d} ${i},${V}`,translate:r,toCubic:Q}),this}static cssifyPath(l){return`path('${l}')`}get cssPath(){return H.cssifyPath(this.rawPath)}get rawPath(){return this.#t.map(l=>l.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){const l=[];let e=[];return this.#t.forEach(p=>{p.asString[0]=="M"&&e.length>0&&(l.push(e),e=[]),e.push(p)}),l.push(e),l.map(p=>{const d=new H;return d.#t.push(...p),d})}convertToCubics(){const l=new H;return this.#t.forEach(e=>e.toCubic(l)),l.checkInvariants(),l}translate(l,e){const p=new H;return this.#t.forEach(d=>d.translate(p,l,e)),p.checkInvariants(),p}}class W{constructor(l,e=l/10){if(this.fontSize=l,this.strokeWidth=e,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}}class X{constructor(l,e,p){this.advance=e,this.fontMetrics=p,l instanceof H?this.#t=()=>l:this.#t=l}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}static makeElement(l){const e=document.createElementNS("http://www.w3.org/2000/svg","path");if(e.style.d=l,e.style.d=="")throw console.error(l,e),new Error("wtf");return e}makeElement(){return X.makeElement(this.cssPath)}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:X.makeElement(l.cssPath)}))}}function x(L){const l=new Map;typeof L=="number"&&(L=new W(L));const e=(t,c,n)=>{const s=new X(c,n,L);if(l.has(t))throw new Error("wtf");l.set(t,s)},{aWidth:p,digitWidth:d,capitalTop:i,capitalTopMiddle:V,capitalMiddle:r,capitalBottomMiddle:Q,baseline:o,descender:_,strokeWidth:f}=L,a=0;{const t=d,n=t/2,s=t;{const h=(_-o)*2,u=_,M=u-h,g=i-h/4,$=g+h;if(h<=0||u<=M||M<=$||$<=g)throw new Error("wtf");const w=d*.5;{const v=H.M(w,g);v.Q_HV(0,$),v.V(M),v.Q_VH(w,u),e("(",v,w)}{const v=d*.5,k=H.M(0,g);k.Q_HV(v,$),k.V(M),k.Q_VH(0,u),e(")",k,v)}{const v=H.M(w,g);v.H(0),v.V(u),v.H(w),e("[",v,w)}{const v=H.M(0,g);v.H(w),v.V(u),v.H(0),e("]",v,w)}}{const h=H.M(n,i).Q(s,i,s,V).L(s,Q).Q(s,o,n,o).Q(a,o,a,Q).L(a,V).Q(a,i,n,i);e("0",h,t)}{const h=H.M(a,V).Q(n,V,n,i).L(n,o).M(a,o).L(s,o);e("1",h,t)}{const h=H.M(a,V).Q_VH(n,i).Q_HV(s,V).Q_VH(n,r).Q_HV(a,o).L(s,o);e("2",h,t)}{const h=H.M(a,V).Q_VH(n,i).Q_HV(s,V).Q_VH(n,Q).Q_HV(a,o).L(s,o);e("2a",h,t)}{const h=H.M(a,V).Q_VH(n,i).Q_HV(s,V).Q_VH(n,r).Q_HV(s,Q).Q_VH(n,o).Q_HV(a,Q);e("3",h,t)}{const h=(n+s)/2,u=(n+a)/2,M=H.M(s,r).L(a,r).L(u,i).M(h,i).L(h,o);e("4",M,t)}{const h=H.M(s,i).L(s,o).M(s,r).L(a,r).Q_HV(n,i);e("4a",h,t)}{const h=H.M(s,i).L(s,o).M(s,r).L(a,r).L(a,i);e("4b",h,t)}{const h=H.M(s,i).L(s,o).M(s,r).L(a,r).L((a+n)/2,i);e("4c",h,t)}{const h=(n+s)/2,u=H.M(h,o).L(h,i).L(a,r).L(s,r);e("4d",u,t)}{const h=a+d/5,u=s-d/5,M=(r+Q)/2,g=H.M(u,i).L(h,i).L(a,r).Q_VH(n,V).Q_HV(s,M).Q_VH(n,o).Q_HV(a,Q);e("5",g,t)}{const h=H.M(s,i).Q_HV(a,Q).Q_VH(n,o).Q_HV(s,Q).Q_VH(n,r).Q_HV(a,Q);e("6",h,t)}{const h=H.M(a,i).L(s,i).L(a,o);e("7",h,t)}{const h=H.M(n,i).Q(s,i,s,V).Q(s,r,n,r).Q(a,r,a,Q).Q(a,o,n,o).Q(s,o,s,Q).Q(s,r,n,r).Q(a,r,a,V).Q(a,i,n,i);e("8",h,t)}{const h=H.M(s,V).Q(s,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(s,r,s,V).Q(s,o,a,o);e("9",h,t)}{const h=H.M(s,V).Q(s,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(s,r,s,V).L(s,o);e("9a",h,t)}{const h=H.M(s,V).Q(s,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(s,r,s,V).L(s,Q).Q(s,o,n,o).Q(a,o,a,Q);e("9b",h,t)}{const h=H.M(s,V).Q(s,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(s,r,s,V).Q(s,o,n,o).Q(a,o,a,Q);e("9c",h,t)}}{const t=H.M(a,o).L(p/2,i).L(L.aWidth,o).M(L.aWidth/4,r).L(L.aWidth*.75,r);e("A",t,p)}{const t=d,c=V-i;if(c<=0)throw new Error("wtf");const n=(t-c)*(2/3),s=o-Q;if(s<=0)throw new Error("wtf");const h=t-s,u=H.M(a,i).L(a,o).L(h,o).M(Math.max(h,n),r).L(a,r).M(a,i).L(n,i).Q(n+c,i,n+c,i+c).Q(n+c,r,n,r).M(h,r).Q(h+s,r,h+s,o-s).Q(h+s,o,h,o);e("B",u,t)}{const t=d,n=t/2,s=t,h=H.M(s,V).Q(s,i,n,i).Q(a,i,a,V).L(a,Q).Q(a,o,n,o).Q(s,o,s,Q);e("C",h,t)}{const t=d,n=t/2,s=t,h=H.M(a,i).L(a,o).L(n,o).Q(s,o,s,Q).L(s,V).Q(s,i,n,i).L(a,i);e("D",h,t)}{const t=d,c=t*(2/3),n=t,s=H.M(n,i).L(a,i).L(a,o).L(n,o).M(c,r).L(a,r);e("E",s,t)}{const t=d,c=t*(2/3),n=t,s=H.M(n,i).L(a,i).L(a,o).M(c,r).L(a,r);e("F",s,t)}{const t=d,n=t/2,s=t,h=H.M(s,V).Q(s,i,n,i).Q(a,i,a,V).L(a,Q).Q(a,o,n,o).Q(s,o,s,Q).L(s,r).L(n,r);e("G",h,t)}{const t=d,c=t,n=H.M(a,i).L(a,o).M(c,i).L(c,o).M(a,r).L(c,r);e("H",n,t)}{const t=L.mHeight/3,c=t/2,n=t,s=H.M(a,i).L(n,i).M(a,o).L(n,o).M(c,i).L(c,o);e("I",s,t)}{const t=d*.85,n=t/2,s=t,h=H.M(s,i).L(s,Q).Q(s,o,n,o).Q(a,o,a,Q);e("J",h,t)}{const t=d+f,c=(i+o)/2,n=H.M(a,i).L(a,o).M(t,i).L(a+.5,c).L(t,o);e("K",n,t)}{const t=d,c=H.M(a,i).L(a,o).L(t,o);e("L",c,t)}{const t=d*1.5,c=t/2,n=H.M(a,o).L(a,i).L(c,r).L(t,i).L(t,o);e("M",n,t)}{const t=d*1.2,c=H.M(a,o).L(a,i).L(t,o).L(t,i);e("N",c,t)}{const t=d*1.5,c=t/2,n=(i+o)/2,s=H.M(c,i).Q_HV(t,n).Q_VH(c,o).Q_HV(a,n).Q_VH(c,i);e("O",s,t)}{const t=d,c=r-V;if(c<=0)throw new Error("wtf");const n=t-c,s=H.M(a,i).L(a,o).M(a,i).L(n,i).Q_HV(t,V).Q_VH(n,r).L(a,r);e("P",s,t)}{const t=d*1.5,c=t/2,n=(i+o)/2,s=H.M(c,i).Q_HV(t,n).Q_VH(c,o).Q_HV(a,n).Q_VH(c,i).M(t-c*.75,o-c*.75).L(t+c/6,o+c/6);e("Q",s,t)}{const t=d,c=r-V;if(c<=0)throw new Error("wtf");const n=t-c,s=H.M(a,i).L(a,o).M(a,i).L(n,i).Q_HV(t,V).Q_VH(n,r).L(a,r).M(n,r).L(t,o);e("R",s,t)}{const t=d,c=r-V;if(c<=0)throw new Error("wtf");const n=t-c,s=H.M(a,i).L(a,o).M(a,i).L(n,i).Q_HV(t,V).Q_VH(n,r).L(a,r).L(t,o);e("Ra",s,t)}{const t=d,c=d/2,n=d,s=H.M(n,V).Q_VH(c,i).Q_HV(a,V).Q_VH(c,r).Q_HV(n,Q).Q_VH(c,o).Q_HV(a,Q);e("S",s,t)}{const t=d,c=t/2,n=H.M(c,i).L(c,o).M(t,i).L(a,i);e("T",n,t)}{const t=(Q+r)/2,c=Math.abs(t-o)*.85,n=c*2,s=H.M(a,i).V(t).Q_VH(c,o).Q_HV(n,t).V(i);e("U",s,n)}{const t=p,c=t/2,n=H.M(a,i).L(c,o).L(t,i);e("V",n,t)}{const t=p*1.5,c=t/3,n=t/2,s=c*2,h=H.M(a,i).L(c,o).L(n,r).L(s,o).L(t,i);e("W",h,t)}{const t=d,c=H.M(t,i).L(a,o).M(a,i).L(t,o);e("X",c,t)}{const t=f,c=d+t,n=H.M(c,i).L(t,o).M(a,i).L(c/2,r);e("Y",n,c)}{const t=d,c=H.M(a,i).H(t).L(a,o).H(t);e("Z",c,t)}{const t=d,c=f/2,n=t+c,s=t/2,h=H.M(s,r).Q_HV(a,Q).Q_VH(s,o).Q_HV(t,Q).Q_VH(s,r).M(n,r).L(n,o);e("a",h,n)}{const t=d,c=f/2,n=t+c,s=c,h=c+t/2,u=n,M=H.M(a,i).V(o).M(s,Q).Q_VH(h,o).Q_HV(u,Q).Q_VH(h,r).Q_HV(s,Q);e("b",M,n)}{const t=d*.875,c=0,n=d/2,s=t,h=(r+Q)/2,u=(Q+o)/2,M=H.M(s,h).Q_VH(n,r).Q_HV(c,Q).Q_VH(n,o).Q_HV(s,u);e("c",M,t)}{const t=d,c=0,n=t/2,s=t,h=H.M(s,r).H(n).Q_HV(c,Q).Q_VH(n,o).H(s);e("ca",h,t)}{const t=d*.75,c=0,n=d/2,s=t,h=H.M(s,r).H(n).Q_HV(c,Q).Q_VH(n,o).H(s);e("cb",h,t)}{const t=d*.75,c=0,n=d/2,s=t,h=(r+Q)/2,u=(Q+o)/2,M=H.M(s,h).Q_VH(n,r).Q_HV(c,Q).Q_VH(n,o).Q_HV(s,u);e("cc",M,t)}{const t=d,c=0,n=d/2,s=t,h=(r+Q)/2,u=(Q+o)/2,M=H.M(s,h).Q_VH(n,r).Q_HV(c,Q).Q_VH(n,o).Q_HV(s,u);e("cd",M,t)}{const t=d,c=f/2,n=t+c,s=t/2,h=H.M(s,r).Q_HV(a,Q).Q_VH(s,o).Q_HV(t,Q).Q_VH(s,r).M(n,i).L(n,o);e("d",h,n)}const R=d/8;{const t=d,c=d/2,n=t,s=n-R,h=H.M(a,Q).H(n).Q_VH(c,r).Q_HV(a,Q).Q_VH(c,o).H(s);e("e",h,t)}{const t=d,c=d/2,n=t,s=(Q+o)/2,h=H.M(a,Q).H(n).Q_VH(c,r).Q_HV(a,Q).Q_VH(c,o).Q_HV(n,s);e("ea",h,t)}{const t=d*.75,c=t/2,n=t,s=H.M(n,i).Q_HV(c,V).V(o).M(n,r).H(a);e("f",s,t)}{const t=d,c=f/2,n=t+c,s=t/2,h=H.M(s,r).Q_HV(a,Q).Q_VH(s,o).Q_HV(t,Q).Q_VH(s,r).M(n,r).V(o).Q_VH(s,_).H(a+R);e("g",h,n)}{const t=d*.85,c=t/2,n=H.M(a,i).V(o).Q_VH(c,r).Q_HV(t,Q).V(o);e("h",n,t)}{const c=H.M(a,r).V(o).M(a,V).V(V-f/4);e("i",c,0)}{const t=Math.abs(o-_),c=t/2,n=H.M(t,r).V(o).Q_VH(c,_).Q_HV(a,o).M(t,V).V(V-f/4);e("j",n,t)}{const t=Math.abs(o-_)*1.5,c=t/2,n=H.M(t,r).V(o).Q_VH(c,_).Q_HV(a,o).M(t,V).V(V-f/4);e("ja",n,t)}{const t=L.xHeight*2/3,c=d/10,n=t+c,s=H.M(a,i).V(o).M(t,r).L(a,r+t).M(t/2,o-t).L(n,o);e("k",s,n)}{const c=H.M(a,i).V(o);e("l",c,0)}{const t=d*1.5,c=t/4,n=t/2,s=t*3/4,h=t,u=H.M(a,r).V(o).Q_VH(c,r).Q_HV(n,Q).V(o).M(n,Q).Q_VH(s,r).Q_HV(h,Q).V(o);e("m",u,t)}{const t=d*.85,c=t/2,n=H.M(a,r).V(o).Q_VH(c,r).Q_HV(t,Q).V(o);e("n",n,t)}{const t=d,c=0,n=t/2,s=t,h=H.M(n,r).Q_HV(s,Q).Q_VH(n,o).Q_HV(c,Q).Q_VH(n,r);e("o",h,t)}{const t=d,c=f/2,n=t+c,s=c,h=c+t/2,u=n,M=H.M(a,r).V(_).M(s,Q).Q_VH(h,r).Q_HV(u,Q).Q_VH(h,o).Q_HV(s,Q);e("p",M,n)}{const t=d,c=t/2,n=t+f/2,s=Math.abs(o-_),h=n+s/2,u=n+s,M=H.M(c,r).Q_HV(a,Q).Q_VH(c,o).Q_HV(t,Q).Q_VH(c,r).M(n,r).V(o).Q_VH(h,_).Q_HV(u,o);e("q",M,u)}{const t=d,c=t/2,s=t+f/2,h=H.M(c,r).Q_HV(a,Q).Q_VH(c,o).Q_HV(t,Q).Q_VH(c,r).M(s,r).L(s,_);e("qa",h,s)}{const t=d,c=t/2,n=H.M(a,r).V(o).Q_VH(c,r).Q_HV(t,Q);e("r",n,t)}{const t=d,c=t/2,n=Q,s=Q,h=H.M(a,r).V(o).M(a,n).Q(c,V,t,s);e("re",h,t)}{let t=function(g,$,w){const v=1-w;return g*v+$*w};const c=d,n=c/2,s=t(Q,r,.25),h=t(Q,r,.75),M=H.M(a,r).V(o).M(a,s).Q(t(n,a,.5),r,n,r).Q(t(n,c,.75),r,c,h);e("rd",M,c)}{const t=d,c=t/2,n=(Q+r)/2,s=H.M(a,r).V(o).M(a,Q).Q_VH(c,r).Q_HV(t,n);e("rc",s,t)}{const t=d,c=t/2,n=H.M(a,r).V(o).Q_VH(c,r).Q_HV(t,(Q+r)/2);e("rb",n,t)}{const t=L.xHeight*2/3,c=t/2,n=o,s=Q,h=r,u=(n+s)/2,M=(s+h)/2,g=(M+h)/2,$=(n+u)/2,w=H.M(t,g).Q_VH(c,h).Q_HV(a,M).Q_VH(c,s).Q_HV(t,u).Q_VH(c,n).Q_HV(a,$);e("s",w,t)}{const t=L.xHeight*2/3,c=t/2,n=o,s=Q,h=r,u=(n+s)/2,M=(s+h)/2,g=H.M(t,M).Q_VH(c,h).Q_HV(a,M).Q_VH(c,s).Q_HV(t,u).Q_VH(c,n).Q_HV(a,u);e("sb",g,t)}{const t=L.xHeight*2/3,c=t/2,n=o,s=Q,h=r,u=(n+s)/2,M=(s+h)/2,g=H.M(t-R,h).H(c).Q_HV(a,M).Q_VH(c,s).Q_HV(t,u).Q_VH(c,n).H(R);e("sa",g,t)}{const t=d*.75,c=t/2,n=t,s=H.M(c,V).V(Q).Q_VH(n,o).M(n,r).H(a);e("t",s,t)}{const t=d*.85,c=t/2,n=H.M(a,r).V(Q).Q_VH(c,o).Q_HV(t,r).L(t,o);e("u",n,t)}{const t=d,c=t/2,n=H.M(a,r).L(c,o).L(t,r);e("v",n,t)}{const t=L.xHeight*1.5,c=t/3,n=t/2,s=c*2,h=H.M(a,r).L(c,o).L(n,Q).L(s,o).L(t,r);e("w",h,t)}{const t=d,c=H.M(t,r).L(a,o).M(a,r).L(t,o);e("x",c,t)}{const t=d,c=t/2,n=(r+_)/2,s=H.M(t,r).L(a,_).M(a,r).L(c,n);e("y",s,t)}{const t=d,c=H.M(a,r).H(t).L(a,o).H(t);e("z",c,t)}return l}const Y=T("main",SVGSVGElement);function A(L){const l=new Map;return L.forEach((e,p)=>{const{advance:d,fontMetrics:i}=e,V=e.shape.convertToCubics(),r=new X(V,d,i);l.set(p,r)}),l}function B(L,l=L*.75){const e=x(L);return x(l).forEach((d,i)=>{const V=i.toLowerCase();V!=i&&e.set(V,d)}),e}function z(L,l){const e=O.generator(l),p=new Map;return L.forEach((d,i)=>{const V=()=>{const Q=e.path(d.d),_=e.toPaths(Q).map(f=>f.d);return H.fromStrings(..._)},r=new X(V,d.advance,d.fontMetrics);p.set(i,r)}),p}{let L=function(c){return c.length==1};class l{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(n=1){this.baseline+=this.lineHeight*n}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=x(5);getDescription(n){return this.font.get(n)}makeRoom(n){this.x+n.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(n){this.x+=n.advance+n.fontMetrics.defaultKerning}show1(n){this.makeRoom(n);const s=n.makeElement();return Y.appendChild(s),s.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.advance(n),s}splitAndShow1(n){this.makeRoom(n);const s=n.makeElements();return s.forEach(({element:h})=>{Y.appendChild(h),h.style.transform=`translate(${this.x}px,${this.baseline}px)`}),this.advance(n),s}show(n){const s=new Set,h=[...n].flatMap(u=>{const M=this.getDescription(u);return M?this.show1(M):u==" "?(this.showSpace(),[]):(s.add(u),[])});return s.size>0&&console.warn(s),h}splitAndShow(n){const s=new Set,h=[...n].flatMap(u=>{const M=this.getDescription(u);return M?this.splitAndShow1(M):u==" "?(this.showSpace(),[]):(s.add(u),[])});return s.size>0&&console.warn(s),h}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const e=new l;let p="",d=[];e.font.forEach((c,n)=>{L(n)?p+=n:d.push(c)}),e.show(p),e.CRLF(),d.forEach(c=>{e.show1(c).classList.add("historical")}),e.CRLF(),e.show(p).forEach(c=>{c.classList.add("lights")}),e.CRLF();const i=e.splitAndShow(p),V=c=>{if(c==0)return 0;const n=i[c].innerShape,s=i[c-1].innerShape;return Math.hypot(s.endX-n.startX,s.endY-n.startY)},{totalLength:r,maxLength:Q}=i.reduce(({totalLength:c,maxLength:n},{element:s},h)=>{const u=s.getTotalLength();return c+=V(h)+u,n=Math.max(n,u),{totalLength:c,maxLength:n}},{totalLength:0,maxLength:0}),o=Math.ceil(Q)+1,_=`0 ${o} ${o} 0`;async function f(){for(;;){let s=0,h;i.forEach(({element:u},M)=>{const g=u.getTotalLength();s+=V(M);const $=1e3+s/r*2e4;s+=g;const w=g/r*2e4;h=u.animate([{strokeDasharray:_,strokeDashoffset:1e-5},{strokeDasharray:_,strokeDashoffset:-g}],{delay:$,duration:w,fill:"backwards"})}),await h.finished,await y(3e3)}}f(),e.CRLF(),e.font=B(5),e.show("Small  Caps"),e.lineHeight*=1.125;const a=x(new W(6,.5)),R=A(a),t={options:{roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0}};[.24,.34,.4,.44,.5,.54,.64].map(c=>(t.options.roughness=c,e.font=z(R,t),e.CRLF(),e.show(`Rough Font ${Math.round(c*100)}  (4XxYyZ)`)))}
