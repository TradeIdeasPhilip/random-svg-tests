import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as Q,i as U,m as tt,s as z}from"./client-misc-leadhGo2.js";/* empty css              */import{m as G,F as et,T as P,D as K,W as nt,P as W}from"./letters-more-DCkPiy7g.js";import{a as ot}from"./rough.esm-C_8OcXYf.js";import{b as $,l as st,s as at}from"./utility-DcEUXXL7.js";const X=Q("main",SVGSVGElement);function it(x){const L=new Map;return x.forEach((e,T)=>{const{advance:y,fontMetrics:v}=e,b=e.shape.convertToCubics(),R=new K(b,y,v);L.set(T,R)}),L}function rt(x,L=x*.75){const e=G(x);return G(L).forEach((y,v)=>{const b=v.toLowerCase();b!=v&&e.set(b,y)}),e}function _(x,L){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},T=ot.generator({options:{...e,...L}}),y=new Map;return x.forEach((v,b)=>{const R=()=>{const C=T.path(v.d),k=T.toPaths(C).map(D=>D.d);return W.fromStrings(k)},A=new K(R,v.advance,v.fontMetrics);y.set(b,A)}),y}{let x=function(t){return t.length==1},L=function(t){let a=1/0,i=-1/0;t.forEach(h=>{const{description:m,baseline:g}=h,{fontMetrics:E}=m;a=Math.min(a,E.top+g),i=Math.max(i,E.bottom+g)});const o=a-1,r=i+1,s=document.createElementNS("http://www.w3.org/2000/svg","rect");return s.x.baseVal.value=0,s.y.baseVal.value=o,s.width.baseVal.value=100,s.height.baseVal.value=r-o,X.insertBefore(s,t[0].element),s};const e=new nt(X);let T="";e.font.forEach((t,n)=>{x(n)&&(T+=n)}),e.show(T),e.CRLF();{const t=e.show(T);t.forEach(({element:n})=>{n.classList.add("lights")}),L(t).style.fill="black"}e.CRLF();const y=e.splitAndShow(T),v=t=>{if(t==0)return 0;const n=y[t].innerShape,a=y[t-1].innerShape,i=Math.hypot(a.endX-n.startX,a.endY-n.startY);return $(i),i},{totalLength:b,maxLength:R}=y.reduce(({totalLength:t,maxLength:n},{element:a},i)=>{const o=a.getTotalLength();return $(o),t+=v(i)+o,n=Math.max(n,o),{totalLength:t,maxLength:n}},{totalLength:0,maxLength:0}),A=Math.ceil(R)+1,C=`0 ${A} ${A} 0`;async function Y(){for(;;){let a=0,i;y.forEach(({element:o},r)=>{const s=o.getTotalLength();a+=v(r);const h=1e3+a/b*3e4;a+=s;const m=s/b*3e4;i=o.animate([{strokeDasharray:C,strokeDashoffset:1e-5},{strokeDasharray:C,strokeDashoffset:-s}],{delay:h,duration:m,fill:"backwards"})}),await i.finished,await z(3e3)}}Y(),e.CRLF(),e.font=rt(5,3),e.show("Small  Caps"),e.lineHeight*=1.125;const k=G(new et(6,.5)),D=it(k),M=[{roughness:.4,title:'"Heartbeat!"'},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting ♡"},{roughness:.54,title:"The Wave's *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(t=>{const{roughness:n,title:a}=t;return e.font=_(D,{roughness:n}),e.CRLF(),e.show(`${Math.round(n*100)} ${a??"Rough Font"} [4XxYyZ]`)}),H=M[0],j=M[1],Z=M[2],O=M[3],V=M[4],q=M[5],N=_(D,{roughness:0});L(V).style.fill="black",V.forEach(({element:t})=>{t.classList.add("lights")}),[V,q].forEach(t=>{t.forEach(n=>{function a(){return Math.random()+.5|0}const i=3+a()+a()+a(),o=U(i,()=>({d:n.description.cssPath}));o.push(o[0]);const r=i*1e4/3,s=r/8,h=Math.exp(st(Math.log(s),Math.log(r),Math.random()));n.element.animate(o,{duration:h,iterations:1/0})})}),j.forEach(t=>{const n=N.get(t.char).cssPath,a=t.element.style.d,i=.03,o=[{offset:0,d:a},{offset:i,d:n},{offset:.5,d:n},{offset:i+.5,d:a},{offset:1,d:a}];t.element.animate(o,{duration:2e3,iterations:1/0})});{const o=O.length,r=o*3,s=5e3;O.forEach((h,m)=>{const g=N.get(h.char).cssPath,E=h.element.style.d,u=h.element.style.transform,d=u+" scale(1.32)",l={d:g,transform:u},p={d:E,transform:d},c=[{offset:0,...l},{offset:4/r,...p},{offset:6/r,...p},{offset:14/r,...l},{offset:1,...l}];h.element.animate(c,{duration:s,iterationStart:1-m/o,iterations:1/0})})}{const t=Z;L(t).style.fill="hwb(190 10% 0% / 1)",t.forEach(n=>{const a=N.get(n.char).cssPath,i=n.element.style.d,o=1/16,r=15/16,s=14e3,h=[{offset:0,strokeWidth:.5},{offset:o,strokeWidth:.5},{offset:r,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],m=[{offset:0,d:a},{offset:o,d:a,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:r,d:i},{offset:1,d:i}],g=[{offset:0,opacity:1},{offset:o,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:r,opacity:0},{offset:1,opacity:0}];n.element.animate(g,{duration:s,iterations:1/0}),n.element.animate(m,{duration:s,iterations:1/0}),n.element.animate(h,{duration:s,iterations:1/0}),n.element.style.stroke="white"})}H.forEach(t=>{const n=N.get(t.char).cssPath,a=t.element.style.d,i=750,o="cubic-bezier(.55,0,1,.55)";t.element.animate([{offset:0,d:n,easing:o},{offset:.5,d:a,easing:o},{offset:1,d:n}],{duration:i,iterations:1/0})});{e.CRLF();const t=.25,n=1.5,a="The more I drink the more I want to tell you what I really think about you.",i=tt(0,t,a.length-1,n),o=[...a].flatMap((u,d)=>(e.font=_(D,{roughness:i(d)}),e.splitAndShow(u))),r=u=>{if(u==0)return 0;const d=o[u].innerShape,l=o[u-1].innerShape,p=Math.hypot(l.endX-d.startX,l.endY-d.startY);return $(p),p},{totalLength:s,maxLength:h}=o.reduce(({totalLength:u,maxLength:d},{element:l},p)=>{const c=l.getTotalLength();return u+=r(p)+c,d=Math.max(d,c),{totalLength:u,maxLength:d}},{totalLength:0,maxLength:0}),m=Math.ceil(h)+1,g=`0 ${m} ${m} 0`;async function E(){for(;;){let l=0,p;o.forEach(({element:c},f)=>{const S=c.getTotalLength();l+=r(f);const w=1e3+l/s*3e4;l+=S;const F=S/s*3e4;p=c.animate([{strokeDasharray:g,strokeDashoffset:1e-5},{strokeDasharray:g,strokeDashoffset:-S}],{delay:w,duration:F,fill:"backwards"})}),await p.finished,await z(3e3)}}E()}{e.font=k,e.CRLF();const t=P.textToShape("Stop°",k),n=P.textToShape("Go◯",k);e.CRLF();const a=t.shape.makeElement();e.showAndAdvance(a,t.advance),e.showSpace();const i=n.shape.makeElement();e.showAndAdvance(i,n.advance);const o=n.shape.matchForMorph(t.shape),r=o[0],s=o[1],h=t.shape.makeElement();e.showSpace(),e.showAndAdvance(h,t.advance),h.animate([{d:r},{d:r,easing:"ease"},{d:s},{d:s,easing:"ease"},{d:r}],{duration:5e3,iterations:1/0})}{const t=r=>P.textToShape([...r].join(`
`),k).shape,n=t("123"),a=t("ABC"),[i,o]=n.matchForMorph(a);e.CRLF(),U(7,r=>{const s=n.makeElement();e.showAndAdvance(s,10*(6/7)*.86),s.animate([{d:i},{d:o}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:r/6*.999})}),e.lineFeed(2.5)}{let t=function(s){const h=s[0].makeElement();e.showAndAdvance(h,0);const m=s[0].matchForMorph(s[1]);h.animate([{d:m[0]},{d:m[0],easing:"ease"},{d:m[1]},{d:m[1],easing:"ease"},{d:m[0]}],{duration:5e3,iterations:1/0})},n=function(s){const h=new W(s[1].commands.toReversed());return[s[0],h]},a=function(s){{const c=s.map(f=>!f.commands.length);if(c[0]&&c[1])return s;if(c[0]||c[1])throw new Error("wtf")}function h(c,f){const S=Math.hypot(c.x-f.x,c.y-f.y)+Math.hypot(c.x0-f.x0,c.y0-f.y0),w=Math.hypot(c.x-f.x0,c.y-f.y0)+Math.hypot(c.x0-f.x0,c.y-f.y),F=w<S;return{distance:F?w:S,needToReverse:F}}const m=s.map(c=>c.commands),[g,E]=m[0].length<m[1].length?m:m.toReversed(),u=[...E],d=[],l=at([...g]);if(l.forEach(c=>{let f={command:void 0,distance:1/0,index:NaN};u.forEach((w,F)=>{const{distance:I,needToReverse:B}=h(c,w);I<f.distance&&(f={command:B?w.toCubic().reverse():w,distance:I,index:F})});const S=f;d.push(S.command),u.splice(S.index,1)}),l.length!=d.length)throw new Error("wtf");if(u.forEach(c=>{let f={command:void 0,distance:1/0,index:NaN};l.forEach((w,F)=>{const{distance:I,needToReverse:B}=h(w,c);I<f.distance&&(f={command:B?w.toCubic().reverse():w,distance:I,index:F})});const S=f;l.push(S.command),d.push(c)}),l.length!=d.length)throw new Error("wtf");const p=[l,d];return g==m[1]&&p.reverse(),[new W(p[0]),new W(p[1])]};e.CRLF();const i=P.textToShape(`Round
  and
round!`,k),o=P.textToShape(`Circle
  in a
spiral`,k),r=[i.shape,o.shape];t(r),e.x+=Math.max(i.advance,o.advance),e.showSpace(4),t(a(r)),e.x+=Math.max(i.advance,o.advance),e.showSpace(4),t(n(r)),e.lineFeed(2.5)}e.x>e.rightMargin&&e.CRLF(),X.viewBox.baseVal.height=e.baseline+e.font.get("0").fontMetrics.bottom}
