import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as N,i as J,g as lt,m as dt,s as ot}from"./client-misc-DyzYuCZn.js";/* empty css              */import{b as X,l as P,a as ct,s as ut}from"./utility-_R7A1EC1.js";import{a as mt}from"./rough.esm-C_8OcXYf.js";class tt{constructor(r,s,f){this.x0=r,this.y0=s,this.x=f,X(r,s,f),this.y=s,this.asString=`H ${f}`}y;incomingAngle=NaN;outgoingAngle=NaN;command="H";asString;translate(r,s){return new tt(this.x0+r,this.y0+s,this.x+r)}toCubic(){return new K(this.x0,this.y0,P(this.x0,this.x,1/3),this.y0,P(this.x0,this.x,2/3),this.y0,this.x,this.y0)}}class et{constructor(r,s,f){this.x0=r,this.y0=s,this.y=f,X(r,s,f),this.x=r,this.asString=`V ${f}`}x;incomingAngle=NaN;outgoingAngle=NaN;command="V";asString;translate(r,s){return new et(this.x0+r,this.y0+s,this.y+s)}toCubic(){return new K(this.x0,this.y0,this.x0,P(this.y0,this.y,1/3),this.x0,P(this.y0,this.y,2/3),this.x0,this.y)}}class U{constructor(r,s,f,d){this.x0=r,this.y0=s,this.x=f,this.y=d,X(r,s,f,d),this.asString=`L ${f},${d}`}incomingAngle=NaN;outgoingAngle=NaN;command="L";asString;translate(r,s){return new U(this.x0+r,this.y0+s,this.x+r,this.y+s)}toCubic(){return new K(this.x0,this.y0,P(this.x0,this.x,1/3),P(this.y0,this.y,1/3),P(this.x0,this.x,2/3),P(this.y0,this.y,2/3),this.x,this.y)}}class st{constructor(r,s,f,d,e,w){this.x0=r,this.y0=s,this.x1=f,this.y1=d,this.x=e,this.y=w,X(r,s,f,d,e,w),this.asString=`Q ${f},${d} ${e},${w}`}incomingAngle=NaN;outgoingAngle=NaN;command="Q";asString;translate(r,s){return new st(this.x0+r,this.y0+s,this.x1+r,this.y1+s,this.x+r,this.y+s)}toCubic(){return new K(this.x0,this.y0,P(this.x0,this.x1,2/3),P(this.y0,this.y1,2/3),P(this.x,this.x1,2/3),P(this.y,this.y1,2/3),this.x,this.y)}}class K{constructor(r,s,f,d,e,w,i,g){this.x0=r,this.y0=s,this.x1=f,this.y1=d,this.x2=e,this.y2=w,this.x=i,this.y=g,X(r,s,f,d,e,w,i,g),this.asString=`C ${f},${d} ${e},${w} ${i},${g}`}incomingAngle=NaN;outgoingAngle=NaN;command="C";asString;translate(r,s){return new K(this.x0+r,this.y0+s,this.x1+r,this.y1+s,this.x2+r,this.y2+s,this.x+r,this.y+s)}toCubic(){return this}}class m{get commands(){return this.#t}addCommands(r){this.#t.push(...r)}static fromStrings(r){let s=r.join(" ");const f=[];let d;for(;s=s.replace(/^ */,""),s!="";){let e=gt.exec(s);if(e){const w=N(e[1]),i=N(e[2]);if(w===void 0||i===void 0)throw console.error(e,w,i,this),new Error("wtf");d&&f.push(d),d=this.M(w,i),s=e[3];continue}if(d){if(e=ft.exec(s),e){const w=N(e[1]),i=N(e[2]),g=N(e[3]),o=N(e[4]);if(w===void 0||i===void 0||g===void 0||o===void 0)throw console.error(e,w,i,g,o,this),new Error("wtf");d=d.Q(w,i,g,o),s=e[5];continue}if(e=Mt.exec(s),e){const w=N(e[1]),i=N(e[2]),g=N(e[3]),o=N(e[4]),b=N(e[5]),_=N(e[6]);if(w===void 0||i===void 0||g===void 0||o===void 0||b===void 0||_===void 0)throw console.error(e,w,i,g,o,b,_,this),new Error("wtf");d=d.C(w,i,g,o,b,_),s=e[7];continue}}throw console.error(s),new Error("wtf")}return d&&f.push(d),f}static M(r,s){const f=new m;return f.M(r,s),f}#t=[];get pathShape(){return new R(this.#t)}#e;M(r,s){return X(r,s),this.#e={x:r,y:s,outgoingAngle:NaN},this}peekPrevious(){return this.#e??this.#t.at(-1)}consumePrevious(){const r=this.peekPrevious();return this.#e=void 0,r}H(r){const s=this.consumePrevious();return this.#t.push(new tt(s.x,s.y,r)),this}V(r){const s=this.consumePrevious();return this.#t.push(new et(s.x,s.y,r)),this}L(r,s){const f=this.consumePrevious();return this.#t.push(new U(f.x,f.y,r,s)),this}Q(r,s,f,d){const e=this.consumePrevious();return this.#t.push(new st(e.x,e.y,r,s,f,d)),this}Q_HV(r,s){const f=this.peekPrevious();return this.Q(r,f.y,r,s)}Q_VH(r,s){const f=this.peekPrevious();return this.Q(f.x,s,r,s)}C(r,s,f,d,e,w){const i=this.consumePrevious();return this.#t.push(new K(i.x,i.y,r,s,f,d,e,w)),this}}const nt=" *",W="(-?[0-9]+.?[0-9]*)",O=" *[, ] *",gt=new RegExp(`^M${nt}${W}${O}${W}(.*)$`),ft=new RegExp(`^Q${nt}${W}${O}${W}${O}${W}${O}${W}(.*)$`),Mt=new RegExp(`^C${nt}${W}${O}${W}${O}${W}${O}${W}${O}${W}${O}${W}(.*)$`);class R{matchForMorph(r){const s=this.commands.map(i=>i.toCubic()),f=r.commands.map(i=>i.toCubic());if(s.length!=f.length){const{shorter:i,longer:g}=s.length<f.length?{shorter:s,longer:f}:{shorter:f,longer:s};if(i.length==0)throw new Error("can't morph something into nothing");const o=g.length/i.length,b=[];i.forEach((_,c)=>{const Y=Math.round((c+1)*o);for(;b.length<Y;)b.push(_)}),i.length=0,i.push(...b)}if(s.length!=f.length)throw new Error("wtf");function d(i){return R.cssifyPath(i.map(g=>new R([g]).rawPath).join())}const e=d(s),w=d(f);return[e,w]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(r){const f=m.fromStrings(r).flatMap(e=>e.commands);return new this(f)}constructor(r){this.commands=[...r]}static cssifyPath(r){return`path('${r}')`}get cssPath(){return R.cssifyPath(this.rawPath)}makeElement(){const r=document.createElementNS("http://www.w3.org/2000/svg","path"),s=this.cssPath;if(r.style.d=s,r.style.d=="")throw console.error(s,r),new Error("wtf");return r}static needAnM(r,s){return!r||r.x!=s.x0||r.y!=s.y0}get rawPath(){return this.commands.flatMap((r,s)=>{const f=[],d=this.commands[s-1];return R.needAnM(d,r)&&f.push(`M ${r.x0},${r.y0}`),f.push(r.asString),f}).join(" ")}get cssPaths(){return this.splitOnMove().map(r=>r.cssPath)}get rawPaths(){return this.splitOnMove().map(r=>r.rawPath)}splitOnMove(){const r=[];let s=[];return this.commands.forEach(f=>{R.needAnM(s.at(-1),f)&&(s=[],r.push(s)),s.push(f)}),r.map(f=>new R(f))}static join(r){return new R(r.flatMap(({Δx:s,Δy:f,shape:d})=>d.translate(s,f).commands))}convertToCubics(){return new R(this.commands.map(r=>r.toCubic()))}translate(r,s){return new R(this.commands.map(f=>f.translate(r,s)))}}class it{constructor(r,s=r/10){if(this.fontSize=r,this.strokeWidth=s,r<=0||!isFinite(r))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class at{constructor(r,s,f){this.advance=s,this.fontMetrics=f,r instanceof R?this.#t=()=>r:this.#t=r}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(r=>({innerShape:r,element:r.makeElement()}))}}function G(y){const r=new Map;typeof y=="number"&&(y=new it(y));const s=(t,n,a)=>{const h=new at(n,a,y);if(r.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...r].at(-1)[0]}"`);r.set(t,h)},{aWidth:f,digitWidth:d,capitalTop:e,capitalTopMiddle:w,capitalMiddle:i,capitalBottomMiddle:g,baseline:o,descender:b,strokeWidth:_}=y,c=0;{const t=d,a=t/2,h=t;{const l=(b-o)*2,H=b,S=H-l,E=e-l/4,C=E+l;if(l<=0||H<=S||S<=C||C<=E)throw new Error("wtf");const M=d*.5;{const p=m.M(M,E).Q_HV(0,C).V(S).Q_VH(M,H).pathShape;s("(",p,M)}{const p=d*.5,u=m.M(0,E).Q_HV(p,C).V(S).Q_VH(0,H).pathShape;s(")",u,p)}{const p=m.M(M,E).H(0).V(H).H(M).pathShape;s("[",p,M)}{const p=m.M(0,E).H(M).V(H).H(0).pathShape;s("]",p,M)}}{const l=d*.75,H=l/2,S=m.M(H,i-H).V(i+H).M(c,i).H(l).pathShape;s("+",S,l)}{const l=d*.75,H=m.M(c,i).H(l).pathShape;s("-",H,l)}{const l=d/2*.9,H=5,S=-Math.PI/2,E=(e+o)/2,C=0,M=J(H,Q=>{const x=Q*(Math.PI*2)/H+S,k=ct(C,x),$=ct(l,x);return[k,$]}),p=M.flat(),u=Math.min(...p.map(({x:Q})=>Q));p.forEach(Q=>{Q.x-=u,Q.y+=E});const v=M.map(([Q,x])=>new U(Q.x,Q.y,x.x,x.y)),V=new R(v),L=Math.max(...p.map(({x:Q})=>Q));s("*",V,L)}{const l=d*.75,H=m.M(c,i-_*1.25).H(l).M(c,i+_*1.25).H(l).pathShape;s("=",H,l)}{const l=d*1.25,H=o+_,S=m.M(0,H).H(l).pathShape;s("_",S,l)}{const l=d/2,H=3*l,S=l/3,E=e,C=E+l,M=C+l,p=M+l,u=m.M(l+S,E).L(l-S,p).M(2*l+S,E).L(2*l-S,p).M(0,C).H(H).M(0,M).H(H).pathShape;s("#",u,H)}{const l=d/2,H=3*l,S=0,E=l,C=H/2,M=2*l,p=H,u=e+(y.mHeight-H)/2,v=u+E,V=u+C,L=u+M,Q=u+p,x=m.M(M,V).Q_VH(C,v).Q_HV(E,V).Q_VH(C,L).Q_HV(M,V).Q_VH((M+p)/2,L).Q_HV(p,V).V((v+V)/2).Q_VH(C,u).Q_HV(S,V).Q_VH(C,Q).H((M+p)/2).pathShape;s("@",x,H)}{const l=m.M(a,e).Q(h,e,h,w).L(h,g).Q(h,o,a,o).Q(c,o,c,g).L(c,w).Q(c,e,a,e).M(h,w).L(c,g).pathShape;s("0",l,t)}{const l=m.M(c,w).Q(a,w,a,e).L(a,o).M(c,o).L(h,o).pathShape;s("1",l,t)}{const l=m.M(c,w).Q_VH(a,e).Q_HV(h,w).Q_VH(a,i).Q_HV(c,o).L(h,o).pathShape;s("2",l,t)}{const l=m.M(c,w).Q_VH(a,e).Q_HV(h,w).Q_VH(a,i).Q_HV(h,g).Q_VH(a,o).Q_HV(c,g).pathShape;s("3",l,t)}{const l=(a+h)/2,H=(a+c)/2,S=m.M(h,i).L(c,i).L(H,e).M(l,e).L(l,o).pathShape;s("4",S,t)}{const l=c+d/5,H=h-d/5,S=(i+g)/2,E=m.M(H,e).L(l,e).L(c,i).Q_VH(a,w).Q_HV(h,S).Q_VH(a,o).Q_HV(c,g).pathShape;s("5",E,t)}{const l=m.M(h,e).Q_HV(c,g).Q_VH(a,o).Q_HV(h,g).Q_VH(a,i).Q_HV(c,g).pathShape;s("6",l,t)}{const l=m.M(c,e).L(h,e).L(c,o).pathShape;s("7",l,t)}{const l=m.M(a,e).Q(h,e,h,w).Q(h,i,a,i).Q(c,i,c,g).Q(c,o,a,o).Q(h,o,h,g).Q(h,i,a,i).Q(c,i,c,w).Q(c,e,a,e).pathShape;s("8",l,t)}{const l=m.M(h,w).Q(h,e,a,e).Q(c,e,c,w).Q(c,i,a,i).Q(h,i,h,w).Q(h,o,c,o).pathShape;s("9",l,t)}}{const t=m.M(c,o).L(f/2,e).L(y.aWidth,o).M(y.aWidth/4,i).L(y.aWidth*.75,i).pathShape;s("A",t,f)}{const t=d,n=w-e;if(n<=0)throw new Error("wtf");const a=(t-n)*(2/3),h=o-g;if(h<=0)throw new Error("wtf");const l=t-h,H=m.M(c,e).L(c,o).L(l,o).M(Math.max(l,a),i).L(c,i).M(c,e).L(a,e).Q(a+n,e,a+n,e+n).Q(a+n,i,a,i).M(l,i).Q(l+h,i,l+h,o-h).Q(l+h,o,l,o).pathShape;s("B",H,t)}{const t=d,a=t/2,h=t,l=m.M(h,w).Q(h,e,a,e).Q(c,e,c,w).L(c,g).Q(c,o,a,o).Q(h,o,h,g).pathShape;s("C",l,t)}{const t=d,a=t/2,h=t,l=m.M(c,e).L(c,o).L(a,o).Q(h,o,h,g).L(h,w).Q(h,e,a,e).L(c,e).pathShape;s("D",l,t)}{const t=d,n=t*(2/3),a=t,h=m.M(a,e).L(c,e).L(c,o).L(a,o).M(n,i).L(c,i).pathShape;s("E",h,t)}{const t=d,n=t*(2/3),a=t,h=m.M(a,e).L(c,e).L(c,o).M(n,i).L(c,i).pathShape;s("F",h,t)}{const t=d,a=t/2,h=t,l=m.M(h,w).Q(h,e,a,e).Q(c,e,c,w).L(c,g).Q(c,o,a,o).Q(h,o,h,g).L(h,i).L(a,i).pathShape;s("G",l,t)}{const t=d,n=t,a=m.M(c,e).L(c,o).M(n,e).L(n,o).M(c,i).L(n,i).pathShape;s("H",a,t)}{const t=y.mHeight/3,n=t/2,a=t,h=m.M(c,e).L(a,e).M(c,o).L(a,o).M(n,e).L(n,o).pathShape;s("I",h,t)}{const t=d*.85,a=t/2,h=t,l=m.M(h,e).L(h,g).Q(h,o,a,o).Q(c,o,c,g).pathShape;s("J",l,t)}{const t=d+_,n=(e+o)/2,a=m.M(c,e).L(c,o).M(t,e).L(c+.5,n).L(t,o).pathShape;s("K",a,t)}{const t=d,n=m.M(c,e).L(c,o).L(t,o).pathShape;s("L",n,t)}{const t=d*1.5,n=t/2,a=m.M(c,o).L(c,e).L(n,i).L(t,e).L(t,o).pathShape;s("M",a,t)}{const t=d*1.2,n=m.M(c,o).L(c,e).L(t,o).L(t,e).pathShape;s("N",n,t)}{const t=d*1.5,n=t/2,a=(e+o)/2,h=m.M(n,e).Q_HV(t,a).Q_VH(n,o).Q_HV(c,a).Q_VH(n,e).pathShape;s("O",h,t)}{const t=d,n=i-w;if(n<=0)throw new Error("wtf");const a=t-n,h=m.M(c,e).L(c,o).M(c,e).L(a,e).Q_HV(t,w).Q_VH(a,i).L(c,i).pathShape;s("P",h,t)}{const t=d*1.5,n=t/2,a=(e+o)/2,h=m.M(n,e).Q_HV(t,a).Q_VH(n,o).Q_HV(c,a).Q_VH(n,e).M(t-n*.75,o-n*.75).L(t+n/6,o+n/6).pathShape;s("Q",h,t)}{const t=d,n=i-w;if(n<=0)throw new Error("wtf");const a=t-n,h=m.M(c,e).L(c,o).M(c,e).L(a,e).Q_HV(t,w).Q_VH(a,i).L(c,i).M(a,i).L(t,o).pathShape;s("R",h,t)}{const t=d,n=d/2,a=d,h=m.M(a,w).Q_VH(n,e).Q_HV(c,w).Q_VH(n,i).Q_HV(a,g).Q_VH(n,o).Q_HV(c,g).pathShape;s("S",h,t)}{const n=d+_,a=n/2,h=n,l=y.mHeight/8,H=m.M(h,w).Q_VH(a,e).Q_HV(c,w).Q_VH(a,i).Q_HV(h,g).Q_VH(a,o).Q_HV(c,g).M(a,e-l).V(o+l).pathShape;s("$",H,n)}{const t=d,n=t/2,a=m.M(n,e).L(n,o).M(t,e).L(c,e).pathShape;s("T",a,t)}{const t=(g+i)/2,n=Math.abs(t-o)*.85,a=n*2,h=m.M(c,e).V(t).Q_VH(n,o).Q_HV(a,t).V(e).pathShape;s("U",h,a)}{const t=f,n=t/2,a=m.M(c,e).L(n,o).L(t,e).pathShape;s("V",a,t)}{const t=f*1.5,n=t/3,a=t/2,h=n*2,l=m.M(c,e).L(n,o).L(a,i).L(h,o).L(t,e).pathShape;s("W",l,t)}{const t=d,n=m.M(t,e).L(c,o).M(c,e).L(t,o).pathShape;s("X",n,t)}{const t=_,n=d+t,a=m.M(n,e).L(t,o).M(c,e).L(n/2,i).pathShape;s("Y",a,n)}{const t=d,n=m.M(c,e).H(t).L(c,o).H(t).pathShape;s("Z",n,t)}{const t=d/4,n=d*1.2,a=m.M(t*2,e+t).Q_VH(t,e).Q_HV(0,e+t).Q_VH(t,e+t*2).Q_HV(t*2,e+t),l=a.pathShape.translate(n-t*2,y.mHeight-t*2);a.addCommands(l.commands),a.M(n,e).L(c,o);const H=a.pathShape;s("%",H,n)}{const t=d,n=m.M(t,e).L(c,o).pathShape;s("/",n,t)}{const t=d,n=m.M(c,e).L(t,o).pathShape;s("\\",n,t)}{const t=d,n=_/2,a=t+n,h=t/2,l=m.M(h,i).Q_HV(c,g).Q_VH(h,o).Q_HV(t,g).Q_VH(h,i).M(a,i).L(a,o).pathShape;s("a",l,a)}{const t=d,n=_/2,a=t+n,h=n,l=n+t/2,H=a,S=m.M(c,e).V(o).M(h,g).Q_VH(l,o).Q_HV(H,g).Q_VH(l,i).Q_HV(h,g).pathShape;s("b",S,a)}{const t=d*.875,n=0,a=d/2,h=t,l=(i+g)/2,H=(g+o)/2,S=m.M(h,l).Q_VH(a,i).Q_HV(n,g).Q_VH(a,o).Q_HV(h,H).pathShape;s("c",S,t)}{const t=d,n=_/2,a=t+n,h=t/2,l=m.M(h,i).Q_HV(c,g).Q_VH(h,o).Q_HV(t,g).Q_VH(h,i).M(a,e).L(a,o).pathShape;s("d",l,a)}const Y=d/8;{const t=d,n=d/2,a=t,h=a-Y,l=m.M(c,g).H(a).Q_VH(n,i).Q_HV(c,g).Q_VH(n,o).H(h).pathShape;s("e",l,t)}{const t=d*.75,n=t/2,a=t,h=m.M(a,e).Q_HV(n,w).V(o).M(a,i).H(c).pathShape;s("f",h,t)}{const t=d,n=_/2,a=t+n,h=t/2,l=m.M(h,i).Q_HV(c,g).Q_VH(h,o).Q_HV(t,g).Q_VH(h,i).M(a,i).V(o).Q_VH(h,b).H(c+Y).pathShape;s("g",l,a)}{const t=d*.85,n=t/2,a=m.M(c,e).V(o).Q_VH(n,i).Q_HV(t,g).V(o).pathShape;s("h",a,t)}const T=_/4;{const n=m.M(c,i).V(o).M(c,w).V(w-T).pathShape;s("i",n,0)}{const t=Math.abs(o-b),n=t/2,a=m.M(t,i).V(o).Q_VH(n,b).Q_HV(c,o).M(t,w).V(w-T).pathShape;s("j",a,t)}{const n=m.M(c,o).V(o-T).pathShape;s(".",n,0)}{const n=m.M(c,e).V(g).M(c,o).V(o-T).pathShape;s("!",n,0)}{const n=(b-o)/2,a=n/2,h=m.M(c,o-T).V(o).Q_VH(-a,o+n).pathShape;s(",",h,0)}{const n=i,a=m.M(c,o).V(o-T).M(c,n-T).V(n).pathShape;s(":",a,0)}{const n=i,a=(b-o)/2,h=a/2,l=m.M(c,o-T).V(o).Q_VH(-h,o+a).M(c,n-T).V(n).pathShape;s(";",l,0)}{const t=y.xHeight*2/3,n=d/10,a=t+n,h=m.M(c,e).V(o).M(t,i).L(c,i+t).M(t/2,o-t).L(a,o).pathShape;s("k",h,a)}{const n=m.M(c,e).V(o).pathShape;s("l",n,0)}{const t=d*1.5,n=t/4,a=t/2,h=t*3/4,l=t,H=m.M(c,i).V(o).Q_VH(n,i).Q_HV(a,g).V(o).M(a,g).Q_VH(h,i).Q_HV(l,g).V(o).pathShape;s("m",H,t)}{const t=d*.85,n=t/2,a=m.M(c,i).V(o).Q_VH(n,i).Q_HV(t,g).V(o).pathShape;s("n",a,t)}{const t=d,n=0,a=t/2,h=t,l=m.M(a,i).Q_HV(h,g).Q_VH(a,o).Q_HV(n,g).Q_VH(a,i).pathShape;s("o",l,t)}{const t=d,n=_/2,a=t+n,h=n,l=n+t/2,H=a,S=m.M(c,i).V(b).M(h,g).Q_VH(l,i).Q_HV(H,g).Q_VH(l,o).Q_HV(h,g).pathShape;s("p",S,a)}{const t=d,n=t/2,a=t+_/2,h=Math.abs(o-b),l=a+h/2,H=a+h,S=m.M(n,i).Q_HV(c,g).Q_VH(n,o).Q_HV(t,g).Q_VH(n,i).M(a,i).V(o).Q_VH(l,b).Q_HV(H,o).pathShape;s("q",S,H)}{const t=d,n=t/2,a=m.M(c,i).V(o).Q_VH(n,i).Q_HV(t,g).pathShape;s("r",a,t)}{const t=y.xHeight*2/3,n=t/2,a=o,h=g,l=i,H=(a+h)/2,S=(h+l)/2,E=(S+l)/2,C=(a+H)/2,M=m.M(t,E).Q_VH(n,l).Q_HV(c,S).Q_VH(n,h).Q_HV(t,H).Q_VH(n,a).Q_HV(c,C).pathShape;s("s",M,t)}{const t=d*.75,n=t/2,a=t,h=m.M(n,w).V(g).Q_VH(a,o).M(a,i).H(c).pathShape;s("t",h,t)}{const t=d*.85,n=t/2,a=m.M(c,i).V(g).Q_VH(n,o).Q_HV(t,i).L(t,o).pathShape;s("u",a,t)}{const t=d,n=t/2,a=m.M(c,i).L(n,o).L(t,i).pathShape;s("v",a,t)}{const t=y.xHeight*1.5,n=t/3,a=t/2,h=n*2,l=m.M(c,i).L(n,o).L(a,g).L(h,o).L(t,i).pathShape;s("w",l,t)}{const t=d,n=m.M(t,i).L(c,o).M(c,i).L(t,o).pathShape;s("x",n,t)}{const t=d,n=t/2,a=(i+b)/2,h=m.M(t,i).L(c,b).M(c,i).L(n,a).pathShape;s("y",h,t)}{const t=d,n=m.M(c,i).H(t).L(c,o).H(t).pathShape;s("z",n,t)}return new Map([...r.entries()].sort(([t],[n])=>t<n?-1:t==n?1:0))}const j=lt("main",SVGSVGElement);function wt(y){const r=new Map;return y.forEach((s,f)=>{const{advance:d,fontMetrics:e}=s,w=s.shape.convertToCubics(),i=new at(w,d,e);r.set(f,i)}),r}function Vt(y,r=y*.75){const s=G(y);return G(r).forEach((d,e)=>{const w=e.toLowerCase();w!=e&&s.set(w,d)}),s}function Z(y,r){const s={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},f=mt.generator({options:{...s,...r}}),d=new Map;return y.forEach((e,w)=>{const i=()=>{const o=f.path(e.d),_=f.toPaths(o).map(c=>c.d);return R.fromStrings(_)},g=new at(i,e.advance,e.fontMetrics);d.set(w,g)}),d}{let y=function(M){return M.length==1},r=function(M){let u=1/0,v=-1/0;M.forEach(x=>{const{description:k,baseline:$}=x,{fontMetrics:D}=k;u=Math.min(u,D.top+$),v=Math.max(v,D.bottom+$)});const V=u-1,L=v+1,Q=document.createElementNS("http://www.w3.org/2000/svg","rect");return Q.x.baseVal.value=0,Q.y.baseVal.value=V,Q.width.baseVal.value=100,Q.height.baseVal.value=L-V,j.insertBefore(Q,M[0].element),Q},s=function(M){const p=new f;p.font=T;const u=p.addText(M),v=f.join(u),V=p.x;return{shape:v,advance:V}};class f{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(p=1){this.baseline+=this.lineHeight*p}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=G(5);getDescription(p){return this.font.get(p)}static join(p){return new R(p.flatMap(u=>u.description.shape.translate(u.x,u.baseline).commands))}displayText(p){return p.map(u=>{const v=u.description.shape,V=v.makeElement();return j.appendChild(V),V.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...u,shape:v,element:V}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(p){const u=new Set,v=[];for(;;){const V=f.WORD_BREAK.exec(p);if(!V)break;const L=V[1];if(p=V[2],L[0]==`
`)this.carriageReturn(),this.lineFeed(L.length*4/3);else if(L[0]==" ")this.addSpace(L.length);else{let Q=0;const x=0,k=[...L].flatMap($=>{const D=this.getDescription($);if(D){const F=D.advance+D.fontMetrics.defaultKerning,A={x:Q,width:F,baseline:x,description:D,char:$};return Q+=F,A}else return u.add($),[]});this.x+Q>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),k.forEach($=>{$.x+=this.x,$.baseline=this.baseline,v.push($)}),this.x+=Q}}return u.size>0&&console.warn(u),v}addSpace(p=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*p}}class d{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(p=1){this.baseline+=this.lineHeight*p}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=G(5);getDescription(p){return this.font.get(p)}makeRoom(p){this.x+p.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(p){this.x+=p.advance+p.fontMetrics.defaultKerning}moveToCursor(p){p.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(p,u){return this.x+u>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),j.appendChild(p),p.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=u,this}show1(p){this.makeRoom(p);const u=p.makeElement();j.appendChild(u);const{x:v,baseline:V}=this;return this.moveToCursor(u),this.advance(p),{element:u,x:v,baseline:V}}splitAndShow1(p){this.makeRoom(p);const u=p.makeElements();return u.forEach(({element:v})=>{j.appendChild(v),this.moveToCursor(v)}),this.advance(p),u}show(p){const u=new Set,v=[...p].flatMap(V=>{const L=this.getDescription(V);return L?{...this.show1(L),description:L,char:V}:V==" "?(this.showSpace(),[]):(u.add(V),[])});return u.size>0&&console.warn(u),v}splitAndShow(p){const u=new Set,v=[...p].flatMap(V=>{const L=this.getDescription(V);return L?this.splitAndShow1(L):V==" "?(this.showSpace(),[]):(u.add(V),[])});return u.size>0&&console.warn(u),v}showSpace(p=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*p,this}}const e=new d;let w="";e.font.forEach((M,p)=>{y(p)&&(w+=p)}),e.show(w),e.CRLF();{const M=e.show(w);M.forEach(({element:p})=>{p.classList.add("lights")}),r(M).style.fill="black"}e.CRLF();const i=e.splitAndShow(w),g=M=>{if(M==0)return 0;const p=i[M].innerShape,u=i[M-1].innerShape,v=Math.hypot(u.endX-p.startX,u.endY-p.startY);return X(v),v},{totalLength:o,maxLength:b}=i.reduce(({totalLength:M,maxLength:p},{element:u},v)=>{const V=u.getTotalLength();return X(V),M+=g(v)+V,p=Math.max(p,V),{totalLength:M,maxLength:p}},{totalLength:0,maxLength:0}),_=Math.ceil(b)+1,c=`0 ${_} ${_} 0`;async function Y(){for(;;){let u=0,v;i.forEach(({element:V},L)=>{const Q=V.getTotalLength();u+=g(L);const x=1e3+u/o*3e4;u+=Q;const k=Q/o*3e4;v=V.animate([{strokeDasharray:c,strokeDashoffset:1e-5},{strokeDasharray:c,strokeDashoffset:-Q}],{delay:x,duration:k,fill:"backwards"})}),await v.finished,await ot(3e3)}}Y(),e.CRLF(),e.font=Vt(5,3),e.show("Small  Caps"),e.lineHeight*=1.125;const T=G(new it(6,.5)),t=wt(T),n=[{roughness:.4,title:"Heartbeat!"},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"The Wave *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(M=>{const{roughness:p,title:u}=M;return e.font=Z(t,{roughness:p}),e.CRLF(),e.show(`${Math.round(p*100)} ${u??"Rough Font"} [4XxYyZ]`)}),a=n[0],h=n[1],l=n[2],H=n[3],S=n[4],E=n[5],C=Z(t,{roughness:0});r(S).style.fill="black",S.forEach(({element:M})=>{M.classList.add("lights")}),[S,E].forEach(M=>{M.forEach(p=>{function u(){return Math.random()+.5|0}const v=3+u()+u()+u(),V=J(v,()=>({d:p.description.cssPath}));V.push(V[0]);const L=v*1e4/3,Q=L/8,x=Math.exp(P(Math.log(Q),Math.log(L),Math.random()));p.element.animate(V,{duration:x,iterations:1/0})})}),h.forEach(M=>{const p=C.get(M.char).cssPath,u=M.element.style.d,v=.03,V=[{offset:0,d:u},{offset:v,d:p},{offset:.5,d:p},{offset:v+.5,d:u},{offset:1,d:u}];M.element.animate(V,{duration:2e3,iterations:1/0})});{const V=H.length,L=V*3,Q=5e3;H.forEach((x,k)=>{const $=C.get(x.char).cssPath,D=x.element.style.d,F=x.element.style.transform,A=F+" scale(1.32)",I={d:$,transform:F},B={d:D,transform:A},z=[{offset:0,...I},{offset:4/L,...B},{offset:6/L,...B},{offset:14/L,...I},{offset:1,...I}];x.element.animate(z,{duration:Q,iterationStart:1-k/V,iterations:1/0})})}{const M=l;r(M).style.fill="hwb(190 10% 0% / 1)",M.forEach(p=>{const u=C.get(p.char).cssPath,v=p.element.style.d,V=1/16,L=15/16,Q=14e3,x=[{offset:0,strokeWidth:.5},{offset:V,strokeWidth:.5},{offset:L,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],k=[{offset:0,d:u},{offset:V,d:u,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:L,d:v},{offset:1,d:v}],$=[{offset:0,opacity:1},{offset:V,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:L,opacity:0},{offset:1,opacity:0}];p.element.animate($,{duration:Q,iterations:1/0}),p.element.animate(k,{duration:Q,iterations:1/0}),p.element.animate(x,{duration:Q,iterations:1/0}),p.element.style.stroke="white"})}a.forEach(M=>{const p=C.get(M.char).cssPath,u=M.element.style.d,v=750,V="cubic-bezier(.55,0,1,.55)";M.element.animate([{offset:0,d:p,easing:V},{offset:.5,d:u,easing:V},{offset:1,d:p}],{duration:v,iterations:1/0})});{e.CRLF();const M=.25,p=1.5,u="The more I drink the more I want to tell you what I really think about you.",v=dt(0,M,u.length-1,p),V=[...u].flatMap((F,A)=>(e.font=Z(t,{roughness:v(A)}),e.splitAndShow(F))),L=F=>{if(F==0)return 0;const A=V[F].innerShape,I=V[F-1].innerShape,B=Math.hypot(I.endX-A.startX,I.endY-A.startY);return X(B),B},{totalLength:Q,maxLength:x}=V.reduce(({totalLength:F,maxLength:A},{element:I},B)=>{const z=I.getTotalLength();return F+=L(B)+z,A=Math.max(A,z),{totalLength:F,maxLength:A}},{totalLength:0,maxLength:0}),k=Math.ceil(x)+1,$=`0 ${k} ${k} 0`;async function D(){for(;;){let I=0,B;V.forEach(({element:z},ht)=>{const q=z.getTotalLength();I+=L(ht);const rt=1e3+I/Q*3e4;I+=q;const pt=q/Q*3e4;B=z.animate([{strokeDasharray:$,strokeDashoffset:1e-5},{strokeDasharray:$,strokeDashoffset:-q}],{delay:rt,duration:pt,fill:"backwards"})}),await B.finished,await ot(3e3)}}D()}{e.font=T,e.CRLF();const M=s("Stop"),p=s("Go");e.CRLF();const u=M.shape.makeElement();e.showAndAdvance(u,M.advance),e.showSpace();const v=p.shape.makeElement();e.showAndAdvance(v,p.advance);const V=p.shape.matchForMorph(M.shape),L=V[0],Q=V[1],x=M.shape.makeElement();e.showSpace(),e.showAndAdvance(x,M.advance),x.animate([{d:L},{d:L,easing:"ease"},{d:Q},{d:Q,easing:"ease"},{d:L}],{duration:5e3,iterations:1/0})}{const M=L=>s([...L].join(`
`)).shape,p=M("123"),u=M("ABC"),[v,V]=p.matchForMorph(u);e.CRLF(),J(7,L=>{const Q=p.makeElement();e.showAndAdvance(Q,10*(6/7)*.86),Q.animate([{d:v},{d:V}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:L/6*.999})}),e.lineFeed(2.5)}{let M=function(L,Q){const x=L.makeElement();e.showAndAdvance(x,0);const k=L.matchForMorph(Q);x.animate([{d:k[0]},{d:k[0],easing:"ease"},{d:k[1]},{d:k[1],easing:"ease"},{d:k[0]}],{duration:5e3,iterations:1/0})};e.CRLF();const p=s("A  B  C"),u=s(" A B C");M(p.shape,u.shape),e.x+=Math.max(p.advance,u.advance),e.showSpace(4);const v=new R(ut([...u.shape.commands]));M(p.shape,v),e.x+=Math.max(p.advance,u.advance),e.showSpace(4);const V=new R(u.shape.commands.toReversed());M(p.shape,V),e.lineFeed(2.5)}e.x>e.rightMargin&&e.CRLF(),j.viewBox.baseVal.height=e.baseline+e.font.get("0").fontMetrics.bottom}
