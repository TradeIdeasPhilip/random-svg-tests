import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as X,m as st,i as et,g as Mt,s as ut}from"./client-misc-leadhGo2.js";/* empty css              */import{b as j,l as B,c as mt,a as nt,s as wt}from"./utility-DcEUXXL7.js";import{a as vt}from"./rough.esm-C_8OcXYf.js";class ht{constructor(c,e,m){this.x0=c,this.y0=e,this.x=m,j(c,e,m),this.y=e,this.asString=`H ${m}`}y;incomingAngle=NaN;outgoingAngle=NaN;command="H";asString;translate(c,e){return new ht(this.x0+c,this.y0+e,this.x+c)}toCubic(){return new q(this.x0,this.y0,B(this.x0,this.x,1/3),this.y0,B(this.x0,this.x,2/3),this.y0,this.x,this.y0)}}class rt{constructor(c,e,m){this.x0=c,this.y0=e,this.y=m,j(c,e,m),this.x=c,this.asString=`V ${m}`}x;incomingAngle=NaN;outgoingAngle=NaN;command="V";asString;translate(c,e){return new rt(this.x0+c,this.y0+e,this.y+e)}toCubic(){return new q(this.x0,this.y0,this.x0,B(this.y0,this.y,1/3),this.x0,B(this.y0,this.y,2/3),this.x0,this.y)}}class ot{constructor(c,e,m,p){this.x0=c,this.y0=e,this.x=m,this.y=p,j(c,e,m,p),this.asString=`L ${m},${p}`}incomingAngle=NaN;outgoingAngle=NaN;command="L";asString;translate(c,e){return new ot(this.x0+c,this.y0+e,this.x+c,this.y+e)}toCubic(){return new q(this.x0,this.y0,B(this.x0,this.x,1/3),B(this.y0,this.y,1/3),B(this.x0,this.x,2/3),B(this.y0,this.y,2/3),this.x,this.y)}}class pt{constructor(c,e,m,p,s,u){this.x0=c,this.y0=e,this.x1=m,this.y1=p,this.x=s,this.y=u,j(c,e,m,p,s,u),this.asString=`Q ${m},${p} ${s},${u}`}incomingAngle=NaN;outgoingAngle=NaN;command="Q";asString;translate(c,e){return new pt(this.x0+c,this.y0+e,this.x1+c,this.y1+e,this.x+c,this.y+e)}toCubic(){return new q(this.x0,this.y0,B(this.x0,this.x1,2/3),B(this.y0,this.y1,2/3),B(this.x,this.x1,2/3),B(this.y,this.y1,2/3),this.x,this.y)}}class q{constructor(c,e,m,p,s,u,i,f){this.x0=c,this.y0=e,this.x1=m,this.y1=p,this.x2=s,this.y2=u,this.x=i,this.y=f,j(c,e,m,p,s,u,i,f),this.asString=`C ${m},${p} ${s},${u} ${i},${f}`}reverse(){return new q(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}incomingAngle=NaN;outgoingAngle=NaN;command="C";asString;translate(c,e){return new q(this.x0+c,this.y0+e,this.x1+c,this.y1+e,this.x2+c,this.y2+e,this.x+c,this.y+e)}toCubic(){return this}}class g{get commands(){return this.#t}addCommand(c){this.#t.push(c),this.#e=void 0}addCommands(c){return c.forEach(e=>this.addCommand(e)),this}static fromStrings(c){let e=c.join(" ");const m=[];let p;for(;e=e.replace(/^ */,""),e!="";){let s=Vt.exec(e);if(s){const u=X(s[1]),i=X(s[2]);if(u===void 0||i===void 0)throw console.error(s,u,i,this),new Error("wtf");p&&m.push(p),p=this.M(u,i),e=s[3];continue}if(p){if(s=xt.exec(e),s){const u=X(s[1]),i=X(s[2]),f=X(s[3]),a=X(s[4]);if(u===void 0||i===void 0||f===void 0||a===void 0)throw console.error(s,u,i,f,a,this),new Error("wtf");p=p.Q(u,i,f,a),e=s[5];continue}if(s=Qt.exec(e),s){const u=X(s[1]),i=X(s[2]),f=X(s[3]),a=X(s[4]),E=X(s[5]),_=X(s[6]);if(u===void 0||i===void 0||f===void 0||a===void 0||E===void 0||_===void 0)throw console.error(s,u,i,f,a,E,_,this),new Error("wtf");p=p.C(u,i,f,a,E,_),e=s[7];continue}}throw console.error(e),new Error("wtf")}return p&&m.push(p),m}static M(c,e){const m=new g;return m.M(c,e),m}#t=[];get pathShape(){return new F(this.#t)}#e;M(c,e,m=NaN){return j(c,e),this.#e={x:c,y:e,outgoingAngle:m},this}previous(){return this.#e??this.#t.at(-1)}H(c){const e=this.previous();return this.addCommand(new ht(e.x,e.y,c)),this}V(c){const e=this.previous();return this.addCommand(new rt(e.x,e.y,c)),this}L(c,e){const m=this.previous();return this.addCommand(new ot(m.x,m.y,c,e)),this}Q(c,e,m,p){const s=this.previous();return this.addCommand(new pt(s.x,s.y,c,e,m,p)),this}Q_HV(c,e){const m=this.previous();return this.Q(c,m.y,c,e)}Q_VH(c,e){const m=this.previous();return this.Q(m.x,e,c,e)}Q_angles(c,e,m,p){const s=this.previous();if(p??=s.outgoingAngle,p===void 0)throw new Error("wtf");j(p,m);const u=yt({x0:s.x,y0:s.y,slope:Math.tan(p)},{x0:c,y0:e,slope:Math.tan(m)});return u?this.Q(u.x,u.y,c,e):this.L(c,e),this}C(c,e,m,p,s,u){const i=this.previous();return this.addCommand(new q(i.x,i.y,c,e,m,p,s,u)),this}circle(c,e,m="cw"){const p=this.previous(),s=p.x,u=p.y,i=Math.atan2(u-e,s-c),f=Math.hypot(u-e,s-c),a=m=="cw"?1:-1,E=i+Math.PI*2*a,_=st(0,i,1,E);function r(t){switch(t){case 0:case 1:return p;default:{const n=_(t),o=nt(f,n);return{x:c+o.x,y:e+o.y}}}}function K(t){return r(t)}return this.addParametricPath(K,8),this}arc(c,e,m,p,s){const u=this.previous(),i=u.x,f=u.y;let a=mt(Math.atan2(f-e,i-c),Math.PI*2);const E=Math.hypot(f-e,i-c);let _=mt(Math.atan2(p-e,m-c),Math.PI*2);const r=Math.hypot(p-e,m-c);s=="cw"?a>_&&(_+=Math.PI*2):a<_&&(a+=Math.PI*2);const K=Math.abs(a-_),P=Math.ceil(K*1.17+1e-4),t=st(0,E,1,r),n=st(0,a,1,_);function o(h){switch(h){case 0:return u;case 1:return{x:m,y:p};default:{const d=nt(t(h),n(h));return{x:c+d.x,y:e+d.y}}}}return this.addParametricPath(o,P)}addParametricPath(c,e){if(e<=0)throw new Error("wtf");const m=.01/e,p=et(e+1,u=>{const i=u/e,f=c(i),a=Ht(c,i,m);return{t:i,point:f,direction:a}});return et(e,u=>({from:p[u],to:p[u+1]})).forEach(u=>{this.Q_angles(u.to.point.x,u.to.point.y,u.to.direction,u.from.direction)}),this}}function Ht(Q,c,e){if(!(c>=0&&c<=1))throw new Error("Expected 0 ≤ t ≤ 1");const m=Math.max(0,c-e),p=Q(m),s=Math.min(1,c+e),u=Q(s),i=u.x-p.x,f=u.y-p.y;return i==0&&f==0?NaN:Math.atan2(f,i)}const dt=" *",Y="(-?[0-9]+.?[0-9]*)",G=" *[, ] *",Vt=new RegExp(`^M${dt}${Y}${G}${Y}(.*)$`),xt=new RegExp(`^Q${dt}${Y}${G}${Y}${G}${Y}${G}${Y}(.*)$`),Qt=new RegExp(`^C${dt}${Y}${G}${Y}${G}${Y}${G}${Y}${G}${Y}${G}${Y}(.*)$`);class F{matchForMorph(c){const e=this.commands.map(i=>i.toCubic()),m=c.commands.map(i=>i.toCubic());if(e.length!=m.length){const{shorter:i,longer:f}=e.length<m.length?{shorter:e,longer:m}:{shorter:m,longer:e};if(i.length==0)throw new Error("can't morph something into nothing");const a=f.length/i.length,E=[];i.forEach((_,r)=>{const K=Math.round((r+1)*a);for(;E.length<K;)E.push(_)}),i.length=0,i.push(...E)}if(e.length!=m.length)throw new Error("wtf");function p(i){return F.cssifyPath(i.map(f=>new F([f]).rawPath).join())}const s=p(e),u=p(m);return[s,u]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(c){const m=g.fromStrings(c).flatMap(s=>s.commands);return new this(m)}constructor(c){this.commands=[...c]}static cssifyPath(c){return`path('${c}')`}get cssPath(){return F.cssifyPath(this.rawPath)}makeElement(){const c=document.createElementNS("http://www.w3.org/2000/svg","path"),e=this.cssPath;if(c.style.d=e,c.style.d=="")throw console.error(e,c),new Error("wtf");return c}static needAnM(c,e){return!c||c.x!=e.x0||c.y!=e.y0}get rawPath(){return this.commands.flatMap((c,e)=>{const m=[],p=this.commands[e-1];return F.needAnM(p,c)&&m.push(`M ${c.x0},${c.y0}`),m.push(c.asString),m}).join(" ")}get cssPaths(){return this.splitOnMove().map(c=>c.cssPath)}get rawPaths(){return this.splitOnMove().map(c=>c.rawPath)}splitOnMove(){const c=[];let e=[];return this.commands.forEach(m=>{F.needAnM(e.at(-1),m)&&(e=[],c.push(e)),e.push(m)}),c.map(m=>new F(m))}static join(c){return new F(c.flatMap(({Δx:e,Δy:m,shape:p})=>p.translate(e,m).commands))}convertToCubics(){return new F(this.commands.map(c=>c.toCubic()))}translate(c,e){return new F(this.commands.map(m=>m.translate(c,e)))}}function yt(Q,c){if(isNaN(Q.slope)||isNaN(c.slope)||Q.slope==c.slope)return;const e=Math.abs(Q.slope)*100>Number.MAX_SAFE_INTEGER,m=Math.abs(c.slope)*100>Number.MAX_SAFE_INTEGER;if(e&&m)return;let p,s;if(e||m){p=e?Q.x0:c.x0;const f=e?c:Q;s=f.slope*(p-f.x0)+f.y0}else p=(c.y0-c.slope*c.x0-Q.y0+Q.slope*Q.x0)/(Q.slope-c.slope),s=Q.slope*(p-Q.x0)+Q.y0;const u=e?Q.x0:m?c.x0:(c.y0-c.slope*c.x0-Q.y0+Q.slope*Q.x0)/(Q.slope-c.slope),i=e?c.slope*(u-c.x0)+c.y0:Q.slope*(u-Q.x0)+Q.y0;return console.log({x:p,oldX:u,y:s,oldY:i,αIsVertical:e,βIsVertical:m,α:Q,β:c}),{x:p,y:s}}class ft{constructor(c,e=c/10){if(this.fontSize=c,this.strokeWidth=e,c<=0||!isFinite(c))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class lt{constructor(c,e,m){this.advance=e,this.fontMetrics=m,c instanceof F?this.#t=()=>c:this.#t=c}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(c=>({innerShape:c,element:c.makeElement()}))}}const at=Math.PI/4,Lt=2*at,St=3*at,_t=5*at,bt=6*at;function tt(Q){const c=new Map;typeof Q=="number"&&(Q=new ft(Q));const e=(t,n,o)=>{const h=new lt(n,o,Q);if(c.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...c].at(-1)[0]}"`);c.set(t,h)},{aWidth:m,digitWidth:p,capitalTop:s,capitalTopMiddle:u,capitalMiddle:i,capitalBottomMiddle:f,baseline:a,descender:E,strokeWidth:_}=Q,r=0;{const t=p,o=t/2,h=t;{const d=(E-a)*2,H=E,L=H-d,C=s-d/4,$=C+d;if(d<=0||H<=L||L<=$||$<=C)throw new Error("wtf");const w=p*.5;{const l=g.M(w,C).Q_HV(0,$).V(L).Q_VH(w,H).pathShape;e("(",l,w)}{const l=p*.5,M=g.M(0,C).Q_HV(l,$).V(L).Q_VH(0,H).pathShape;e(")",M,l)}{const l=g.M(w,C).H(0).V(H).H(w).pathShape;e("[",l,w)}{const l=g.M(0,C).H(w).V(H).H(0).pathShape;e("]",l,w)}}{const d=p*.75,H=d/2,L=g.M(H,i-H).V(i+H).M(r,i).H(d).pathShape;e("+",L,d)}{const d=p*.75,H=g.M(r,i).H(d).pathShape;e("-",H,d)}{const d=p/2*.9,H=5,L=-Math.PI/2,C=(s+a)/2,$=0,w=et(H,V=>{const S=V*(Math.PI*2)/H+L,R=nt($,S),k=nt(d,S);return[R,k]}),l=w.flat(),M=Math.min(...l.map(({x:V})=>V));l.forEach(V=>{V.x-=M,V.y+=C});const x=w.map(([V,S])=>new ot(V.x,V.y,S.x,S.y)),v=new F(x),y=Math.max(...l.map(({x:V})=>V));e("*",v,y)}{const d=p*.75,H=g.M(r,i-_*1.25).H(d).M(r,i+_*1.25).H(d).pathShape;e("=",H,d)}{const d=p*1.25,H=a+_,L=g.M(0,H).H(d).pathShape;e("_",L,d)}{const d=p/2,H=3*d,L=d/3,C=s,$=C+d,w=$+d,l=w+d,M=g.M(d+L,C).L(d-L,l).M(2*d+L,C).L(2*d-L,l).M(0,$).H(H).M(0,w).H(H).pathShape;e("#",M,H)}{const d=p/2,H=3*d,L=0,C=d,$=H/2,w=2*d,l=H,M=s+(Q.mHeight-H)/2,x=M+C,v=M+$,y=M+w,V=M+l,S=g.M(w,v).Q_VH($,x).Q_HV(C,v).Q_VH($,y).Q_HV(w,v).Q_VH((w+l)/2,y).Q_HV(l,v).V((x+v)/2).Q_VH($,M).Q_HV(L,v).Q_VH($,V).H((w+l)/2).pathShape;e("@",S,H)}{const d=g.M(o,s).Q(h,s,h,u).L(h,f).Q(h,a,o,a).Q(r,a,r,f).L(r,u).Q(r,s,o,s).M(h,u).L(r,f).pathShape;e("0",d,t)}{const d=g.M(r,u).Q(o,u,o,s).L(o,a).M(r,a).L(h,a).pathShape;e("1",d,t)}{const d=g.M(r,u).Q_VH(o,s).Q_HV(h,u).Q_VH(o,i).Q_HV(r,a).L(h,a).pathShape;e("2",d,t)}{const d=g.M(r,u).Q_VH(o,s).Q_HV(h,u).Q_VH(o,i).Q_HV(h,f).Q_VH(o,a).Q_HV(r,f).pathShape;e("3",d,t)}{const d=(o+h)/2,H=(o+r)/2,L=g.M(h,i).L(r,i).L(H,s).M(d,s).L(d,a).pathShape;e("4",L,t)}{const d=r+p/5,H=h-p/5,L=(i+f)/2,C=g.M(H,s).L(d,s).L(r,i).Q_VH(o,u).Q_HV(h,L).Q_VH(o,a).Q_HV(r,f).pathShape;e("5",C,t)}{const d=g.M(h,s).Q_HV(r,f).Q_VH(o,a).Q_HV(h,f).Q_VH(o,i).Q_HV(r,f).pathShape;e("6",d,t)}{const d=g.M(r,s).L(h,s).L(r,a).pathShape;e("7",d,t)}{const d=g.M(o,s).Q(h,s,h,u).Q(h,i,o,i).Q(r,i,r,f).Q(r,a,o,a).Q(h,a,h,f).Q(h,i,o,i).Q(r,i,r,u).Q(r,s,o,s).pathShape;e("8",d,t)}{const d=g.M(h,u).Q(h,s,o,s).Q(r,s,r,u).Q(r,i,o,i).Q(h,i,h,u).Q(h,a,r,a).pathShape;e("9",d,t)}}{const t=g.M(r,a).L(m/2,s).L(Q.aWidth,a).M(Q.aWidth/4,i).L(Q.aWidth*.75,i).pathShape;e("A",t,m)}{const t=p,n=u-s;if(n<=0)throw new Error("wtf");const o=(t-n)*(2/3),h=a-f;if(h<=0)throw new Error("wtf");const d=t-h,H=g.M(r,s).L(r,a).L(d,a).M(Math.max(d,o),i).L(r,i).M(r,s).L(o,s).Q(o+n,s,o+n,s+n).Q(o+n,i,o,i).M(d,i).Q(d+h,i,d+h,a-h).Q(d+h,a,d,a).pathShape;e("B",H,t)}{const t=p,o=t/2,h=t,d=g.M(h,u).Q(h,s,o,s).Q(r,s,r,u).L(r,f).Q(r,a,o,a).Q(h,a,h,f).pathShape;e("C",d,t)}{const t=p,o=t/2,h=t,d=g.M(r,s).L(r,a).L(o,a).Q(h,a,h,f).L(h,u).Q(h,s,o,s).L(r,s).pathShape;e("D",d,t)}{const t=p,n=t*(2/3),o=t,h=g.M(o,s).L(r,s).L(r,a).L(o,a).M(n,i).L(r,i).pathShape;e("E",h,t)}{const t=p,n=t*(2/3),o=t,h=g.M(o,s).L(r,s).L(r,a).M(n,i).L(r,i).pathShape;e("F",h,t)}{const t=p,o=t/2,h=t,d=g.M(h,u).Q(h,s,o,s).Q(r,s,r,u).L(r,f).Q(r,a,o,a).Q(h,a,h,f).L(h,i).L(o,i).pathShape;e("G",d,t)}{const t=p,n=t,o=g.M(r,s).L(r,a).M(n,s).L(n,a).M(r,i).L(n,i).pathShape;e("H",o,t)}{const t=Q.mHeight/3,n=t/2,o=t,h=g.M(r,s).L(o,s).M(r,a).L(o,a).M(n,s).L(n,a).pathShape;e("I",h,t)}{const t=p*.85,o=t/2,h=t,d=g.M(h,s).L(h,f).Q(h,a,o,a).Q(r,a,r,f).pathShape;e("J",d,t)}{const t=p+_,n=(s+a)/2,o=g.M(r,s).L(r,a).M(t,s).L(r+.5,n).L(t,a).pathShape;e("K",o,t)}{const t=p,n=g.M(r,s).L(r,a).L(t,a).pathShape;e("L",n,t)}{const t=p*1.5,n=t/2,o=g.M(r,a).L(r,s).L(n,i).L(t,s).L(t,a).pathShape;e("M",o,t)}{const t=p*1.2,n=g.M(r,a).L(r,s).L(t,a).L(t,s).pathShape;e("N",n,t)}{const t=p*1.5,n=t/2,o=(s+a)/2,h=g.M(n,s).Q_HV(t,o).Q_VH(n,a).Q_HV(r,o).Q_VH(n,s).pathShape;e("O",h,t)}{const t=p,n=i-u;if(n<=0)throw new Error("wtf");const o=t-n,h=g.M(r,s).L(r,a).M(r,s).L(o,s).Q_HV(t,u).Q_VH(o,i).L(r,i).pathShape;e("P",h,t)}{const t=p*1.5,n=t/2,o=(s+a)/2,h=g.M(n,s).Q_HV(t,o).Q_VH(n,a).Q_HV(r,o).Q_VH(n,s).M(t-n*.75,a-n*.75).L(t+n/6,a+n/6).pathShape;e("Q",h,t)}{const t=p,n=i-u;if(n<=0)throw new Error("wtf");const o=t-n,h=g.M(r,s).L(r,a).M(r,s).L(o,s).Q_HV(t,u).Q_VH(o,i).L(r,i).M(o,i).L(t,a).pathShape;e("R",h,t)}{const t=p,n=p/2,o=p,h=g.M(o,u).Q_VH(n,s).Q_HV(r,u).Q_VH(n,i).Q_HV(o,f).Q_VH(n,a).Q_HV(r,f).pathShape;e("S",h,t)}{const n=p+_,o=n/2,h=n,d=Q.mHeight/8,H=g.M(h,u).Q_VH(o,s).Q_HV(r,u).Q_VH(o,i).Q_HV(h,f).Q_VH(o,a).Q_HV(r,f).M(o,s-d).V(a+d).pathShape;e("$",H,n)}{const t=p,n=t/2,o=g.M(n,s).L(n,a).M(t,s).L(r,s).pathShape;e("T",o,t)}{const t=(f+i)/2,n=Math.abs(t-a)*.85,o=n*2,h=g.M(r,s).V(t).Q_VH(n,a).Q_HV(o,t).V(s).pathShape;e("U",h,o)}{const t=m,n=t/2,o=g.M(r,s).L(n,a).L(t,s).pathShape;e("V",o,t)}{const t=m*1.5,n=t/3,o=t/2,h=n*2,d=g.M(r,s).L(n,a).L(o,i).L(h,a).L(t,s).pathShape;e("W",d,t)}{const t=p,n=g.M(t,s).L(r,a).M(r,s).L(t,a).pathShape;e("X",n,t)}{const t=_,n=p+t,o=g.M(n,s).L(t,a).M(r,s).L(n/2,i).pathShape;e("Y",o,n)}{const t=p,n=g.M(r,s).H(t).L(r,a).H(t).pathShape;e("Z",n,t)}{const t=p/4,n=p*1.2,o=g.M(t*2,s+t).Q_VH(t,s).Q_HV(0,s+t).Q_VH(t,s+t*2).Q_HV(t*2,s+t),d=o.pathShape.translate(n-t*2,Q.mHeight-t*2);o.addCommands(d.commands),o.M(n,s).L(r,a);const H=o.pathShape;e("%",H,n)}{const t=p,n=g.M(t,s).L(r,a).pathShape;e("/",n,t)}{const t=p,n=g.M(r,s).L(t,a).pathShape;e("\\",n,t)}{const t=p,n=_/2,o=t+n,h=t/2,d=g.M(h,i).Q_HV(r,f).Q_VH(h,a).Q_HV(t,f).Q_VH(h,i).M(o,i).L(o,a).pathShape;e("a",d,o)}{const t=p,n=_/2,o=t+n,h=n,d=n+t/2,H=o,L=g.M(r,s).V(a).M(h,f).Q_VH(d,a).Q_HV(H,f).Q_VH(d,i).Q_HV(h,f).pathShape;e("b",L,o)}{const t=p*.875,n=0,o=p/2,h=t,d=(i+f)/2,H=(f+a)/2,L=g.M(h,d).Q_VH(o,i).Q_HV(n,f).Q_VH(o,a).Q_HV(h,H).pathShape;e("c",L,t)}{const t=p,n=_/2,o=t+n,h=t/2,d=g.M(h,i).Q_HV(r,f).Q_VH(h,a).Q_HV(t,f).Q_VH(h,i).M(o,s).L(o,a).pathShape;e("d",d,o)}const K=p/8;{const t=p,n=p/2,o=t,h=o-K,d=g.M(r,f).H(o).Q_VH(n,i).Q_HV(r,f).Q_VH(n,a).H(h).pathShape;e("e",d,t)}{const t=p*.75,n=t/2,o=t,h=g.M(o,s).Q_HV(n,u).V(a).M(o,i).H(r).pathShape;e("f",h,t)}{const t=p,n=_/2,o=t+n,h=t/2,d=g.M(h,i).Q_HV(r,f).Q_VH(h,a).Q_HV(t,f).Q_VH(h,i).M(o,i).V(a).Q_VH(h,E).H(r+K).pathShape;e("g",d,o)}{const t=p*.85,n=t/2,o=g.M(r,s).V(a).Q_VH(n,i).Q_HV(t,f).V(a).pathShape;e("h",o,t)}const P=_/4;{const n=g.M(r,i).V(a).M(r,u).V(u-P).pathShape;e("i",n,0)}{const t=Math.abs(a-E),n=t/2,o=g.M(t,i).V(a).Q_VH(n,E).Q_HV(r,a).M(t,u).V(u-P).pathShape;e("j",o,t)}{const n=g.M(r,a).V(a-P).pathShape;e(".",n,0)}{const n=g.M(r,s).V(f).M(r,a).V(a-P).pathShape;e("!",n,0)}{const n=(E-a)/2,o=n/2,h=g.M(r,a-P).V(a).Q_VH(-o,a+n).pathShape;e(",",h,0)}{const n=i,o=g.M(r,a).V(a-P).M(r,n-P).V(n).pathShape;e(":",o,0)}{const n=i,o=(E-a)/2,h=o/2,d=g.M(r,a-P).V(a).Q_VH(-h,a+o).M(r,n-P).V(n).pathShape;e(";",d,0)}{const t=Q.xHeight*2/3,n=p/10,o=t+n,h=g.M(r,s).V(a).M(t,i).L(r,i+t).M(t/2,a-t).L(o,a).pathShape;e("k",h,o)}{const n=g.M(r,s).V(a).pathShape;e("l",n,0)}{const t=p*1.5,n=t/4,o=t/2,h=t*3/4,d=t,H=g.M(r,i).V(a).Q_VH(n,i).Q_HV(o,f).V(a).M(o,f).Q_VH(h,i).Q_HV(d,f).V(a).pathShape;e("m",H,t)}{const t=p*.85,n=t/2,o=g.M(r,i).V(a).Q_VH(n,i).Q_HV(t,f).V(a).pathShape;e("n",o,t)}{const t=p,n=0,o=t/2,h=t,d=g.M(o,i).Q_HV(h,f).Q_VH(o,a).Q_HV(n,f).Q_VH(o,i).pathShape;e("o",d,t)}{const t=p,n=_/2,o=t+n,h=n,d=n+t/2,H=o,L=g.M(r,i).V(E).M(h,f).Q_VH(d,i).Q_HV(H,f).Q_VH(d,a).Q_HV(h,f).pathShape;e("p",L,o)}{const t=p,n=t/2,o=t+_/2,h=Math.abs(a-E),d=o+h/2,H=o+h,L=g.M(n,i).Q_HV(r,f).Q_VH(n,a).Q_HV(t,f).Q_VH(n,i).M(o,i).V(a).Q_VH(d,E).Q_HV(H,a).pathShape;e("q",L,H)}{const t=p,n=t/2,o=g.M(r,i).V(a).Q_VH(n,i).Q_HV(t,f).pathShape;e("r",o,t)}{const t=Q.xHeight*2/3,n=t/2,o=a,h=f,d=i,H=(o+h)/2,L=(h+d)/2,C=(L+d)/2,$=(o+H)/2,w=g.M(t,C).Q_VH(n,d).Q_HV(r,L).Q_VH(n,h).Q_HV(t,H).Q_VH(n,o).Q_HV(r,$).pathShape;e("s",w,t)}{const t=p*.75,n=t/2,o=t,h=g.M(n,u).V(f).Q_VH(o,a).M(o,i).H(r).pathShape;e("t",h,t)}{const t=p*.85,n=t/2,o=g.M(r,i).V(f).Q_VH(n,a).Q_HV(t,i).L(t,a).pathShape;e("u",o,t)}{const t=p,n=t/2,o=g.M(r,i).L(n,a).L(t,i).pathShape;e("v",o,t)}{const t=Q.xHeight*1.5,n=t/3,o=t/2,h=n*2,d=g.M(r,i).L(n,a).L(o,f).L(h,a).L(t,i).pathShape;e("w",d,t)}{const t=p,n=g.M(t,i).L(r,a).M(r,i).L(t,a).pathShape;e("x",n,t)}{const t=p,n=t/2,o=(i+E)/2,h=g.M(t,i).L(r,E).M(r,i).L(n,o).pathShape;e("y",h,t)}{const t=p,n=g.M(r,i).H(t).L(r,a).H(t).pathShape;e("z",n,t)}{const t=p/2,n=t/2,o=g.M(n,s).circle(n,s+n,"cw").pathShape;e("°",o,t)}{const t=-s,n=t/2,o=g.M(n,s).circle(n,s+n,"cw").pathShape;e("◯",o,t)}{const t=-s,n=t/2,o=s/2,h=g.M(0,o).arc(n,o,t,o,"cw").pathShape;e("◠",h,t)}{const t=-s,n=t/2,o=s/2,h=g.M(0,o).arc(n,o,t,o,"ccw").pathShape;e("◡",h,t)}{const t=-s,n=t/4,o=s+n,h=g.M(n*2,o).arc(n*3,o,t,o,"cw").Q_angles(n*2,a,St,Lt).Q_angles(0,o,bt,_t).arc(n,o,n*2,o,"cw").pathShape;e("♡",h,t)}{const t=Q.mHeight,n=t/4,o=n;{const h=t,d=(s+a)/2,H=g.M(o,d-n).L(0,d).L(o,d+n).M(0,d).L(h,d).M(h-o,d-n).L(h,d).L(h-o,d+n);e("↔",H.pathShape,h);const L=new F(H.commands.slice(0,3));e("←",L,h);const C=new F(H.commands.slice(2,5));e("→",C,h)}{const d=n,H=n*2,L=H,C=g.M(0,s+o).L(d,s).L(L,s+o).M(d,s).L(d,a).M(0,a-o).L(d,a).L(L,a-o);e("↕",C.pathShape,H);const $=new F(C.commands.slice(0,3));e("↑",$,H);const w=new F(C.commands.slice(2,5));e("↓",w,H)}}return new Map([...c.entries()].sort(([t],[n])=>t<n?-1:t==n?1:0))}const J=Mt("main",SVGSVGElement);function Et(Q){const c=new Map;return Q.forEach((e,m)=>{const{advance:p,fontMetrics:s}=e,u=e.shape.convertToCubics(),i=new lt(u,p,s);c.set(m,i)}),c}function Ct(Q,c=Q*.75){const e=tt(Q);return tt(c).forEach((p,s)=>{const u=s.toLowerCase();u!=s&&e.set(u,p)}),e}function it(Q,c){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},m=vt.generator({options:{...e,...c}}),p=new Map;return Q.forEach((s,u)=>{const i=()=>{const a=m.path(s.d),_=m.toPaths(a).map(r=>r.d);return F.fromStrings(_)},f=new lt(i,s.advance,s.fontMetrics);p.set(u,f)}),p}{let Q=function(w){return w.length==1},c=function(w){let M=1/0,x=-1/0;w.forEach(S=>{const{description:R,baseline:k}=S,{fontMetrics:D}=R;M=Math.min(M,D.top+k),x=Math.max(x,D.bottom+k)});const v=M-1,y=x+1,V=document.createElementNS("http://www.w3.org/2000/svg","rect");return V.x.baseVal.value=0,V.y.baseVal.value=v,V.width.baseVal.value=100,V.height.baseVal.value=y-v,J.insertBefore(V,w[0].element),V},e=function(w){const l=new m;l.font=P;const M=l.addText(w),x=m.join(M),v=l.x;return{shape:x,advance:v}};class m{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=tt(5);getDescription(l){return this.font.get(l)}static join(l){return new F(l.flatMap(M=>M.description.shape.translate(M.x,M.baseline).commands))}displayText(l){return l.map(M=>{const x=M.description.shape,v=x.makeElement();return J.appendChild(v),v.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...M,shape:x,element:v}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(l){const M=new Set,x=[];for(;;){const v=m.WORD_BREAK.exec(l);if(!v)break;const y=v[1];if(l=v[2],y[0]==`
`)this.carriageReturn(),this.lineFeed(y.length*4/3);else if(y[0]==" ")this.addSpace(y.length);else{let V=0;const S=0,R=[...y].flatMap(k=>{const D=this.getDescription(k);if(D){const A=D.advance+D.fontMetrics.defaultKerning,I={x:V,width:A,baseline:S,description:D,char:k};return V+=A,I}else return M.add(k),[]});this.x+V>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),R.forEach(k=>{k.x+=this.x,k.baseline=this.baseline,x.push(k)}),this.x+=V}}return M.size>0&&console.warn(M),x}addSpace(l=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*l}}class p{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=tt(5);getDescription(l){return this.font.get(l)}makeRoom(l){this.x+l.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(l){this.x+=l.advance+l.fontMetrics.defaultKerning}moveToCursor(l){l.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(l,M){return this.x+M>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),J.appendChild(l),l.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=M,this}show1(l){this.makeRoom(l);const M=l.makeElement();J.appendChild(M);const{x,baseline:v}=this;return this.moveToCursor(M),this.advance(l),{element:M,x,baseline:v}}splitAndShow1(l){this.makeRoom(l);const M=l.makeElements();return M.forEach(({element:x})=>{J.appendChild(x),this.moveToCursor(x)}),this.advance(l),M}show(l){const M=new Set,x=[...l].flatMap(v=>{const y=this.getDescription(v);return y?{...this.show1(y),description:y,char:v}:v==" "?(this.showSpace(),[]):(M.add(v),[])});return M.size>0&&console.warn(M),x}splitAndShow(l){const M=new Set,x=[...l].flatMap(v=>{const y=this.getDescription(v);return y?this.splitAndShow1(y):v==" "?(this.showSpace(),[]):(M.add(v),[])});return M.size>0&&console.warn(M),x}showSpace(l=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*l,this}}const s=new p;let u="";s.font.forEach((w,l)=>{Q(l)&&(u+=l)}),s.show(u),s.CRLF();{const w=s.show(u);w.forEach(({element:l})=>{l.classList.add("lights")}),c(w).style.fill="black"}s.CRLF();const i=s.splitAndShow(u),f=w=>{if(w==0)return 0;const l=i[w].innerShape,M=i[w-1].innerShape,x=Math.hypot(M.endX-l.startX,M.endY-l.startY);return j(x),x},{totalLength:a,maxLength:E}=i.reduce(({totalLength:w,maxLength:l},{element:M},x)=>{const v=M.getTotalLength();return j(v),w+=f(x)+v,l=Math.max(l,v),{totalLength:w,maxLength:l}},{totalLength:0,maxLength:0}),_=Math.ceil(E)+1,r=`0 ${_} ${_} 0`;async function K(){for(;;){let M=0,x;i.forEach(({element:v},y)=>{const V=v.getTotalLength();M+=f(y);const S=1e3+M/a*3e4;M+=V;const R=V/a*3e4;x=v.animate([{strokeDasharray:r,strokeDashoffset:1e-5},{strokeDasharray:r,strokeDashoffset:-V}],{delay:S,duration:R,fill:"backwards"})}),await x.finished,await ut(3e3)}}K(),s.CRLF(),s.font=Ct(5,3),s.show("Small  Caps"),s.lineHeight*=1.125;const P=tt(new ft(6,.5)),t=Et(P),n=[{roughness:.4,title:"Heartbeat!"},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting ♡"},{roughness:.54,title:"The Wave *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(w=>{const{roughness:l,title:M}=w;return s.font=it(t,{roughness:l}),s.CRLF(),s.show(`${Math.round(l*100)} ${M??"Rough Font"} [4XxYyZ]`)}),o=n[0],h=n[1],d=n[2],H=n[3],L=n[4],C=n[5],$=it(t,{roughness:0});c(L).style.fill="black",L.forEach(({element:w})=>{w.classList.add("lights")}),[L,C].forEach(w=>{w.forEach(l=>{function M(){return Math.random()+.5|0}const x=3+M()+M()+M(),v=et(x,()=>({d:l.description.cssPath}));v.push(v[0]);const y=x*1e4/3,V=y/8,S=Math.exp(B(Math.log(V),Math.log(y),Math.random()));l.element.animate(v,{duration:S,iterations:1/0})})}),h.forEach(w=>{const l=$.get(w.char).cssPath,M=w.element.style.d,x=.03,v=[{offset:0,d:M},{offset:x,d:l},{offset:.5,d:l},{offset:x+.5,d:M},{offset:1,d:M}];w.element.animate(v,{duration:2e3,iterations:1/0})});{const v=H.length,y=v*3,V=5e3;H.forEach((S,R)=>{const k=$.get(S.char).cssPath,D=S.element.style.d,A=S.element.style.transform,I=A+" scale(1.32)",N={d:k,transform:A},W={d:D,transform:I},b=[{offset:0,...N},{offset:4/y,...W},{offset:6/y,...W},{offset:14/y,...N},{offset:1,...N}];S.element.animate(b,{duration:V,iterationStart:1-R/v,iterations:1/0})})}{const w=d;c(w).style.fill="hwb(190 10% 0% / 1)",w.forEach(l=>{const M=$.get(l.char).cssPath,x=l.element.style.d,v=1/16,y=15/16,V=14e3,S=[{offset:0,strokeWidth:.5},{offset:v,strokeWidth:.5},{offset:y,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],R=[{offset:0,d:M},{offset:v,d:M,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:y,d:x},{offset:1,d:x}],k=[{offset:0,opacity:1},{offset:v,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:y,opacity:0},{offset:1,opacity:0}];l.element.animate(k,{duration:V,iterations:1/0}),l.element.animate(R,{duration:V,iterations:1/0}),l.element.animate(S,{duration:V,iterations:1/0}),l.element.style.stroke="white"})}o.forEach(w=>{const l=$.get(w.char).cssPath,M=w.element.style.d,x=750,v="cubic-bezier(.55,0,1,.55)";w.element.animate([{offset:0,d:l,easing:v},{offset:.5,d:M,easing:v},{offset:1,d:l}],{duration:x,iterations:1/0})});{s.CRLF();const w=.25,l=1.5,M="The more I drink the more I want to tell you what I really think about you.",x=st(0,w,M.length-1,l),v=[...M].flatMap((A,I)=>(s.font=it(t,{roughness:x(I)}),s.splitAndShow(A))),y=A=>{if(A==0)return 0;const I=v[A].innerShape,N=v[A-1].innerShape,W=Math.hypot(N.endX-I.startX,N.endY-I.startY);return j(W),W},{totalLength:V,maxLength:S}=v.reduce(({totalLength:A,maxLength:I},{element:N},W)=>{const b=N.getTotalLength();return A+=y(W)+b,I=Math.max(I,b),{totalLength:A,maxLength:I}},{totalLength:0,maxLength:0}),R=Math.ceil(S)+1,k=`0 ${R} ${R} 0`;async function D(){for(;;){let N=0,W;v.forEach(({element:b},T)=>{const z=b.getTotalLength();N+=y(T);const O=1e3+N/V*3e4;N+=z;const U=z/V*3e4;W=b.animate([{strokeDasharray:k,strokeDashoffset:1e-5},{strokeDasharray:k,strokeDashoffset:-z}],{delay:O,duration:U,fill:"backwards"})}),await W.finished,await ut(3e3)}}D()}{s.font=P,s.CRLF();const w=e("Stop°"),l=e("Go◯");s.CRLF();const M=w.shape.makeElement();s.showAndAdvance(M,w.advance),s.showSpace();const x=l.shape.makeElement();s.showAndAdvance(x,l.advance);const v=l.shape.matchForMorph(w.shape),y=v[0],V=v[1],S=w.shape.makeElement();s.showSpace(),s.showAndAdvance(S,w.advance),S.animate([{d:y},{d:y,easing:"ease"},{d:V},{d:V,easing:"ease"},{d:y}],{duration:5e3,iterations:1/0})}{const w=y=>e([...y].join(`
`)).shape,l=w("123"),M=w("ABC"),[x,v]=l.matchForMorph(M);s.CRLF(),et(7,y=>{const V=l.makeElement();s.showAndAdvance(V,10*(6/7)*.86),V.animate([{d:x},{d:v}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:y/6*.999})}),s.lineFeed(2.5)}{let w=function(V){const S=V[0].makeElement();s.showAndAdvance(S,0);const R=V[0].matchForMorph(V[1]);S.animate([{d:R[0]},{d:R[0],easing:"ease"},{d:R[1]},{d:R[1],easing:"ease"},{d:R[0]}],{duration:5e3,iterations:1/0})},l=function(V){const S=new F(V[1].commands.toReversed());return[V[0],S]},M=function(V){{const b=V.map(T=>!T.commands.length);if(b[0]&&b[1])return V;if(b[0]||b[1])throw new Error("wtf")}function S(b,T){const z=Math.hypot(b.x-T.x,b.y-T.y)+Math.hypot(b.x0-T.x0,b.y0-T.y0),O=Math.hypot(b.x-T.x0,b.y-T.y0)+Math.hypot(b.x0-T.x0,b.y-T.y),U=O<z;return{distance:U?O:z,needToReverse:U}}const R=V.map(b=>b.commands),[k,D]=R[0].length<R[1].length?R:R.toReversed(),A=[...D],I=[],N=wt([...k]);if(N.forEach(b=>{let T={command:void 0,distance:1/0,index:NaN};A.forEach((O,U)=>{const{distance:Z,needToReverse:ct}=S(b,O);Z<T.distance&&(T={command:ct?O.toCubic().reverse():O,distance:Z,index:U})});const z=T;I.push(z.command),A.splice(z.index,1)}),N.length!=I.length)throw new Error("wtf");if(A.forEach(b=>{let T={command:void 0,distance:1/0,index:NaN};N.forEach((O,U)=>{const{distance:Z,needToReverse:ct}=S(O,b);Z<T.distance&&(T={command:ct?O.toCubic().reverse():O,distance:Z,index:U})});const z=T;N.push(z.command),I.push(b)}),N.length!=I.length)throw new Error("wtf");const W=[N,I];return k==R[1]&&W.reverse(),console.log(k),[new F(W[0]),new F(W[1])]};s.CRLF();const x=e(`Round
  and
round!`),v=e(`Circle
  in a
spiral`),y=[x.shape,v.shape];w(y),s.x+=Math.max(x.advance,v.advance),s.showSpace(4),w(M(y)),s.x+=Math.max(x.advance,v.advance),s.showSpace(4),w(l(y)),s.lineFeed(2.5)}s.x>s.rightMargin&&s.CRLF(),J.viewBox.baseVal.height=s.baseline+s.font.get("0").fontMetrics.bottom}
