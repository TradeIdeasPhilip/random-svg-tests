import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as E}from"./client-misc-ZHNZ3-cL.js";/* empty css              */import{m as l}from"./misc-wGF4FraP.js";import{Q as f,P as d}from"./path-shape-XCUZuMzS.js";import{e as I,l as T,s as B,b as N}from"./utility-CLLqSOR5.js";const L=1920,S=1080,F=E.getById("main",SVGSVGElement),h=E.getById("legend",SVGTextElement);function P(){const o=h.getComputedTextLength(),t=["Gold","Gold = goal. ","Gold = goal.  Blue"].map(e=>{const c=h.getSubStringLength(0,e.length),s=h.getSubStringLength(e.length,1);return(c+s/2)/o}),n=B("#legendGradient stop",SVGStopElement,(t.length+1)*2,(t.length+1)*2);t.forEach((e,c)=>{const s=n.slice(c*2+1,c*2+3);if(s.length!=2)throw new Error("wtf");s.forEach(r=>{r.offset.baseVal=e})})}P();const V=new ResizeObserver(o=>{console.log(o),o.forEach(t=>{P()})});V.observe(h);const D={x:L/2,y:S/2,zoom:275,cssPath:""};function A(o){const t={...D,...o},n=document.createElementNS("http://www.w3.org/2000/svg","g");n.classList.add("compare");const e=`translate(${t.x}px,${t.y}px) scale(${t.zoom})`;n.style.transform=e;const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.r.baseVal.value=1;const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.style.d=t.cssPath;const r=document.createElementNS("http://www.w3.org/2000/svg","text");return n.append(c,s,r),F.appendChild(n),{topG:n,circle:c,path:s,text:r}}function b(o){const t=-l.FULL_CIRCLE/4,n=t+l.FULL_CIRCLE,e=l.makeLinear(0,t,o,n);return l.initializedArray(o,s=>{const r=e(s),i=Math.cos(r),a=Math.sin(r),p=r+l.FULL_CIRCLE/4;return{x:i,y:a,tangentAngle:p}})}class g{constructor(t){this.compareElement=t}static#e=l.makeBoundedLinear(.2,0,1,1);setCount(t,n){const e=this.compareElement.text;e.textContent=t.toString(),n=g.#e(n),e.style.opacity=n.toString()}#t;setD(t,n){this.#t?.cancel();const c=this.compareElement.path.animate([{d:t.start.cssPath},{d:t.end.cssPath}],{duration:1,fill:"both"});c.pause(),c.currentTime=n,this.#t=c}hideCircle(t){const n=`xywh(0% ${t*100}% 100% 100%)`;this.compareElement.circle.style.clipPath=n}}const x=new g(A({x:L/4,y:S/2})),C=new g(A({x:L*3/4,y:S/2})),u=[...l.count(3,13)],k=-.5,R=0,q=I(k,u.length,R),H=u.map(o=>b(o).map((e,c,s)=>{const r=s[(c+1)%s.length];return f.angles(e.x,e.y,e.tangentAngle,r.x,r.y,r.tangentAngle)})),y=u.map(o=>b(o).map((e,c,s)=>{const r=s[(c+1)%s.length];return f.line2(e,r)})),[_]=[H].map(o=>o.map((t,n)=>{const e=o[n-1]??t,c=T(e.length,t.length),[s,r]=[e,t].map(i=>{const a=c/i.length,p=i.flatMap(m=>m.multiSplit(a));return new d(p)});return{start:s,end:r}})),z=y.map((o,t)=>{const n=new d(o),e=y[t-1];if(e){if(e.length!=o.length-1)throw new Error("wtf");{const c=e.length,s=[...e];if(c%2==0){const a=c/2,p=s[a-1],{x:m,y:w}=p,M=f.controlPoints(m,w,m,w,m,w);s.splice(a,0,M)}else{const a=(c-1)/2,m=s[a].split(.5);s.splice(a,1,...m)}const r=new d(s),i=new d(o);if(r.commands.length!=i.commands.length)throw new Error("wtf");return{start:r,end:i}}}else return{start:n,end:n}}),U=l.makeBoundedLinear(0,0,.5,1);function v(o){N(o);const t=q(o),n=u[t.index],e=U(t.t);x.setCount(n,e),x.setD(_[t.index],e),C.setCount(n,e),C.setD(z[t.index],e)}function $(o){return document.querySelectorAll("[data-hideBeforeScreenshot]").forEach(t=>{if(!(t instanceof SVGElement||t instanceof HTMLElement))throw new Error("wtf");t.style.display="none"}),{source:"tangent-line-2.ts",devicePixelRatio,script:o}}const G=window;G.initScreenCapture=$;G.showFrame=v;{const o=E.getById("time",HTMLInputElement),t=()=>{const n=o.valueAsNumber;v(n)};o.addEventListener("input",t),t()}
