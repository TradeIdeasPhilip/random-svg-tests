import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as $,g as T,i as I,s as O}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as C}from"./utility-D2LlNOtt.js";import{a as D}from"./rough.esm-C_8OcXYf.js";function S(...g){g.forEach(l=>{if(!isFinite(l))throw new Error("wtf")})}const P=" *",E="(-?[0-9]+.?[0-9]*)",y=" *[, ] *",z=new RegExp(`^M${P}${E}${y}${E}(.*)$`),A=new RegExp(`^Q${P}${E}${y}${E}${y}${E}${y}${E}(.*)$`),B=new RegExp(`^C${P}${E}${y}${E}${y}${E}${y}${E}${y}${E}${y}${E}(.*)$`);class Q{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(l,o){return new this().M(l,o)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...l){const o=new this;return l.forEach(V=>o.fromString(V)),o.checkInvariants(),o}fromString(l){for(;l=l.replace(/^ */,""),l!="";){let o=z.exec(l);if(o){const V=$(o[1]),d=$(o[2]);if(V===void 0||d===void 0)throw console.error(o,V,d,this),new Error("wtf");this.M(V,d),l=o[3];continue}if(o=A.exec(l),o){const V=$(o[1]),d=$(o[2]),r=$(o[3]),u=$(o[4]);if(V===void 0||d===void 0||r===void 0||u===void 0)throw console.error(o,V,d,r,u,this),new Error("wtf");this.Q(V,d,r,u),l=o[5];continue}if(o=B.exec(l),o){const V=$(o[1]),d=$(o[2]),r=$(o[3]),u=$(o[4]),i=$(o[5]),p=$(o[6]);if(V===void 0||d===void 0||r===void 0||u===void 0||i===void 0||p===void 0)throw console.error(o,V,d,r,u,i,p,this),new Error("wtf");this.C(V,d,r,u,i,p),l=o[7];continue}throw console.error(l),new Error("wtf")}return this}constructor(){}M(l,o){S(l,o);function V(r,u,i){r.M(l+u,o+i)}function d(r){r.M(l,o)}return this.#t.push({endX:l,endY:o,asString:`M ${l},${o}`,translate:V,toCubic:d}),this}H(l){S(l);function o(u,i,p){u.H(l+i)}const V=this.endX,d=this.endY;function r(u){u.C(C(V,l,1/3),d,C(V,l,2/3),d,l,d)}return this.#t.push({endX:l,endY:d,asString:`H ${l}`,translate:o,toCubic:r}),this}V(l){S(l);function o(u,i,p){u.V(l+p)}const V=this.endX,d=this.endY;function r(u){u.C(V,C(d,l,1/3),V,C(d,l,2/3),V,l)}return this.#t.push({endX:this.endX,endY:l,asString:`V ${l}`,translate:o,toCubic:r}),this}L(l,o){S(l,o);function V(i,p,c){i.L(l+p,o+c)}const d=this.endX,r=this.endY;function u(i){i.C(C(d,l,1/3),C(r,o,1/3),C(d,l,2/3),C(r,o,2/3),l,o)}return this.#t.push({endX:l,endY:o,asString:`L ${l},${o}`,translate:V,toCubic:u}),this}Q(l,o,V,d){S(l,o,V,d);function r(c,L,_){c.Q(l+L,o+_,V+L,d+_)}const u=this.endX,i=this.endY;function p(c){c.C(C(u,l,2/3),C(i,o,2/3),C(V,l,2/3),C(d,o,2/3),V,d)}return this.#t.push({endX:V,endY:d,asString:`Q ${l},${o} ${V},${d}`,translate:r,toCubic:p}),this}Q_HV(l,o){return this.Q(l,this.endY,l,o)}Q_VH(l,o){return this.Q(this.endX,o,l,o)}C(l,o,V,d,r,u){S(l,o,V,d,r,u);function i(c,L,_){c.C(l+L,o+_,V+L,d+_,r+L,u+_)}function p(c){c.C(l,o,V,d,r,u)}return this.#t.push({endX:r,endY:u,asString:`C ${l},${o} ${V},${d} ${r},${u}`,translate:i,toCubic:p}),this}static cssifyPath(l){return`path('${l}')`}get cssPath(){return Q.cssifyPath(this.rawPath)}get rawPath(){return this.#t.map(l=>l.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){const l=[];let o=[];return this.#t.forEach(V=>{V.asString[0]=="M"&&o.length>0&&(l.push(o),o=[]),o.push(V)}),l.push(o),l.map(V=>{const d=new Q;return d.#t.push(...V),d})}convertToCubics(){const l=new Q;return this.#t.forEach(o=>o.toCubic(l)),l.checkInvariants(),l}translate(l,o){const V=new Q;return this.#t.forEach(d=>d.translate(V,l,o)),V.checkInvariants(),V}}class W{constructor(l,o=l/10){if(this.fontSize=l,this.strokeWidth=o,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class R{constructor(l,o,V){this.advance=o,this.fontMetrics=V,l instanceof Q?this.#t=()=>l:this.#t=l}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}static makeElement(l){const o=document.createElementNS("http://www.w3.org/2000/svg","path");if(o.style.d=l,o.style.d=="")throw console.error(l,o),new Error("wtf");return o}makeElement(){return R.makeElement(this.cssPath)}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:R.makeElement(l.cssPath)}))}}function F(g){const l=new Map;typeof g=="number"&&(g=new W(g));const o=(t,e,n)=>{const s=new R(e,n,g);if(l.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...l].at(-1)[0]}"`);l.set(t,s)},{aWidth:V,digitWidth:d,capitalTop:r,capitalTopMiddle:u,capitalMiddle:i,capitalBottomMiddle:p,baseline:c,descender:L,strokeWidth:_}=g,a=0;{const t=d,n=t/2,s=t;{const h=(L-c)*2,f=L,H=f-h,M=r-h/4,w=M+h;if(h<=0||f<=H||H<=w||w<=M)throw new Error("wtf");const v=d*.5;{const m=Q.M(v,M);m.Q_HV(0,w),m.V(H),m.Q_VH(v,f),o("(",m,v)}{const m=d*.5,x=Q.M(0,M);x.Q_HV(m,w),x.V(H),x.Q_VH(0,f),o(")",x,m)}{const m=Q.M(v,M);m.H(0),m.V(f),m.H(v),o("[",m,v)}{const m=Q.M(0,M);m.H(v),m.V(f),m.H(0),o("]",m,v)}}{const h=Q.M(n,r).Q(s,r,s,u).L(s,p).Q(s,c,n,c).Q(a,c,a,p).L(a,u).Q(a,r,n,r).M(s,u).L(a,p);o("0",h,t)}{const h=Q.M(a,u).Q(n,u,n,r).L(n,c).M(a,c).L(s,c);o("1",h,t)}{const h=Q.M(a,u).Q_VH(n,r).Q_HV(s,u).Q_VH(n,i).Q_HV(a,c).L(s,c);o("2",h,t)}{const h=Q.M(a,u).Q_VH(n,r).Q_HV(s,u).Q_VH(n,p).Q_HV(a,c).L(s,c);o("2a",h,t)}{const h=Q.M(a,u).Q_VH(n,r).Q_HV(s,u).Q_VH(n,i).Q_HV(s,p).Q_VH(n,c).Q_HV(a,p);o("3",h,t)}{const h=(n+s)/2,f=(n+a)/2,H=Q.M(s,i).L(a,i).L(f,r).M(h,r).L(h,c);o("4",H,t)}{const h=Q.M(s,r).L(s,c).M(s,i).L(a,i).Q_HV(n,r);o("4a",h,t)}{const h=Q.M(s,r).L(s,c).M(s,i).L(a,i).L(a,r);o("4b",h,t)}{const h=Q.M(s,r).L(s,c).M(s,i).L(a,i).L((a+n)/2,r);o("4c",h,t)}{const h=(n+s)/2,f=Q.M(h,c).L(h,r).L(a,i).L(s,i);o("4d",f,t)}{const h=a+d/5,f=s-d/5,H=(i+p)/2,M=Q.M(f,r).L(h,r).L(a,i).Q_VH(n,u).Q_HV(s,H).Q_VH(n,c).Q_HV(a,p);o("5",M,t)}{const h=Q.M(s,r).Q_HV(a,p).Q_VH(n,c).Q_HV(s,p).Q_VH(n,i).Q_HV(a,p);o("6",h,t)}{const h=Q.M(a,r).L(s,r).L(a,c);o("7",h,t)}{const h=Q.M(n,r).Q(s,r,s,u).Q(s,i,n,i).Q(a,i,a,p).Q(a,c,n,c).Q(s,c,s,p).Q(s,i,n,i).Q(a,i,a,u).Q(a,r,n,r);o("8",h,t)}{const h=Q.M(s,u).Q(s,r,n,r).Q(a,r,a,u).Q(a,i,n,i).Q(s,i,s,u).Q(s,c,a,c);o("9",h,t)}{const h=Q.M(s,u).Q(s,r,n,r).Q(a,r,a,u).Q(a,i,n,i).Q(s,i,s,u).L(s,c);o("9a",h,t)}{const h=Q.M(s,u).Q(s,r,n,r).Q(a,r,a,u).Q(a,i,n,i).Q(s,i,s,u).L(s,p).Q(s,c,n,c).Q(a,c,a,p);o("9b",h,t)}{const h=Q.M(s,u).Q(s,r,n,r).Q(a,r,a,u).Q(a,i,n,i).Q(s,i,s,u).Q(s,c,n,c).Q(a,c,a,p);o("9c",h,t)}}{const t=Q.M(a,c).L(V/2,r).L(g.aWidth,c).M(g.aWidth/4,i).L(g.aWidth*.75,i);o("A",t,V)}{const t=d,e=u-r;if(e<=0)throw new Error("wtf");const n=(t-e)*(2/3),s=c-p;if(s<=0)throw new Error("wtf");const h=t-s,f=Q.M(a,r).L(a,c).L(h,c).M(Math.max(h,n),i).L(a,i).M(a,r).L(n,r).Q(n+e,r,n+e,r+e).Q(n+e,i,n,i).M(h,i).Q(h+s,i,h+s,c-s).Q(h+s,c,h,c);o("B",f,t)}{const t=d,n=t/2,s=t,h=Q.M(s,u).Q(s,r,n,r).Q(a,r,a,u).L(a,p).Q(a,c,n,c).Q(s,c,s,p);o("C",h,t)}{const t=d,n=t/2,s=t,h=Q.M(a,r).L(a,c).L(n,c).Q(s,c,s,p).L(s,u).Q(s,r,n,r).L(a,r);o("D",h,t)}{const t=d,e=t*(2/3),n=t,s=Q.M(n,r).L(a,r).L(a,c).L(n,c).M(e,i).L(a,i);o("E",s,t)}{const t=d,e=t*(2/3),n=t,s=Q.M(n,r).L(a,r).L(a,c).M(e,i).L(a,i);o("F",s,t)}{const t=d,n=t/2,s=t,h=Q.M(s,u).Q(s,r,n,r).Q(a,r,a,u).L(a,p).Q(a,c,n,c).Q(s,c,s,p).L(s,i).L(n,i);o("G",h,t)}{const t=d,e=t,n=Q.M(a,r).L(a,c).M(e,r).L(e,c).M(a,i).L(e,i);o("H",n,t)}{const t=g.mHeight/3,e=t/2,n=t,s=Q.M(a,r).L(n,r).M(a,c).L(n,c).M(e,r).L(e,c);o("I",s,t)}{const t=d*.85,n=t/2,s=t,h=Q.M(s,r).L(s,p).Q(s,c,n,c).Q(a,c,a,p);o("J",h,t)}{const t=d+_,e=(r+c)/2,n=Q.M(a,r).L(a,c).M(t,r).L(a+.5,e).L(t,c);o("K",n,t)}{const t=d,e=Q.M(a,r).L(a,c).L(t,c);o("L",e,t)}{const t=d*1.5,e=t/2,n=Q.M(a,c).L(a,r).L(e,i).L(t,r).L(t,c);o("M",n,t)}{const t=d*1.2,e=Q.M(a,c).L(a,r).L(t,c).L(t,r);o("N",e,t)}{const t=d*1.5,e=t/2,n=(r+c)/2,s=Q.M(e,r).Q_HV(t,n).Q_VH(e,c).Q_HV(a,n).Q_VH(e,r);o("O",s,t)}{const t=d,e=i-u;if(e<=0)throw new Error("wtf");const n=t-e,s=Q.M(a,r).L(a,c).M(a,r).L(n,r).Q_HV(t,u).Q_VH(n,i).L(a,i);o("P",s,t)}{const t=d*1.5,e=t/2,n=(r+c)/2,s=Q.M(e,r).Q_HV(t,n).Q_VH(e,c).Q_HV(a,n).Q_VH(e,r).M(t-e*.75,c-e*.75).L(t+e/6,c+e/6);o("Q",s,t)}{const t=d,e=i-u;if(e<=0)throw new Error("wtf");const n=t-e,s=Q.M(a,r).L(a,c).M(a,r).L(n,r).Q_HV(t,u).Q_VH(n,i).L(a,i).M(n,i).L(t,c);o("R",s,t)}{const t=d,e=i-u;if(e<=0)throw new Error("wtf");const n=t-e,s=Q.M(a,r).L(a,c).M(a,r).L(n,r).Q_HV(t,u).Q_VH(n,i).L(a,i).L(t,c);o("Ra",s,t)}{const t=d,e=d/2,n=d,s=Q.M(n,u).Q_VH(e,r).Q_HV(a,u).Q_VH(e,i).Q_HV(n,p).Q_VH(e,c).Q_HV(a,p);o("S",s,t)}{const t=d,e=t/2,n=Q.M(e,r).L(e,c).M(t,r).L(a,r);o("T",n,t)}{const t=(p+i)/2,e=Math.abs(t-c)*.85,n=e*2,s=Q.M(a,r).V(t).Q_VH(e,c).Q_HV(n,t).V(r);o("U",s,n)}{const t=V,e=t/2,n=Q.M(a,r).L(e,c).L(t,r);o("V",n,t)}{const t=V*1.5,e=t/3,n=t/2,s=e*2,h=Q.M(a,r).L(e,c).L(n,i).L(s,c).L(t,r);o("W",h,t)}{const t=d,e=Q.M(t,r).L(a,c).M(a,r).L(t,c);o("X",e,t)}{const t=_,e=d+t,n=Q.M(e,r).L(t,c).M(a,r).L(e/2,i);o("Y",n,e)}{const t=d,e=Q.M(a,r).H(t).L(a,c).H(t);o("Z",e,t)}{const t=d,e=_/2,n=t+e,s=t/2,h=Q.M(s,i).Q_HV(a,p).Q_VH(s,c).Q_HV(t,p).Q_VH(s,i).M(n,i).L(n,c);o("a",h,n)}{const t=d,e=_/2,n=t+e,s=e,h=e+t/2,f=n,H=Q.M(a,r).V(c).M(s,p).Q_VH(h,c).Q_HV(f,p).Q_VH(h,i).Q_HV(s,p);o("b",H,n)}{const t=d*.875,e=0,n=d/2,s=t,h=(i+p)/2,f=(p+c)/2,H=Q.M(s,h).Q_VH(n,i).Q_HV(e,p).Q_VH(n,c).Q_HV(s,f);o("c",H,t)}{const t=d,e=0,n=t/2,s=t,h=Q.M(s,i).H(n).Q_HV(e,p).Q_VH(n,c).H(s);o("ca",h,t)}{const t=d*.75,e=0,n=d/2,s=t,h=Q.M(s,i).H(n).Q_HV(e,p).Q_VH(n,c).H(s);o("cb",h,t)}{const t=d*.75,e=0,n=d/2,s=t,h=(i+p)/2,f=(p+c)/2,H=Q.M(s,h).Q_VH(n,i).Q_HV(e,p).Q_VH(n,c).Q_HV(s,f);o("cc",H,t)}{const t=d,e=0,n=d/2,s=t,h=(i+p)/2,f=(p+c)/2,H=Q.M(s,h).Q_VH(n,i).Q_HV(e,p).Q_VH(n,c).Q_HV(s,f);o("cd",H,t)}{const t=d,e=_/2,n=t+e,s=t/2,h=Q.M(s,i).Q_HV(a,p).Q_VH(s,c).Q_HV(t,p).Q_VH(s,i).M(n,r).L(n,c);o("d",h,n)}const k=d/8;{const t=d,e=d/2,n=t,s=n-k,h=Q.M(a,p).H(n).Q_VH(e,i).Q_HV(a,p).Q_VH(e,c).H(s);o("e",h,t)}{const t=d,e=d/2,n=t,s=(p+c)/2,h=Q.M(a,p).H(n).Q_VH(e,i).Q_HV(a,p).Q_VH(e,c).Q_HV(n,s);o("ea",h,t)}{const t=d*.75,e=t/2,n=t,s=Q.M(n,r).Q_HV(e,u).V(c).M(n,i).H(a);o("f",s,t)}{const t=d,e=_/2,n=t+e,s=t/2,h=Q.M(s,i).Q_HV(a,p).Q_VH(s,c).Q_HV(t,p).Q_VH(s,i).M(n,i).V(c).Q_VH(s,L).H(a+k);o("g",h,n)}{const t=d*.85,e=t/2,n=Q.M(a,r).V(c).Q_VH(e,i).Q_HV(t,p).V(c);o("h",n,t)}const b=_/4;{const e=Q.M(a,i).V(c).M(a,u).V(u-b);o("i",e,0)}{const t=Math.abs(c-L),e=t/2,n=Q.M(t,i).V(c).Q_VH(e,L).Q_HV(a,c).M(t,u).V(u-b);o("j",n,t)}{const t=Math.abs(c-L)*1.5,e=t/2,n=Q.M(t,i).V(c).Q_VH(e,L).Q_HV(a,c).M(t,u).V(u-_/4);o("ja",n,t)}{const e=Q.M(a,c).V(c-b);o(".",e,0)}{const e=(L-c)/2,n=e/2,s=Q.M(a,c-b).V(c).Q_VH(-n,c+e);o(",",s,0)}{const e=(p+i)/2,n=Q.M(a,c).V(c-b).M(a,e+b).V(e);o(":",n,0)}{const e=(p+i)/2,n=(L-c)/2,s=n/2,h=Q.M(a,c-b).V(c).Q_VH(-s,c+n).M(a,e+b).V(e);o(";",h,0)}{const t=g.xHeight*2/3,e=d/10,n=t+e,s=Q.M(a,r).V(c).M(t,i).L(a,i+t).M(t/2,c-t).L(n,c);o("k",s,n)}{const e=Q.M(a,r).V(c);o("l",e,0)}{const t=d*1.5,e=t/4,n=t/2,s=t*3/4,h=t,f=Q.M(a,i).V(c).Q_VH(e,i).Q_HV(n,p).V(c).M(n,p).Q_VH(s,i).Q_HV(h,p).V(c);o("m",f,t)}{const t=d*.85,e=t/2,n=Q.M(a,i).V(c).Q_VH(e,i).Q_HV(t,p).V(c);o("n",n,t)}{const t=d,e=0,n=t/2,s=t,h=Q.M(n,i).Q_HV(s,p).Q_VH(n,c).Q_HV(e,p).Q_VH(n,i);o("o",h,t)}{const t=d,e=_/2,n=t+e,s=e,h=e+t/2,f=n,H=Q.M(a,i).V(L).M(s,p).Q_VH(h,i).Q_HV(f,p).Q_VH(h,c).Q_HV(s,p);o("p",H,n)}{const t=d,e=t/2,n=t+_/2,s=Math.abs(c-L),h=n+s/2,f=n+s,H=Q.M(e,i).Q_HV(a,p).Q_VH(e,c).Q_HV(t,p).Q_VH(e,i).M(n,i).V(c).Q_VH(h,L).Q_HV(f,c);o("q",H,f)}{const t=d,e=t/2,s=t+_/2,h=Q.M(e,i).Q_HV(a,p).Q_VH(e,c).Q_HV(t,p).Q_VH(e,i).M(s,i).L(s,L);o("qa",h,s)}{const t=d,e=t/2,n=Q.M(a,i).V(c).Q_VH(e,i).Q_HV(t,p);o("r",n,t)}{const t=d,e=t/2,n=p,s=p,h=Q.M(a,i).V(c).M(a,n).Q(e,u,t,s);o("re",h,t)}{let t=function(M,w,v){const m=1-v;return M*m+w*v};const e=d,n=e/2,s=t(p,i,.25),h=t(p,i,.75),H=Q.M(a,i).V(c).M(a,s).Q(t(n,a,.5),i,n,i).Q(t(n,e,.75),i,e,h);o("rd",H,e)}{const t=d,e=t/2,n=(p+i)/2,s=Q.M(a,i).V(c).M(a,p).Q_VH(e,i).Q_HV(t,n);o("rc",s,t)}{const t=d,e=t/2,n=Q.M(a,i).V(c).Q_VH(e,i).Q_HV(t,(p+i)/2);o("rb",n,t)}{const t=g.xHeight*2/3,e=t/2,n=c,s=p,h=i,f=(n+s)/2,H=(s+h)/2,M=(H+h)/2,w=(n+f)/2,v=Q.M(t,M).Q_VH(e,h).Q_HV(a,H).Q_VH(e,s).Q_HV(t,f).Q_VH(e,n).Q_HV(a,w);o("s",v,t)}{const t=g.xHeight*2/3,e=t/2,n=c,s=p,h=i,f=(n+s)/2,H=(s+h)/2,M=Q.M(t,H).Q_VH(e,h).Q_HV(a,H).Q_VH(e,s).Q_HV(t,f).Q_VH(e,n).Q_HV(a,f);o("sb",M,t)}{const t=g.xHeight*2/3,e=t/2,n=c,s=p,h=i,f=(n+s)/2,H=(s+h)/2,M=Q.M(t-k,h).H(e).Q_HV(a,H).Q_VH(e,s).Q_HV(t,f).Q_VH(e,n).H(k);o("sa",M,t)}{const t=d*.75,e=t/2,n=t,s=Q.M(e,u).V(p).Q_VH(n,c).M(n,i).H(a);o("t",s,t)}{const t=d*.85,e=t/2,n=Q.M(a,i).V(p).Q_VH(e,c).Q_HV(t,i).L(t,c);o("u",n,t)}{const t=d,e=t/2,n=Q.M(a,i).L(e,c).L(t,i);o("v",n,t)}{const t=g.xHeight*1.5,e=t/3,n=t/2,s=e*2,h=Q.M(a,i).L(e,c).L(n,p).L(s,c).L(t,i);o("w",h,t)}{const t=d,e=Q.M(t,i).L(a,c).M(a,i).L(t,c);o("x",e,t)}{const t=d,e=t/2,n=(i+L)/2,s=Q.M(t,i).L(a,L).M(a,i).L(e,n);o("y",s,t)}{const t=d,e=Q.M(a,i).H(t).L(a,c).H(t);o("z",e,t)}return l}const X=T("main",SVGSVGElement);function K(g){const l=new Map;return g.forEach((o,V)=>{const{advance:d,fontMetrics:r}=o,u=o.shape.convertToCubics(),i=new R(u,d,r);l.set(V,i)}),l}function N(g,l=g*.75){const o=F(g);return F(l).forEach((d,r)=>{const u=r.toLowerCase();u!=r&&o.set(u,d)}),o}function Y(g,l){const o={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},V=D.generator({options:{...o,...l}}),d=new Map;return g.forEach((r,u)=>{const i=()=>{const c=V.path(r.d),_=V.toPaths(c).map(a=>a.d);return Q.fromStrings(..._)},p=new R(i,r.advance,r.fontMetrics);d.set(u,p)}),d}{let g=function(e){return e.length==1};class l{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(n=1){this.baseline+=this.lineHeight*n}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=F(5);getDescription(n){return this.font.get(n)}makeRoom(n){this.x+n.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(n){this.x+=n.advance+n.fontMetrics.defaultKerning}show1(n){this.makeRoom(n);const s=n.makeElement();X.appendChild(s);const{x:h,baseline:f}=this;return s.style.transform=`translate(${h}px,${f}px)`,this.advance(n),{element:s,x:h,baseline:f}}splitAndShow1(n){this.makeRoom(n);const s=n.makeElements();return s.forEach(({element:h})=>{X.appendChild(h),h.style.transform=`translate(${this.x}px,${this.baseline}px)`}),this.advance(n),s}show(n){const s=new Set,h=[...n].flatMap(f=>{const H=this.getDescription(f);return H?{...this.show1(H),description:H,char:f}:f==" "?(this.showSpace(),[]):(s.add(f),[])});return s.size>0&&console.warn(s),h}splitAndShow(n){const s=new Set,h=[...n].flatMap(f=>{const H=this.getDescription(f);return H?this.splitAndShow1(H):f==" "?(this.showSpace(),[]):(s.add(f),[])});return s.size>0&&console.warn(s),h}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const o=new l;let V="",d=[];o.font.forEach((e,n)=>{g(n)?V+=n:d.push(e)}),o.show(V),o.CRLF(),d.forEach(e=>{o.show1(e).element.classList.add("historical")}),o.CRLF(),o.show(V).forEach(({element:e})=>{e.classList.add("lights")}),o.CRLF();const r=o.splitAndShow(V),u=e=>{if(e==0)return 0;const n=r[e].innerShape,s=r[e-1].innerShape;return Math.hypot(s.endX-n.startX,s.endY-n.startY)},{totalLength:i,maxLength:p}=r.reduce(({totalLength:e,maxLength:n},{element:s},h)=>{const f=s.getTotalLength();return e+=u(h)+f,n=Math.max(n,f),{totalLength:e,maxLength:n}},{totalLength:0,maxLength:0}),c=Math.ceil(p)+1,L=`0 ${c} ${c} 0`;async function _(){for(;;){let s=0,h;r.forEach(({element:f},H)=>{const M=f.getTotalLength();s+=u(H);const w=1e3+s/i*2e4;s+=M;const v=M/i*2e4;h=f.animate([{strokeDasharray:L,strokeDashoffset:1e-5},{strokeDasharray:L,strokeDashoffset:-M}],{delay:w,duration:v,fill:"backwards"})}),await h.finished,await O(3e3)}}_(),o.CRLF(),o.font=N(5),o.show("Small  Caps"),o.lineHeight*=1.125;const a=F(new W(6,.5)),k=K(a),b=[{roughness:.24},{roughness:.34},{roughness:.4},{roughness:.44,title:"Heartbeat"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"Toggle (snap)"},{roughness:.64,title:"Windy day"}].map(e=>{const{roughness:n,title:s}=e;return o.font=Y(k,{roughness:n}),o.CRLF(),o.show(`${Math.round(n*100)} ${s??"Rough Font"} [4XxYyZ]`)}),t=Y(k,{roughness:0});{let e=function(){return Math.random()+.5|0};b[6].forEach(s=>{const h=3+e()+e()+e(),f=I(h,()=>({d:s.description.cssPath}));f.push(f[0]);const H=h*1e4/3,M=H/8,w=Math.exp(C(Math.log(M),Math.log(H),Math.random()));s.element.animate(f,{duration:w,iterations:1/0})})}b[5].forEach(n=>{const s=t.get(n.char).cssPath,h=n.element.style.d,f=.03,H=[{offset:0,d:h},{offset:f,d:s},{offset:.5,d:s},{offset:f+.5,d:h},{offset:1,d:h}];n.element.animate(H,{duration:2e3,iterations:1/0})});{const e=b[4];{const s=e.at(-1),h=s.description.fontMetrics,f=h.top+s.baseline-1,H=h.bottom+s.baseline+1,M=document.createElementNS("http://www.w3.org/2000/svg","rect");M.x.baseVal.value=0,M.y.baseVal.value=f,M.width.baseVal.value=100,M.height.baseVal.value=H-f,M.style.fill="hwb(190 10% 0% / 1)",X.insertBefore(M,e[0].element)}e.forEach(n=>{const s=t.get(n.char).cssPath,h=n.element.style.d,f=1/16,H=15/16,M=14e3,w=[{offset:0,strokeWidth:.5},{offset:f,strokeWidth:.5},{offset:H,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],v=[{offset:0,d:s},{offset:f,d:s,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:H,d:h},{offset:1,d:h}],m=[{offset:0,opacity:1},{offset:f,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:H,opacity:0},{offset:1,opacity:0}];n.element.animate(m,{duration:M,iterations:1/0}),n.element.animate(v,{duration:M,iterations:1/0}),n.element.animate(w,{duration:M,iterations:1/0}),n.element.style.stroke="white"})}b[3].forEach(n=>{const s=t.get(n.char).cssPath,h=n.element.style.d,f=750,H="cubic-bezier(.55,0,1,.55)";n.element.animate([{offset:0,d:s,easing:H},{offset:.5,d:h,easing:H},{offset:1,d:s}],{duration:f,iterations:1/0}),console.log(n.element)})}
