import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as b,g as P,i as T,s as I}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as C}from"./utility-D2LlNOtt.js";import{a as O}from"./rough.esm-C_8OcXYf.js";function k(...L){L.forEach(l=>{if(!isFinite(l))throw new Error("wtf")})}const F=" *",E="(-?[0-9]+.?[0-9]*)",$=" *[, ] *",D=new RegExp(`^M${F}${E}${$}${E}(.*)$`),z=new RegExp(`^Q${F}${E}${$}${E}${$}${E}${$}${E}(.*)$`),A=new RegExp(`^C${F}${E}${$}${E}${$}${E}${$}${E}${$}${E}${$}${E}(.*)$`);class p{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(l,e){return new this().M(l,e)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...l){const e=new this;return l.forEach(H=>e.fromString(H)),e.checkInvariants(),e}fromString(l){for(;l=l.replace(/^ */,""),l!="";){let e=D.exec(l);if(e){const H=b(e[1]),d=b(e[2]);if(H===void 0||d===void 0)throw console.error(e,H,d,this),new Error("wtf");this.M(H,d),l=e[3];continue}if(e=z.exec(l),e){const H=b(e[1]),d=b(e[2]),r=b(e[3]),f=b(e[4]);if(H===void 0||d===void 0||r===void 0||f===void 0)throw console.error(e,H,d,r,f,this),new Error("wtf");this.Q(H,d,r,f),l=e[5];continue}if(e=A.exec(l),e){const H=b(e[1]),d=b(e[2]),r=b(e[3]),f=b(e[4]),i=b(e[5]),Q=b(e[6]);if(H===void 0||d===void 0||r===void 0||f===void 0||i===void 0||Q===void 0)throw console.error(e,H,d,r,f,i,Q,this),new Error("wtf");this.C(H,d,r,f,i,Q),l=e[7];continue}throw console.error(l),new Error("wtf")}return this}constructor(){}M(l,e){k(l,e);function H(r,f,i){r.M(l+f,e+i)}function d(r){r.M(l,e)}return this.#t.push({endX:l,endY:e,asString:`M ${l},${e}`,translate:H,toCubic:d}),this}H(l){k(l);function e(f,i,Q){f.H(l+i)}const H=this.endX,d=this.endY;function r(f){f.C(C(H,l,1/3),d,C(H,l,2/3),d,l,d)}return this.#t.push({endX:l,endY:d,asString:`H ${l}`,translate:e,toCubic:r}),this}V(l){k(l);function e(f,i,Q){f.V(l+Q)}const H=this.endX,d=this.endY;function r(f){f.C(H,C(d,l,1/3),H,C(d,l,2/3),H,l)}return this.#t.push({endX:this.endX,endY:l,asString:`V ${l}`,translate:e,toCubic:r}),this}L(l,e){k(l,e);function H(i,Q,o){i.L(l+Q,e+o)}const d=this.endX,r=this.endY;function f(i){i.C(C(d,l,1/3),C(r,e,1/3),C(d,l,2/3),C(r,e,2/3),l,e)}return this.#t.push({endX:l,endY:e,asString:`L ${l},${e}`,translate:H,toCubic:f}),this}Q(l,e,H,d){k(l,e,H,d);function r(o,_,g){o.Q(l+_,e+g,H+_,d+g)}const f=this.endX,i=this.endY;function Q(o){o.C(C(f,l,2/3),C(i,e,2/3),C(H,l,2/3),C(d,e,2/3),H,d)}return this.#t.push({endX:H,endY:d,asString:`Q ${l},${e} ${H},${d}`,translate:r,toCubic:Q}),this}Q_HV(l,e){return this.Q(l,this.endY,l,e)}Q_VH(l,e){return this.Q(this.endX,e,l,e)}C(l,e,H,d,r,f){k(l,e,H,d,r,f);function i(o,_,g){o.C(l+_,e+g,H+_,d+g,r+_,f+g)}function Q(o){o.C(l,e,H,d,r,f)}return this.#t.push({endX:r,endY:f,asString:`C ${l},${e} ${H},${d} ${r},${f}`,translate:i,toCubic:Q}),this}static cssifyPath(l){return`path('${l}')`}get cssPath(){return p.cssifyPath(this.rawPath)}get rawPath(){return this.#t.map(l=>l.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){const l=[];let e=[];return this.#t.forEach(H=>{H.asString[0]=="M"&&e.length>0&&(l.push(e),e=[]),e.push(H)}),l.push(e),l.map(H=>{const d=new p;return d.#t.push(...H),d})}convertToCubics(){const l=new p;return this.#t.forEach(e=>e.toCubic(l)),l.checkInvariants(),l}translate(l,e){const H=new p;return this.#t.forEach(d=>d.translate(H,l,e)),H.checkInvariants(),H}}class W{constructor(l,e=l/10){if(this.fontSize=l,this.strokeWidth=e,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}}class y{constructor(l,e,H){this.advance=e,this.fontMetrics=H,l instanceof p?this.#t=()=>l:this.#t=l}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}static makeElement(l){const e=document.createElementNS("http://www.w3.org/2000/svg","path");if(e.style.d=l,e.style.d=="")throw console.error(l,e),new Error("wtf");return e}makeElement(){return y.makeElement(this.cssPath)}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:y.makeElement(l.cssPath)}))}}function x(L){const l=new Map;typeof L=="number"&&(L=new W(L));const e=(t,c,s)=>{const n=new y(c,s,L);if(l.has(t))throw new Error("wtf");l.set(t,n)},{aWidth:H,digitWidth:d,capitalTop:r,capitalTopMiddle:f,capitalMiddle:i,capitalBottomMiddle:Q,baseline:o,descender:_,strokeWidth:g}=L,a=0;{const t=d,s=t/2,n=t;{const h=(_-o)*2,V=_,u=V-h,M=r-h/4,v=M+h;if(h<=0||V<=u||u<=v||v<=M)throw new Error("wtf");const w=d*.5;{const m=p.M(w,M);m.Q_HV(0,v),m.V(u),m.Q_VH(w,V),e("(",m,w)}{const m=d*.5,S=p.M(0,M);S.Q_HV(m,v),S.V(u),S.Q_VH(0,V),e(")",S,m)}{const m=p.M(w,M);m.H(0),m.V(V),m.H(w),e("[",m,w)}{const m=p.M(0,M);m.H(w),m.V(V),m.H(0),e("]",m,w)}}{const h=p.M(s,r).Q(n,r,n,f).L(n,Q).Q(n,o,s,o).Q(a,o,a,Q).L(a,f).Q(a,r,s,r);e("0",h,t)}{const h=p.M(a,f).Q(s,f,s,r).L(s,o).M(a,o).L(n,o);e("1",h,t)}{const h=p.M(a,f).Q_VH(s,r).Q_HV(n,f).Q_VH(s,i).Q_HV(a,o).L(n,o);e("2",h,t)}{const h=p.M(a,f).Q_VH(s,r).Q_HV(n,f).Q_VH(s,Q).Q_HV(a,o).L(n,o);e("2a",h,t)}{const h=p.M(a,f).Q_VH(s,r).Q_HV(n,f).Q_VH(s,i).Q_HV(n,Q).Q_VH(s,o).Q_HV(a,Q);e("3",h,t)}{const h=(s+n)/2,V=(s+a)/2,u=p.M(n,i).L(a,i).L(V,r).M(h,r).L(h,o);e("4",u,t)}{const h=p.M(n,r).L(n,o).M(n,i).L(a,i).Q_HV(s,r);e("4a",h,t)}{const h=p.M(n,r).L(n,o).M(n,i).L(a,i).L(a,r);e("4b",h,t)}{const h=p.M(n,r).L(n,o).M(n,i).L(a,i).L((a+s)/2,r);e("4c",h,t)}{const h=(s+n)/2,V=p.M(h,o).L(h,r).L(a,i).L(n,i);e("4d",V,t)}{const h=a+d/5,V=n-d/5,u=(i+Q)/2,M=p.M(V,r).L(h,r).L(a,i).Q_VH(s,f).Q_HV(n,u).Q_VH(s,o).Q_HV(a,Q);e("5",M,t)}{const h=p.M(n,r).Q_HV(a,Q).Q_VH(s,o).Q_HV(n,Q).Q_VH(s,i).Q_HV(a,Q);e("6",h,t)}{const h=p.M(a,r).L(n,r).L(a,o);e("7",h,t)}{const h=p.M(s,r).Q(n,r,n,f).Q(n,i,s,i).Q(a,i,a,Q).Q(a,o,s,o).Q(n,o,n,Q).Q(n,i,s,i).Q(a,i,a,f).Q(a,r,s,r);e("8",h,t)}{const h=p.M(n,f).Q(n,r,s,r).Q(a,r,a,f).Q(a,i,s,i).Q(n,i,n,f).Q(n,o,a,o);e("9",h,t)}{const h=p.M(n,f).Q(n,r,s,r).Q(a,r,a,f).Q(a,i,s,i).Q(n,i,n,f).L(n,o);e("9a",h,t)}{const h=p.M(n,f).Q(n,r,s,r).Q(a,r,a,f).Q(a,i,s,i).Q(n,i,n,f).L(n,Q).Q(n,o,s,o).Q(a,o,a,Q);e("9b",h,t)}{const h=p.M(n,f).Q(n,r,s,r).Q(a,r,a,f).Q(a,i,s,i).Q(n,i,n,f).Q(n,o,s,o).Q(a,o,a,Q);e("9c",h,t)}}{const t=p.M(a,o).L(H/2,r).L(L.aWidth,o).M(L.aWidth/4,i).L(L.aWidth*.75,i);e("A",t,H)}{const t=d,c=f-r;if(c<=0)throw new Error("wtf");const s=(t-c)*(2/3),n=o-Q;if(n<=0)throw new Error("wtf");const h=t-n,V=p.M(a,r).L(a,o).L(h,o).M(Math.max(h,s),i).L(a,i).M(a,r).L(s,r).Q(s+c,r,s+c,r+c).Q(s+c,i,s,i).M(h,i).Q(h+n,i,h+n,o-n).Q(h+n,o,h,o);e("B",V,t)}{const t=d,s=t/2,n=t,h=p.M(n,f).Q(n,r,s,r).Q(a,r,a,f).L(a,Q).Q(a,o,s,o).Q(n,o,n,Q);e("C",h,t)}{const t=d,s=t/2,n=t,h=p.M(a,r).L(a,o).L(s,o).Q(n,o,n,Q).L(n,f).Q(n,r,s,r).L(a,r);e("D",h,t)}{const t=d,c=t*(2/3),s=t,n=p.M(s,r).L(a,r).L(a,o).L(s,o).M(c,i).L(a,i);e("E",n,t)}{const t=d,c=t*(2/3),s=t,n=p.M(s,r).L(a,r).L(a,o).M(c,i).L(a,i);e("F",n,t)}{const t=d,s=t/2,n=t,h=p.M(n,f).Q(n,r,s,r).Q(a,r,a,f).L(a,Q).Q(a,o,s,o).Q(n,o,n,Q).L(n,i).L(s,i);e("G",h,t)}{const t=d,c=t,s=p.M(a,r).L(a,o).M(c,r).L(c,o).M(a,i).L(c,i);e("H",s,t)}{const t=L.mHeight/3,c=t/2,s=t,n=p.M(a,r).L(s,r).M(a,o).L(s,o).M(c,r).L(c,o);e("I",n,t)}{const t=d*.85,s=t/2,n=t,h=p.M(n,r).L(n,Q).Q(n,o,s,o).Q(a,o,a,Q);e("J",h,t)}{const t=d+g,c=(r+o)/2,s=p.M(a,r).L(a,o).M(t,r).L(a+.5,c).L(t,o);e("K",s,t)}{const t=d,c=p.M(a,r).L(a,o).L(t,o);e("L",c,t)}{const t=d*1.5,c=t/2,s=p.M(a,o).L(a,r).L(c,i).L(t,r).L(t,o);e("M",s,t)}{const t=d*1.2,c=p.M(a,o).L(a,r).L(t,o).L(t,r);e("N",c,t)}{const t=d*1.5,c=t/2,s=(r+o)/2,n=p.M(c,r).Q_HV(t,s).Q_VH(c,o).Q_HV(a,s).Q_VH(c,r);e("O",n,t)}{const t=d,c=i-f;if(c<=0)throw new Error("wtf");const s=t-c,n=p.M(a,r).L(a,o).M(a,r).L(s,r).Q_HV(t,f).Q_VH(s,i).L(a,i);e("P",n,t)}{const t=d*1.5,c=t/2,s=(r+o)/2,n=p.M(c,r).Q_HV(t,s).Q_VH(c,o).Q_HV(a,s).Q_VH(c,r).M(t-c*.75,o-c*.75).L(t+c/6,o+c/6);e("Q",n,t)}{const t=d,c=i-f;if(c<=0)throw new Error("wtf");const s=t-c,n=p.M(a,r).L(a,o).M(a,r).L(s,r).Q_HV(t,f).Q_VH(s,i).L(a,i).M(s,i).L(t,o);e("R",n,t)}{const t=d,c=i-f;if(c<=0)throw new Error("wtf");const s=t-c,n=p.M(a,r).L(a,o).M(a,r).L(s,r).Q_HV(t,f).Q_VH(s,i).L(a,i).L(t,o);e("Ra",n,t)}{const t=d,c=d/2,s=d,n=p.M(s,f).Q_VH(c,r).Q_HV(a,f).Q_VH(c,i).Q_HV(s,Q).Q_VH(c,o).Q_HV(a,Q);e("S",n,t)}{const t=d,c=t/2,s=p.M(c,r).L(c,o).M(t,r).L(a,r);e("T",s,t)}{const t=(Q+i)/2,c=Math.abs(t-o)*.85,s=c*2,n=p.M(a,r).V(t).Q_VH(c,o).Q_HV(s,t).V(r);e("U",n,s)}{const t=H,c=t/2,s=p.M(a,r).L(c,o).L(t,r);e("V",s,t)}{const t=H*1.5,c=t/3,s=t/2,n=c*2,h=p.M(a,r).L(c,o).L(s,i).L(n,o).L(t,r);e("W",h,t)}{const t=d,c=p.M(t,r).L(a,o).M(a,r).L(t,o);e("X",c,t)}{const t=g,c=d+t,s=p.M(c,r).L(t,o).M(a,r).L(c/2,i);e("Y",s,c)}{const t=d,c=p.M(a,r).H(t).L(a,o).H(t);e("Z",c,t)}{const t=d,c=g/2,s=t+c,n=t/2,h=p.M(n,i).Q_HV(a,Q).Q_VH(n,o).Q_HV(t,Q).Q_VH(n,i).M(s,i).L(s,o);e("a",h,s)}{const t=d,c=g/2,s=t+c,n=c,h=c+t/2,V=s,u=p.M(a,r).V(o).M(n,Q).Q_VH(h,o).Q_HV(V,Q).Q_VH(h,i).Q_HV(n,Q);e("b",u,s)}{const t=d*.875,c=0,s=d/2,n=t,h=(i+Q)/2,V=(Q+o)/2,u=p.M(n,h).Q_VH(s,i).Q_HV(c,Q).Q_VH(s,o).Q_HV(n,V);e("c",u,t)}{const t=d,c=0,s=t/2,n=t,h=p.M(n,i).H(s).Q_HV(c,Q).Q_VH(s,o).H(n);e("ca",h,t)}{const t=d*.75,c=0,s=d/2,n=t,h=p.M(n,i).H(s).Q_HV(c,Q).Q_VH(s,o).H(n);e("cb",h,t)}{const t=d*.75,c=0,s=d/2,n=t,h=(i+Q)/2,V=(Q+o)/2,u=p.M(n,h).Q_VH(s,i).Q_HV(c,Q).Q_VH(s,o).Q_HV(n,V);e("cc",u,t)}{const t=d,c=0,s=d/2,n=t,h=(i+Q)/2,V=(Q+o)/2,u=p.M(n,h).Q_VH(s,i).Q_HV(c,Q).Q_VH(s,o).Q_HV(n,V);e("cd",u,t)}{const t=d,c=g/2,s=t+c,n=t/2,h=p.M(n,i).Q_HV(a,Q).Q_VH(n,o).Q_HV(t,Q).Q_VH(n,i).M(s,r).L(s,o);e("d",h,s)}const R=d/8;{const t=d,c=d/2,s=t,n=s-R,h=p.M(a,Q).H(s).Q_VH(c,i).Q_HV(a,Q).Q_VH(c,o).H(n);e("e",h,t)}{const t=d,c=d/2,s=t,n=(Q+o)/2,h=p.M(a,Q).H(s).Q_VH(c,i).Q_HV(a,Q).Q_VH(c,o).Q_HV(s,n);e("ea",h,t)}{const t=d*.75,c=t/2,s=t,n=p.M(s,r).Q_HV(c,f).V(o).M(s,i).H(a);e("f",n,t)}{const t=d,c=g/2,s=t+c,n=t/2,h=p.M(n,i).Q_HV(a,Q).Q_VH(n,o).Q_HV(t,Q).Q_VH(n,i).M(s,i).V(o).Q_VH(n,_).H(a+R);e("g",h,s)}{const t=d*.85,c=t/2,s=p.M(a,r).V(o).Q_VH(c,i).Q_HV(t,Q).V(o);e("h",s,t)}{const c=p.M(a,i).V(o).M(a,f).V(f-g/4);e("i",c,0)}{const t=Math.abs(o-_),c=t/2,s=p.M(t,i).V(o).Q_VH(c,_).Q_HV(a,o).M(t,f).V(f-g/4);e("j",s,t)}{const t=Math.abs(o-_)*1.5,c=t/2,s=p.M(t,i).V(o).Q_VH(c,_).Q_HV(a,o).M(t,f).V(f-g/4);e("ja",s,t)}{const t=L.xHeight*2/3,c=d/10,s=t+c,n=p.M(a,r).V(o).M(t,i).L(a,i+t).M(t/2,o-t).L(s,o);e("k",n,s)}{const c=p.M(a,r).V(o);e("l",c,0)}{const t=d*1.5,c=t/4,s=t/2,n=t*3/4,h=t,V=p.M(a,i).V(o).Q_VH(c,i).Q_HV(s,Q).V(o).M(s,Q).Q_VH(n,i).Q_HV(h,Q).V(o);e("m",V,t)}{const t=d*.85,c=t/2,s=p.M(a,i).V(o).Q_VH(c,i).Q_HV(t,Q).V(o);e("n",s,t)}{const t=d,c=0,s=t/2,n=t,h=p.M(s,i).Q_HV(n,Q).Q_VH(s,o).Q_HV(c,Q).Q_VH(s,i);e("o",h,t)}{const t=d,c=g/2,s=t+c,n=c,h=c+t/2,V=s,u=p.M(a,i).V(_).M(n,Q).Q_VH(h,i).Q_HV(V,Q).Q_VH(h,o).Q_HV(n,Q);e("p",u,s)}{const t=d,c=t/2,s=t+g/2,n=Math.abs(o-_),h=s+n/2,V=s+n,u=p.M(c,i).Q_HV(a,Q).Q_VH(c,o).Q_HV(t,Q).Q_VH(c,i).M(s,i).V(o).Q_VH(h,_).Q_HV(V,o);e("q",u,V)}{const t=d,c=t/2,n=t+g/2,h=p.M(c,i).Q_HV(a,Q).Q_VH(c,o).Q_HV(t,Q).Q_VH(c,i).M(n,i).L(n,_);e("qa",h,n)}{const t=d,c=t/2,s=p.M(a,i).V(o).Q_VH(c,i).Q_HV(t,Q);e("r",s,t)}{const t=d,c=t/2,s=Q,n=Q,h=p.M(a,i).V(o).M(a,s).Q(c,f,t,n);e("re",h,t)}{let t=function(M,v,w){const m=1-w;return M*m+v*w};const c=d,s=c/2,n=t(Q,i,.25),h=t(Q,i,.75),u=p.M(a,i).V(o).M(a,n).Q(t(s,a,.5),i,s,i).Q(t(s,c,.75),i,c,h);e("rd",u,c)}{const t=d,c=t/2,s=(Q+i)/2,n=p.M(a,i).V(o).M(a,Q).Q_VH(c,i).Q_HV(t,s);e("rc",n,t)}{const t=d,c=t/2,s=p.M(a,i).V(o).Q_VH(c,i).Q_HV(t,(Q+i)/2);e("rb",s,t)}{const t=L.xHeight*2/3,c=t/2,s=o,n=Q,h=i,V=(s+n)/2,u=(n+h)/2,M=(u+h)/2,v=(s+V)/2,w=p.M(t,M).Q_VH(c,h).Q_HV(a,u).Q_VH(c,n).Q_HV(t,V).Q_VH(c,s).Q_HV(a,v);e("s",w,t)}{const t=L.xHeight*2/3,c=t/2,s=o,n=Q,h=i,V=(s+n)/2,u=(n+h)/2,M=p.M(t,u).Q_VH(c,h).Q_HV(a,u).Q_VH(c,n).Q_HV(t,V).Q_VH(c,s).Q_HV(a,V);e("sb",M,t)}{const t=L.xHeight*2/3,c=t/2,s=o,n=Q,h=i,V=(s+n)/2,u=(n+h)/2,M=p.M(t-R,h).H(c).Q_HV(a,u).Q_VH(c,n).Q_HV(t,V).Q_VH(c,s).H(R);e("sa",M,t)}{const t=d*.75,c=t/2,s=t,n=p.M(c,f).V(Q).Q_VH(s,o).M(s,i).H(a);e("t",n,t)}{const t=d*.85,c=t/2,s=p.M(a,i).V(Q).Q_VH(c,o).Q_HV(t,i).L(t,o);e("u",s,t)}{const t=d,c=t/2,s=p.M(a,i).L(c,o).L(t,i);e("v",s,t)}{const t=L.xHeight*1.5,c=t/3,s=t/2,n=c*2,h=p.M(a,i).L(c,o).L(s,Q).L(n,o).L(t,i);e("w",h,t)}{const t=d,c=p.M(t,i).L(a,o).M(a,i).L(t,o);e("x",c,t)}{const t=d,c=t/2,s=(i+_)/2,n=p.M(t,i).L(a,_).M(a,i).L(c,s);e("y",n,t)}{const t=d,c=p.M(a,i).H(t).L(a,o).H(t);e("z",c,t)}return l}const X=P("main",SVGSVGElement);function B(L){const l=new Map;return L.forEach((e,H)=>{const{advance:d,fontMetrics:r}=e,f=e.shape.convertToCubics(),i=new y(f,d,r);l.set(H,i)}),l}function K(L,l=L*.75){const e=x(L);return x(l).forEach((d,r)=>{const f=r.toLowerCase();f!=r&&e.set(f,d)}),e}function Y(L,l){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},H=O.generator({options:{...e,...l}}),d=new Map;return L.forEach((r,f)=>{const i=()=>{const o=H.path(r.d),g=H.toPaths(o).map(a=>a.d);return p.fromStrings(...g)},Q=new y(i,r.advance,r.fontMetrics);d.set(f,Q)}),d}{let L=function(s){return s.length==1};class l{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(n=1){this.baseline+=this.lineHeight*n}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=x(5);getDescription(n){return this.font.get(n)}makeRoom(n){this.x+n.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(n){this.x+=n.advance+n.fontMetrics.defaultKerning}show1(n){this.makeRoom(n);const h=n.makeElement();return X.appendChild(h),h.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.advance(n),h}splitAndShow1(n){this.makeRoom(n);const h=n.makeElements();return h.forEach(({element:V})=>{X.appendChild(V),V.style.transform=`translate(${this.x}px,${this.baseline}px)`}),this.advance(n),h}show(n){const h=new Set,V=[...n].flatMap(u=>{const M=this.getDescription(u);return M?{element:this.show1(M),description:M,char:u}:u==" "?(this.showSpace(),[]):(h.add(u),[])});return h.size>0&&console.warn(h),V}splitAndShow(n){const h=new Set,V=[...n].flatMap(u=>{const M=this.getDescription(u);return M?this.splitAndShow1(M):u==" "?(this.showSpace(),[]):(h.add(u),[])});return h.size>0&&console.warn(h),V}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const e=new l;let H="",d=[];e.font.forEach((s,n)=>{L(n)?H+=n:d.push(s)}),e.show(H),e.CRLF(),d.forEach(s=>{e.show1(s).classList.add("historical")}),e.CRLF(),e.show(H).forEach(({element:s})=>{s.classList.add("lights")}),e.CRLF();const r=e.splitAndShow(H),f=s=>{if(s==0)return 0;const n=r[s].innerShape,h=r[s-1].innerShape;return Math.hypot(h.endX-n.startX,h.endY-n.startY)},{totalLength:i,maxLength:Q}=r.reduce(({totalLength:s,maxLength:n},{element:h},V)=>{const u=h.getTotalLength();return s+=f(V)+u,n=Math.max(n,u),{totalLength:s,maxLength:n}},{totalLength:0,maxLength:0}),o=Math.ceil(Q)+1,_=`0 ${o} ${o} 0`;async function g(){for(;;){let h=0,V;r.forEach(({element:u},M)=>{const v=u.getTotalLength();h+=f(M);const w=1e3+h/i*2e4;h+=v;const m=v/i*2e4;V=u.animate([{strokeDasharray:_,strokeDashoffset:1e-5},{strokeDasharray:_,strokeDashoffset:-v}],{delay:w,duration:m,fill:"backwards"})}),await V.finished,await I(3e3)}}g(),e.CRLF(),e.font=K(5),e.show("Small  Caps"),e.lineHeight*=1.125;const a=x(new W(6,.5)),R=B(a),t=[.24,.34,.4,.44,.5,.54,.64].map(s=>(e.font=Y(R,{roughness:s}),e.CRLF(),e.show(`Rough Font ${Math.round(s*100)}  [4XxYyZ]`)));{let s=function(){return Math.random()+.5|0};t[6].forEach(h=>{const V=3+s()+s()+s(),u=T(V,()=>({d:h.description.cssPath}));u.push(u[0]);const M=V*1e4/3,v=M/8,w=Math.exp(C(Math.log(v),Math.log(M),Math.random()));h.element.animate(u,{duration:w,iterations:1/0})})}const c=Y(R,{roughness:0});t[5].forEach(n=>{const h=c.get(n.char).cssPath,V=n.element.style.d,u=.03,M=[{offset:0,d:V},{offset:u,d:h},{offset:.5,d:h},{offset:u+.5,d:V},{offset:1,d:V}];n.element.animate(M,{duration:3e3,iterations:1/0})}),t[4].forEach(n=>{const h=c.get(n.char).cssPath,V=n.element.style.d,u=1/8,M=7/8,v=14e3,w=[{offset:0,strokeWidth:.5},{offset:u,strokeWidth:.5},{offset:M,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],m=[{offset:0,d:h},{offset:u,d:h,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:M,d:V},{offset:1,d:V}],S=[{offset:0,opacity:1},{offset:u,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:M,opacity:0},{offset:1,opacity:0}];n.element.animate(S,{duration:v,iterations:1/0}),n.element.animate(m,{duration:v,iterations:1/0}),n.element.animate(w,{duration:v,iterations:1/0})})}
