import{m as a}from"./misc-CLGTS8fC.js";function w(n,t,s=1,r=1/0){const e=[];if(document.querySelectorAll(n).forEach(o=>{e.push(a.assertClass(o,t))}),e.length<s||e.length>r)throw new Error(`Expecting "${n}" to return [${s} - ${r}] instances of ${t.name}, found ${e.length}.`);return e}function p(n,t){return w(n,t,1,1)[0]}class m{constructor(){throw new Error("wtf")}static sfc32(t,s,r,e){function o(){t|=0,s|=0,r|=0,e|=0;let c=(t+s|0)+e|0;return e=e+1|0,t=s^s>>>9,s=r+(r<<3)|0,r=r<<21|r>>>11,r=r+c|0,(c>>>0)/4294967296}const i=o;return Object.defineProperty(i,"currentSeed",{get(){return JSON.stringify([t,s,r,e])}}),i}static#t=42;static seedIsValid(t){try{return this.create(t),!0}catch{return!1}}static create(t=this.newSeed()){console.info(t);const s=JSON.parse(t);if(!(s instanceof Array))throw new Error("invalid input");if(s.length!=4)throw new Error("invalid input");const[r,e,o,i]=s;if(!(typeof r=="number"&&typeof e=="number"&&typeof o=="number"&&typeof i=="number"))throw new Error("invalid input");return this.sfc32(r,e,o,i)}static newSeed(){const t=[];return t.push(Date.now()|0),t.push(this.#t++|0),t.push(Math.random()*2**31|0),t.push(performance.now()*1e4|0),JSON.stringify(t)}static test(){const r=[this.create()];for(;r.length<=10;){for(let o=0;o<20;o++){const i=r.map(c=>c());for(let c=1;c<i.length;c++)if(i[c]!==i[0]){debugger;throw new Error("wtf")}}const e=a.pick(r).currentSeed;r.forEach(o=>{if(o.currentSeed!=e){debugger;throw new Error("wtf")}}),r.push(this.create(e))}}}window.Random=m;function u(n){if(!(Number.isFinite(n)&&n>=0&&n<=1))throw new Error(`t should be between 0 and 1, inclusive. t == ${n}`)}function E(...n){n.forEach(r=>{if(!(r>=0&&r<Number.MAX_SAFE_INTEGER))throw new Error("wtf")});const t=a.sum(n);if(t==0)throw new Error("wtf");return r=>{u(r),r*=t;for(let e=0;e<n.length;e++){const o=n[e];if(r<=o)return r/=o,{t:r,index:e};r-=o}throw new Error("wtf")}}function g(n,t,s){const r=n+t+s,e=a.makeBoundedLinear(n/r,0,(n+t)/r,1);return i=>{u(i);const c=e(i)*t,f=Math.min(c|0,t-1),l=c-f;return u(l),{t:l,index:f}}}function S(n){const t=2/(n+1),s=1-t;return e=>s*e*e+t*e}function h(n,t){return t?h(t,n%t):n}function y(n,t){return n*t/h(n,t)}class b{#t;constructor(t=60){if(a.assertFinite(t),t<1||t!=(t|0))throw new Error("wtf");this.#t=t,this.fromMSF=this.fromMSF.bind(this),this.fromString=this.fromString.bind(this),Object.freeze(this)}get framesPerSecond(){return this.#t}fromMSF(t,s,r){return(t*60+s)*this.#t+r}fromString(t){const s=/^([0-9]+):([0-9]+):([0-9]+)$/.exec(t);if(!s)throw new Error("wtf");const r=a.parseIntX(s[1]),e=a.parseIntX(s[2]),o=a.parseIntX(s[3]);if(r===void 0||e===void 0||o===void 0)throw new Error("wtf");return this.fromMSF(r,e,o)}}export{b as G,m as R,u as a,p as b,S as c,g as d,y as l,E as m,w as s};
