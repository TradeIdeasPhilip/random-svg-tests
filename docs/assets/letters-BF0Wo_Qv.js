import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as F,g as nt,i as et,m as st,s as G}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as R}from"./utility-D2LlNOtt.js";import{a as ot}from"./rough.esm-C_8OcXYf.js";function B(..._){_.forEach(h=>{if(!isFinite(h))throw new Error("wtf")})}const N=" *",X="(-?[0-9]+.?[0-9]*)",P=" *[, ] *",at=new RegExp(`^M${N}${X}${P}${X}(.*)$`),ct=new RegExp(`^Q${N}${X}${P}${X}${P}${X}${P}${X}(.*)$`),it=new RegExp(`^C${N}${X}${P}${X}${P}${X}${P}${X}${P}${X}${P}${X}(.*)$`);class f{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(h,n){return new this().M(h,n)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...h){const n=new this;return h.forEach(d=>n.fromString(d)),n.checkInvariants(),n}fromString(h){for(;h=h.replace(/^ */,""),h!="";){let n=at.exec(h);if(n){const d=F(n[1]),l=F(n[2]);if(d===void 0||l===void 0)throw console.error(n,d,l,this),new Error("wtf");this.M(d,l),h=n[3];continue}if(n=ct.exec(h),n){const d=F(n[1]),l=F(n[2]),a=F(n[3]),p=F(n[4]);if(d===void 0||l===void 0||a===void 0||p===void 0)throw console.error(n,d,l,a,p,this),new Error("wtf");this.Q(d,l,a,p),h=n[5];continue}if(n=it.exec(h),n){const d=F(n[1]),l=F(n[2]),a=F(n[3]),p=F(n[4]),r=F(n[5]),m=F(n[6]);if(d===void 0||l===void 0||a===void 0||p===void 0||r===void 0||m===void 0)throw console.error(n,d,l,a,p,r,m,this),new Error("wtf");this.C(d,l,a,p,r,m),h=n[7];continue}throw console.error(h),new Error("wtf")}return this}constructor(){}M(h,n){B(h,n);function d(a,p,r){a.M(h+p,n+r)}function l(a){a.M(h,n)}return this.#t.push({endX:h,endY:n,asString:`M ${h},${n}`,translate:d,toCubic:l}),this}H(h){B(h);function n(p,r,m){p.H(h+r)}const d=this.endX,l=this.endY;function a(p){p.C(R(d,h,1/3),l,R(d,h,2/3),l,h,l)}return this.#t.push({endX:h,endY:l,asString:`H ${h}`,translate:n,toCubic:a}),this}V(h){B(h);function n(p,r,m){p.V(h+m)}const d=this.endX,l=this.endY;function a(p){p.C(d,R(l,h,1/3),d,R(l,h,2/3),d,h)}return this.#t.push({endX:this.endX,endY:h,asString:`V ${h}`,translate:n,toCubic:a}),this}L(h,n){B(h,n);function d(r,m,o){r.L(h+m,n+o)}const l=this.endX,a=this.endY;function p(r){r.C(R(l,h,1/3),R(a,n,1/3),R(l,h,2/3),R(a,n,2/3),h,n)}return this.#t.push({endX:h,endY:n,asString:`L ${h},${n}`,translate:d,toCubic:p}),this}Q(h,n,d,l){B(h,n,d,l);function a(o,E,C){o.Q(h+E,n+C,d+E,l+C)}const p=this.endX,r=this.endY;function m(o){o.C(R(p,h,2/3),R(r,n,2/3),R(d,h,2/3),R(l,n,2/3),d,l)}return this.#t.push({endX:d,endY:l,asString:`Q ${h},${n} ${d},${l}`,translate:a,toCubic:m}),this}Q_HV(h,n){return this.Q(h,this.endY,h,n)}Q_VH(h,n){return this.Q(this.endX,n,h,n)}C(h,n,d,l,a,p){B(h,n,d,l,a,p);function r(o,E,C){o.C(h+E,n+C,d+E,l+C,a+E,p+C)}function m(o){o.C(h,n,d,l,a,p)}return this.#t.push({endX:a,endY:p,asString:`C ${h},${n} ${d},${l} ${a},${p}`,translate:r,toCubic:m}),this}static cssifyPath(h){return`path('${h}')`}get cssPath(){return f.cssifyPath(this.rawPath)}makeElement(){const h=document.createElementNS("http://www.w3.org/2000/svg","path"),n=this.cssPath;if(h.style.d=n,h.style.d=="")throw console.error(n,h),new Error("wtf");return h}get rawPath(){return this.#t.map(h=>h.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(h=>h.cssPath)}get rawPaths(){return this.splitOnMove().map(h=>h.rawPath)}splitOnMove(){const h=[];let n=[];return this.#t.forEach(d=>{d.asString[0]=="M"&&n.length>0&&(h.push(n),n=[]),n.push(d)}),h.push(n),h.map(d=>{const l=new f;return l.#t.push(...d),l})}static join(h){const n=new f;return h.forEach(({Δx:d,Δy:l,shape:a})=>{a.#t.forEach(p=>p.translate(n,d,l))}),n.checkInvariants(),n}convertToCubics(){const h=new f;return this.#t.forEach(n=>n.toCubic(h)),h.checkInvariants(),h}translate(h,n){const d=new f;return this.#t.forEach(l=>l.translate(d,h,n)),d.checkInvariants(),d}}class q{constructor(h,n=h/10){if(this.fontSize=h,this.strokeWidth=n,h<=0||!isFinite(h))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class U{constructor(h,n,d){this.advance=n,this.fontMetrics=d,h instanceof f?this.#t=()=>h:this.#t=h}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(h=>({innerShape:h,element:h.makeElement()}))}}function z(_){const h=new Map;typeof _=="number"&&(_=new q(_));const n=(t,s,e)=>{const i=new U(s,e,_);if(h.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...h].at(-1)[0]}"`);h.set(t,i)},{aWidth:d,digitWidth:l,capitalTop:a,capitalTopMiddle:p,capitalMiddle:r,capitalBottomMiddle:m,baseline:o,descender:E,strokeWidth:C}=_,c=0;{const t=l,e=t/2,i=t;{const u=(E-o)*2,H=E,b=H-u,Q=a-u/4,g=Q+u;if(u<=0||H<=b||b<=g||g<=Q)throw new Error("wtf");const M=l*.5;{const V=f.M(M,Q);V.Q_HV(0,g),V.V(b),V.Q_VH(M,H),n("(",V,M)}{const V=l*.5,L=f.M(0,Q);L.Q_HV(V,g),L.V(b),L.Q_VH(0,H),n(")",L,V)}{const V=f.M(M,Q);V.H(0),V.V(H),V.H(M),n("[",V,M)}{const V=f.M(0,Q);V.H(M),V.V(H),V.H(0),n("]",V,M)}}{const u=f.M(e,a).Q(i,a,i,p).L(i,m).Q(i,o,e,o).Q(c,o,c,m).L(c,p).Q(c,a,e,a).M(i,p).L(c,m);n("0",u,t)}{const u=f.M(c,p).Q(e,p,e,a).L(e,o).M(c,o).L(i,o);n("1",u,t)}{const u=f.M(c,p).Q_VH(e,a).Q_HV(i,p).Q_VH(e,r).Q_HV(c,o).L(i,o);n("2",u,t)}{const u=f.M(c,p).Q_VH(e,a).Q_HV(i,p).Q_VH(e,r).Q_HV(i,m).Q_VH(e,o).Q_HV(c,m);n("3",u,t)}{const u=(e+i)/2,H=(e+c)/2,b=f.M(i,r).L(c,r).L(H,a).M(u,a).L(u,o);n("4",b,t)}{const u=c+l/5,H=i-l/5,b=(r+m)/2,Q=f.M(H,a).L(u,a).L(c,r).Q_VH(e,p).Q_HV(i,b).Q_VH(e,o).Q_HV(c,m);n("5",Q,t)}{const u=f.M(i,a).Q_HV(c,m).Q_VH(e,o).Q_HV(i,m).Q_VH(e,r).Q_HV(c,m);n("6",u,t)}{const u=f.M(c,a).L(i,a).L(c,o);n("7",u,t)}{const u=f.M(e,a).Q(i,a,i,p).Q(i,r,e,r).Q(c,r,c,m).Q(c,o,e,o).Q(i,o,i,m).Q(i,r,e,r).Q(c,r,c,p).Q(c,a,e,a);n("8",u,t)}{const u=f.M(i,p).Q(i,a,e,a).Q(c,a,c,p).Q(c,r,e,r).Q(i,r,i,p).Q(i,o,c,o);n("9",u,t)}}{const t=f.M(c,o).L(d/2,a).L(_.aWidth,o).M(_.aWidth/4,r).L(_.aWidth*.75,r);n("A",t,d)}{const t=l,s=p-a;if(s<=0)throw new Error("wtf");const e=(t-s)*(2/3),i=o-m;if(i<=0)throw new Error("wtf");const u=t-i,H=f.M(c,a).L(c,o).L(u,o).M(Math.max(u,e),r).L(c,r).M(c,a).L(e,a).Q(e+s,a,e+s,a+s).Q(e+s,r,e,r).M(u,r).Q(u+i,r,u+i,o-i).Q(u+i,o,u,o);n("B",H,t)}{const t=l,e=t/2,i=t,u=f.M(i,p).Q(i,a,e,a).Q(c,a,c,p).L(c,m).Q(c,o,e,o).Q(i,o,i,m);n("C",u,t)}{const t=l,e=t/2,i=t,u=f.M(c,a).L(c,o).L(e,o).Q(i,o,i,m).L(i,p).Q(i,a,e,a).L(c,a);n("D",u,t)}{const t=l,s=t*(2/3),e=t,i=f.M(e,a).L(c,a).L(c,o).L(e,o).M(s,r).L(c,r);n("E",i,t)}{const t=l,s=t*(2/3),e=t,i=f.M(e,a).L(c,a).L(c,o).M(s,r).L(c,r);n("F",i,t)}{const t=l,e=t/2,i=t,u=f.M(i,p).Q(i,a,e,a).Q(c,a,c,p).L(c,m).Q(c,o,e,o).Q(i,o,i,m).L(i,r).L(e,r);n("G",u,t)}{const t=l,s=t,e=f.M(c,a).L(c,o).M(s,a).L(s,o).M(c,r).L(s,r);n("H",e,t)}{const t=_.mHeight/3,s=t/2,e=t,i=f.M(c,a).L(e,a).M(c,o).L(e,o).M(s,a).L(s,o);n("I",i,t)}{const t=l*.85,e=t/2,i=t,u=f.M(i,a).L(i,m).Q(i,o,e,o).Q(c,o,c,m);n("J",u,t)}{const t=l+C,s=(a+o)/2,e=f.M(c,a).L(c,o).M(t,a).L(c+.5,s).L(t,o);n("K",e,t)}{const t=l,s=f.M(c,a).L(c,o).L(t,o);n("L",s,t)}{const t=l*1.5,s=t/2,e=f.M(c,o).L(c,a).L(s,r).L(t,a).L(t,o);n("M",e,t)}{const t=l*1.2,s=f.M(c,o).L(c,a).L(t,o).L(t,a);n("N",s,t)}{const t=l*1.5,s=t/2,e=(a+o)/2,i=f.M(s,a).Q_HV(t,e).Q_VH(s,o).Q_HV(c,e).Q_VH(s,a);n("O",i,t)}{const t=l,s=r-p;if(s<=0)throw new Error("wtf");const e=t-s,i=f.M(c,a).L(c,o).M(c,a).L(e,a).Q_HV(t,p).Q_VH(e,r).L(c,r);n("P",i,t)}{const t=l*1.5,s=t/2,e=(a+o)/2,i=f.M(s,a).Q_HV(t,e).Q_VH(s,o).Q_HV(c,e).Q_VH(s,a).M(t-s*.75,o-s*.75).L(t+s/6,o+s/6);n("Q",i,t)}{const t=l,s=r-p;if(s<=0)throw new Error("wtf");const e=t-s,i=f.M(c,a).L(c,o).M(c,a).L(e,a).Q_HV(t,p).Q_VH(e,r).L(c,r).M(e,r).L(t,o);n("R",i,t)}{const t=l,s=l/2,e=l,i=f.M(e,p).Q_VH(s,a).Q_HV(c,p).Q_VH(s,r).Q_HV(e,m).Q_VH(s,o).Q_HV(c,m);n("S",i,t)}{const t=l,s=t/2,e=f.M(s,a).L(s,o).M(t,a).L(c,a);n("T",e,t)}{const t=(m+r)/2,s=Math.abs(t-o)*.85,e=s*2,i=f.M(c,a).V(t).Q_VH(s,o).Q_HV(e,t).V(a);n("U",i,e)}{const t=d,s=t/2,e=f.M(c,a).L(s,o).L(t,a);n("V",e,t)}{const t=d*1.5,s=t/3,e=t/2,i=s*2,u=f.M(c,a).L(s,o).L(e,r).L(i,o).L(t,a);n("W",u,t)}{const t=l,s=f.M(t,a).L(c,o).M(c,a).L(t,o);n("X",s,t)}{const t=C,s=l+t,e=f.M(s,a).L(t,o).M(c,a).L(s/2,r);n("Y",e,s)}{const t=l,s=f.M(c,a).H(t).L(c,o).H(t);n("Z",s,t)}{const t=l,s=C/2,e=t+s,i=t/2,u=f.M(i,r).Q_HV(c,m).Q_VH(i,o).Q_HV(t,m).Q_VH(i,r).M(e,r).L(e,o);n("a",u,e)}{const t=l,s=C/2,e=t+s,i=s,u=s+t/2,H=e,b=f.M(c,a).V(o).M(i,m).Q_VH(u,o).Q_HV(H,m).Q_VH(u,r).Q_HV(i,m);n("b",b,e)}{const t=l*.875,s=0,e=l/2,i=t,u=(r+m)/2,H=(m+o)/2,b=f.M(i,u).Q_VH(e,r).Q_HV(s,m).Q_VH(e,o).Q_HV(i,H);n("c",b,t)}{const t=l,s=C/2,e=t+s,i=t/2,u=f.M(i,r).Q_HV(c,m).Q_VH(i,o).Q_HV(t,m).Q_VH(i,r).M(e,a).L(e,o);n("d",u,e)}const A=l/8;{const t=l,s=l/2,e=t,i=e-A,u=f.M(c,m).H(e).Q_VH(s,r).Q_HV(c,m).Q_VH(s,o).H(i);n("e",u,t)}{const t=l*.75,s=t/2,e=t,i=f.M(e,a).Q_HV(s,p).V(o).M(e,r).H(c);n("f",i,t)}{const t=l,s=C/2,e=t+s,i=t/2,u=f.M(i,r).Q_HV(c,m).Q_VH(i,o).Q_HV(t,m).Q_VH(i,r).M(e,r).V(o).Q_VH(i,E).H(c+A);n("g",u,e)}{const t=l*.85,s=t/2,e=f.M(c,a).V(o).Q_VH(s,r).Q_HV(t,m).V(o);n("h",e,t)}const k=C/4;{const s=f.M(c,r).V(o).M(c,p).V(p-k);n("i",s,0)}{const t=Math.abs(o-E),s=t/2,e=f.M(t,r).V(o).Q_VH(s,E).Q_HV(c,o).M(t,p).V(p-k);n("j",e,t)}{const s=f.M(c,o).V(o-k);n(".",s,0)}{const s=(E-o)/2,e=s/2,i=f.M(c,o-k).V(o).Q_VH(-e,o+s);n(",",i,0)}{const s=(m+r)/2,e=f.M(c,o).V(o-k).M(c,s+k).V(s);n(":",e,0)}{const s=(m+r)/2,e=(E-o)/2,i=e/2,u=f.M(c,o-k).V(o).Q_VH(-i,o+e).M(c,s+k).V(s);n(";",u,0)}{const t=_.xHeight*2/3,s=l/10,e=t+s,i=f.M(c,a).V(o).M(t,r).L(c,r+t).M(t/2,o-t).L(e,o);n("k",i,e)}{const s=f.M(c,a).V(o);n("l",s,0)}{const t=l*1.5,s=t/4,e=t/2,i=t*3/4,u=t,H=f.M(c,r).V(o).Q_VH(s,r).Q_HV(e,m).V(o).M(e,m).Q_VH(i,r).Q_HV(u,m).V(o);n("m",H,t)}{const t=l*.85,s=t/2,e=f.M(c,r).V(o).Q_VH(s,r).Q_HV(t,m).V(o);n("n",e,t)}{const t=l,s=0,e=t/2,i=t,u=f.M(e,r).Q_HV(i,m).Q_VH(e,o).Q_HV(s,m).Q_VH(e,r);n("o",u,t)}{const t=l,s=C/2,e=t+s,i=s,u=s+t/2,H=e,b=f.M(c,r).V(E).M(i,m).Q_VH(u,r).Q_HV(H,m).Q_VH(u,o).Q_HV(i,m);n("p",b,e)}{const t=l,s=t/2,e=t+C/2,i=Math.abs(o-E),u=e+i/2,H=e+i,b=f.M(s,r).Q_HV(c,m).Q_VH(s,o).Q_HV(t,m).Q_VH(s,r).M(e,r).V(o).Q_VH(u,E).Q_HV(H,o);n("q",b,H)}{const t=l,s=t/2,e=f.M(c,r).V(o).Q_VH(s,r).Q_HV(t,m);n("r",e,t)}{const t=_.xHeight*2/3,s=t/2,e=o,i=m,u=r,H=(e+i)/2,b=(i+u)/2,Q=(b+u)/2,g=(e+H)/2,M=f.M(t,Q).Q_VH(s,u).Q_HV(c,b).Q_VH(s,i).Q_HV(t,H).Q_VH(s,e).Q_HV(c,g);n("s",M,t)}{const t=l*.75,s=t/2,e=t,i=f.M(s,p).V(m).Q_VH(e,o).M(e,r).H(c);n("t",i,t)}{const t=l*.85,s=t/2,e=f.M(c,r).V(m).Q_VH(s,o).Q_HV(t,r).L(t,o);n("u",e,t)}{const t=l,s=t/2,e=f.M(c,r).L(s,o).L(t,r);n("v",e,t)}{const t=_.xHeight*1.5,s=t/3,e=t/2,i=s*2,u=f.M(c,r).L(s,o).L(e,m).L(i,o).L(t,r);n("w",u,t)}{const t=l,s=f.M(t,r).L(c,o).M(c,r).L(t,o);n("x",s,t)}{const t=l,s=t/2,e=(r+E)/2,i=f.M(t,r).L(c,E).M(c,r).L(s,e);n("y",i,t)}{const t=l,s=f.M(c,r).H(t).L(c,o).H(t);n("z",s,t)}return h}const O=nt("main",SVGSVGElement);function rt(_){const h=new Map;return _.forEach((n,d)=>{const{advance:l,fontMetrics:a}=n,p=n.shape.convertToCubics(),r=new U(p,l,a);h.set(d,r)}),h}function ht(_,h=_*.75){const n=z(_);return z(h).forEach((l,a)=>{const p=a.toLowerCase();p!=a&&n.set(p,l)}),n}function j(_,h){const n={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},d=ot.generator({options:{...n,...h}}),l=new Map;return _.forEach((a,p)=>{const r=()=>{const o=d.path(a.d),C=d.toPaths(o).map(c=>c.d);return f.fromStrings(...C)},m=new U(r,a.advance,a.fontMetrics);l.set(p,m)}),l}{let _=function(Q){return Q.length==1},h=function(Q){let M=1/0,V=-1/0;Q.forEach($=>{const{description:y,baseline:I}=$,{fontMetrics:Y}=y;M=Math.min(M,Y.top+I),V=Math.max(V,Y.bottom+I)});const L=M-1,v=V+1,w=document.createElementNS("http://www.w3.org/2000/svg","rect");return w.x.baseVal.value=0,w.y.baseVal.value=L,w.width.baseVal.value=100,w.height.baseVal.value=v-L,O.insertBefore(w,Q[0].element),w};class n{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(g=1){this.baseline+=this.lineHeight*g}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=z(5);getDescription(g){return this.font.get(g)}makeRoom(g){this.x+g.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(g){this.x+=g.advance+g.fontMetrics.defaultKerning}moveToCursor(g){g.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(g,M){this.x+M>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),O.appendChild(g),g.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=M}show1(g){this.makeRoom(g);const M=g.makeElement();O.appendChild(M);const{x:V,baseline:L}=this;return this.moveToCursor(M),this.advance(g),{element:M,x:V,baseline:L}}splitAndShow1(g){this.makeRoom(g);const M=g.makeElements();return M.forEach(({element:V})=>{O.appendChild(V),this.moveToCursor(V)}),this.advance(g),M}show(g){const M=new Set,V=[...g].flatMap(L=>{const v=this.getDescription(L);return v?{...this.show1(v),description:v,char:L}:L==" "?(this.showSpace(),[]):(M.add(L),[])});return M.size>0&&console.warn(M),V}splitAndShow(g){const M=new Set,V=[...g].flatMap(L=>{const v=this.getDescription(L);return v?this.splitAndShow1(v):L==" "?(this.showSpace(),[]):(M.add(L),[])});return M.size>0&&console.warn(M),V}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const d=new n;let l="";d.font.forEach((Q,g)=>{_(g)&&(l+=g)}),d.show(l),d.CRLF();{const Q=d.show(l);Q.forEach(({element:g})=>{g.classList.add("lights")}),h(Q).style.fill="black"}d.CRLF();const a=d.splitAndShow(l),p=Q=>{if(Q==0)return 0;const g=a[Q].innerShape,M=a[Q-1].innerShape;return Math.hypot(M.endX-g.startX,M.endY-g.startY)},{totalLength:r,maxLength:m}=a.reduce(({totalLength:Q,maxLength:g},{element:M},V)=>{const L=M.getTotalLength();return Q+=p(V)+L,g=Math.max(g,L),{totalLength:Q,maxLength:g}},{totalLength:0,maxLength:0}),o=Math.ceil(m)+1,E=`0 ${o} ${o} 0`;async function C(){for(;;){let M=0,V;a.forEach(({element:L},v)=>{const w=L.getTotalLength();M+=p(v);const $=1e3+M/r*2e4;M+=w;const y=w/r*2e4;V=L.animate([{strokeDasharray:E,strokeDashoffset:1e-5},{strokeDasharray:E,strokeDashoffset:-w}],{delay:$,duration:y,fill:"backwards"})}),await V.finished,await G(3e3)}}C(),d.CRLF(),d.font=ht(5,3),d.show("Small  Caps"),d.lineHeight*=1.125;const c=z(new q(6,.5)),A=rt(c),k=[{roughness:.4,title:"Heartbeat"},{roughness:.44,title:"Toggle (snap)"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"Do the Wave"},{roughness:.59,title:"Wavy lights"},{roughness:.64,title:"Blustery day.i"}].map(Q=>{const{roughness:g,title:M}=Q;return d.font=j(A,{roughness:g}),d.CRLF(),d.show(`${Math.round(g*100)} ${M??"Rough Font"} [4XxYyZ]`)}),t=k[0],s=k[1],e=k[2],i=k[3],u=k[4],H=k[5],b=j(A,{roughness:0});h(u).style.fill="black",u.forEach(({element:Q})=>{Q.classList.add("lights")}),[u,H].forEach(Q=>{Q.forEach(g=>{function M(){return Math.random()+.5|0}const V=3+M()+M()+M(),L=et(V,()=>({d:g.description.cssPath}));L.push(L[0]);const v=V*1e4/3,w=v/8,$=Math.exp(R(Math.log(w),Math.log(v),Math.random()));g.element.animate(L,{duration:$,iterations:1/0})})}),s.forEach(Q=>{const g=b.get(Q.char).cssPath,M=Q.element.style.d,V=.03,L=[{offset:0,d:M},{offset:V,d:g},{offset:.5,d:g},{offset:V+.5,d:M},{offset:1,d:M}];Q.element.animate(L,{duration:2e3,iterations:1/0})});{const L=i.length,v=L*3,w=5e3;i.forEach(($,y)=>{const I=b.get($.char).cssPath,Y=$.element.style.d,S=$.element.style.transform,T=S+" scale(1.32)",x={d:I,transform:S},D={d:Y,transform:T},W=[{offset:0,...x},{offset:4/v,...D},{offset:6/v,...D},{offset:14/v,...x},{offset:1,...x}];$.element.animate(W,{duration:w,iterationStart:1-y/L,iterations:1/0})})}{const Q=e;h(Q).style.fill="hwb(190 10% 0% / 1)",Q.forEach(g=>{const M=b.get(g.char).cssPath,V=g.element.style.d,L=1/16,v=15/16,w=14e3,$=[{offset:0,strokeWidth:.5},{offset:L,strokeWidth:.5},{offset:v,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],y=[{offset:0,d:M},{offset:L,d:M,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:v,d:V},{offset:1,d:V}],I=[{offset:0,opacity:1},{offset:L,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:v,opacity:0},{offset:1,opacity:0}];g.element.animate(I,{duration:w,iterations:1/0}),g.element.animate(y,{duration:w,iterations:1/0}),g.element.animate($,{duration:w,iterations:1/0}),g.element.style.stroke="white"})}t.forEach(Q=>{const g=b.get(Q.char).cssPath,M=Q.element.style.d,V=750,L="cubic-bezier(.55,0,1,.55)";Q.element.animate([{offset:0,d:g,easing:L},{offset:.5,d:M,easing:L},{offset:1,d:g}],{duration:V,iterations:1/0})});{d.CRLF();const Q=.25,g=1.5,M="The more I drink the more I want to tell you what I really think about you.",V=st(0,Q,M.length-1,g),L=[...M].flatMap((S,T)=>(d.font=j(A,{roughness:V(T)}),d.splitAndShow(S))),v=S=>{if(S==0)return 0;const T=L[S].innerShape,x=L[S-1].innerShape;return Math.hypot(x.endX-T.startX,x.endY-T.startY)},{totalLength:w,maxLength:$}=L.reduce(({totalLength:S,maxLength:T},{element:x},D)=>{const W=x.getTotalLength();return S+=v(D)+W,T=Math.max(T,W),{totalLength:S,maxLength:T}},{totalLength:0,maxLength:0}),y=Math.ceil($)+1,I=`0 ${y} ${y} 0`;async function Y(){for(;;){let x=0,D;L.forEach(({element:W},Z)=>{const K=W.getTotalLength();x+=v(Z);const J=1e3+x/w*3e4;x+=K;const tt=K/w*3e4;D=W.animate([{strokeDasharray:I,strokeDashoffset:1e-5},{strokeDasharray:I,strokeDashoffset:-K}],{delay:J,duration:tt,fill:"backwards"})}),await D.finished,await G(3e3)}}Y()}{let Q=function(w){let $=0;const y=0,I=w.map(({shape:Y,advance:S,fontMetrics:T})=>{const x={Δx:$,Δy:y,shape:Y};return $+=S+T.defaultKerning,x});return{shape:f.join(I),advance:$}};d.font=c,d.CRLF();const g=[d.show("Stop "),d.show("Go")];console.log(g.map(w=>w.map($=>[...$.element.style.d].filter(y=>y.toLowerCase()!=y)).flat().join("")));const M=Q(g[0].map(({description:w})=>w)),V=Q(g[1].map(({description:w})=>w));d.CRLF();const L=M.shape.makeElement();d.showAndAdvance(L,M.advance),d.showSpace();const v=V.shape.makeElement();d.showAndAdvance(v,V.advance)}d.x>d.rightMargin&&d.CRLF(),O.viewBox.baseVal.height=d.baseline+d.font.get("0").fontMetrics.bottom}
