import{m as f}from"./client-misc-CqK8Npau.js";function P(t,n,i){const r=f.lerp(t.x,n.x,i),s=f.lerp(t.y,n.y,i);return{x:r,y:s}}function p(t,n,i){if(!(n>=0&&n<=1))throw new Error("Expected 0 ≤ t ≤ 1");const r=Math.max(0,n-i),s=t(r),c=Math.min(1,n+i),u=t(c),a=u.x-s.x,o=u.y-s.y;return a==0&&o==0?NaN:Math.atan2(o,a)}function g(t,n={}){const i=Math.ceil(n.numberOfSegments??10);if(i<1)throw new Error(`Invalid numberOfSegments: ${i}`);const r=.01/i,s=f.initializedArray(i+1,o=>{const e=o/i,l=t(e),y=p(t,e,r);return{t:e,point:l,direction:y}}),c=f.initializedArray(i,o=>({from:s[o],to:s[o+1]}));let a=`${n.initialCommand??"M"} ${c[0].from.point.x}, ${c[0].from.point.y}`;return c.forEach(o=>{const e=M({x0:o.from.point.x,y0:o.from.point.y,slope:Math.tan(o.from.direction)},{x0:o.to.point.x,y0:o.to.point.y,slope:Math.tan(o.to.direction)});e?a+=` Q ${e.x},${e.y}`:a+=" M",a+=` ${o.to.point.x},${o.to.point.y}`}),a}function R(t,n,i){const r=h(t,n,i);return g(r,{numberOfSegments:i*9.001002})}function h(t,n,i){const c={x:t.x-n.x,y:t.y-n.y},u=Math.hypot(c.x,c.y),a=f.makeLinear(0,u,1,0),o=Math.atan2(c.y,c.x),e=f.makeLinear(0,o,1,o+i*2*Math.PI);return function(l){const y=a(l),x=e(l),m=f.polarToRectangular(y,x);return{x:n.x+m.x,y:n.y+m.y}}}function T(t,n,i){const r=h(n,t,i);return s=>r(1-s)}function M(t,n){if(isNaN(t.slope)||isNaN(n.slope)||t.slope==n.slope)return;const i=t.slope==1/0||t.slope==-1/0,r=n.slope==1/0||n.slope==-1/0;if(i||r)return;const s=i?t.x0:r?n.x0:(n.y0-n.slope*n.x0-t.y0+t.slope*t.x0)/(t.slope-n.slope),c=i?n.slope*(s-n.x0)+n.y0:t.slope*(s-t.x0)+t.y0;return{x:s,y:c}}function A(t,n,i){const r=.01/i;function s(o){const e=t(o),l=p(t,o,r),y=l+Math.PI/2,x=n({direction:1,t:o,position:e,tangentAngle:l})/2,m=f.polarToRectangular(x,y);return{x:e.x+m.x,y:e.y+m.y}}const c=g(s,{numberOfSegments:i});function u(o){const e=1-o,l=t(e),y=p(t,e,r),x=y-Math.PI/2,m=n({direction:-1,t:e,position:l,tangentAngle:y})/2,d=f.polarToRectangular(m,x);return{x:l.x+d.x,y:l.y+d.y}}const a=g(u,{numberOfSegments:i,initialCommand:"L"});return`${c} ${a} z`}function k(t){const n=f.makeLinear(0,t.fromAngle,1,t.toAngle),i=f.makeLinear(0,Math.log(t.fromRadius),1,Math.log(t.toRadius)),r=a=>Math.exp(i(a)),s=a=>{const o=f.polarToRectangular(r(a),n(a));return{x:o.x+t.center.x,y:o.y+t.center.y}},c=2*Math.PI/(t.toAngle-t.fromAngle);return A(s,({t:a,direction:o})=>{const e=r(a+c*o),l=r(a);return Math.abs(l-e)*t.widthRatio},Math.abs(t.fromAngle-t.toAngle)*4)}export{T as a,g as b,k as c,P as l,h as m,R as s,A as v};
