import{m as k}from"./misc-wGF4FraP.js";import{D as j}from"./letters-base-DAfgggyy.js";import{Q as E,P as W,b as l,L as C}from"./path-shape-XCUZuMzS.js";const D=0,F=Math.PI/4,O=2*F,q=3*F,$=4*F,G=5*F,I=6*F,Y=7*F;function K(w){const V=new Map;typeof w=="number"&&(w=new J(w));const i=(t,s,n)=>{const e=new j(s,n,w);if(V.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...V].at(-1)[0]}"`);V.set(t,e)},{aWidth:L,digitWidth:r,capitalTop:h,capitalTopMiddle:_,capitalMiddle:p,capitalBottomMiddle:Q,baseline:a,descender:R,strokeWidth:T}=w,c=0,x=T/3;{const t=w.mHeight,s=.5803571598560251*t,n=[];n.push(E.controlPoints(.5803571598560251*t,-.011904772996231272*t,.1993461912459357*t,-.4845653833822309*t,.15178572549774305*t,-.5833333559985097*t)),n.push(E.controlPoints(.15178572549774305*t,-.5833333559985097*t,.07142858010885174*t,-.7502096094253163*t,.07142858010885174*t,-.8809523915616125*t)),n.push(E.controlPoints(.07142858010885174*t,-.8809523915616125*t,.07142858010885174*t,-1*t,.18154763484090689*t,-1*t)),n.push(E.controlPoints(.18154763484090689*t,-1*t,.3125000278492327*t,-1*t,.3125000278492327*t,-.8809523857747589*t)),n.push(E.controlPoints(.3125000278492327*t,-.8809523857747589*t,.3125000278492327*t,-.795672021064033*t,.14880952935525849*t,-.5863095347804337*t)),n.push(E.controlPoints(.14880952935525849*t,-.5863095347804337*t,0*t,-.39598002063544424*t,0*t,-.23511904966855834*t)),n.push(E.controlPoints(0*t,-.23511904966855834*t,0*t,0*t,.16369048113341364*t,0*t)),n.push(E.controlPoints(.16369048113341364*t,0*t,.31699631330709954*t,0*t,.45535713019840074*t,-.4583333263408854*t)),i("&",new W(n),s)}{const t=r,s=t/2*Math.sqrt(3),n=(a+h)/2,e=n-t/2,o=e+t,d=0,H=s;i("<",new W([E.line4(H,e,d,n),E.line4(d,n,H,o)]),s),i(">",new W([E.line4(d,e,H,n),E.line4(H,n,d,o)]),s)}{const t=r*.9,s=t/2,n=t/2,e=n*Math.SQRT1_2,o=l.M(c,h+n);o.arc(s,h+n,s+e,h+n+e,"cw"),o.Q_angles(s,Q,O),o.M(s,a-x),o.L(s,a),i("?",o.pathShape,t)}{const t=r*7/8,s=t/2,n=t,e=t/2,o=w.mHeight/8,d=h-o,H=a+o;if(H-d<e*4)throw new Error("wtf");const g=(d+H)/2,u=l.M(n,d).arc(n,d+e,s,d+e,"ccw").L(s,g-e).arc(c,g-e,c,g,"cw").arc(c,g+e,s,g+e,"cw").L(s,H-e).arc(n,H-e,n,H,"ccw").pathShape;i("{",u,t);const M=l.M(c,d).arc(c,d+e,s,d+e,"cw").L(s,g-e).arc(n,g-e,n,g,"ccw").arc(n,g+e,s,g+e,"ccw").L(s,H-e).arc(c,H-e,c,H,"cw").pathShape;i("}",M,t)}{const t=r,n=t/2,e=t;{const o=(R-a)*2,d=R,H=d-o,g=h-o/4,u=g+o;if(o<=0||d<=H||H<=u||u<=g)throw new Error("wtf");const M=r*.5;{const m=l.M(M,g).Q_HV(0,u).V(H).Q_VH(M,d).pathShape;i("(",m,M)}{const m=r*.5,S=l.M(0,g).Q_HV(m,u).V(H).Q_VH(0,d).pathShape;i(")",S,m)}{const m=l.M(M,g).H(0).V(d).H(M).pathShape;i("[",m,M)}{const m=l.M(0,g).H(M).V(d).H(0).pathShape;i("]",m,M)}}{const o=r*.4,d=r*.3,H=c,g=H+o,u=g+d,M=u+d,m=M+o,S=m,y=r*.25,v=p,b=v-y,f=v+y,P=l.M(H,v).Q_angles(g,b,D,Y).Q_angles(u,v,(O+F)/2).Q_angles(M,f,D).Q_angles(m,v,Y).pathShape;i("~",P,S)}{const o=r*.75,d=o/2,H=l.M(d,p-d).V(p+d).M(c,p).H(o).pathShape;i("+",H,o)}{const o=r*.75,d=l.M(c,p).H(o).pathShape;i("-",d,o)}{const o=r*.75,d=2*T,H=o+d,g=p-H/2,u=g+H,M=g,m=g+o,S=(M+m)/2,y=0,v=o,b=o/2,f=new W([new C(y,S,v,S),new C(b,M,b,m),new C(y,u,v,u)]);i("±",f,o)}{const o=r*.75,d=0,H=o/2,g=o,u=2*T,M=p,m=new W([new C(d,M,g,M),new C(H,M-u-x,H,M-u),new C(H,M+u,H,M+u+x)]);l.M(d,p).H(o).pathShape,i("÷",m,o)}{const o=r*.75*Math.SQRT1_2,d=p-o/2,H=p+o/2,g=0,u=o,M=new W([new C(g,d,u,H),new C(u,d,g,H)]);i("×",M,o)}{const o=r/2*.9,d=5,H=-Math.PI/2,g=(h+a)/2,u=0,M=k.initializedArray(d,f=>{const P=f*(Math.PI*2)/d+H,B=k.polarToRectangular(u,P),z=k.polarToRectangular(o,P);return[B,z]}),m=M.flat(),S=Math.min(...m.map(({x:f})=>f));m.forEach(f=>{f.x-=S,f.y+=g});const y=M.map(([f,P])=>new C(f.x,f.y,P.x,P.y)),v=new W(y),b=Math.max(...m.map(({x:f})=>f));i("*",v,b)}{const o=r*.75,d=l.M(c,p-T*1.25).H(o).M(c,p+T*1.25).H(o).pathShape;i("=",d,o)}{const o=r*1.25,d=a+T,H=l.M(0,d).H(o).pathShape;i("_",H,o)}{const o=r/2,d=3*o,H=o/3,g=h,u=g+o,M=u+o,m=M+o,S=l.M(o+H,g).L(o-H,m).M(2*o+H,g).L(2*o-H,m).M(0,u).H(d).M(0,M).H(d).pathShape;i("#",S,d)}{const o=r/2,d=3*o,H=0,g=o,u=d/2,M=2*o,m=d,S=h+(w.mHeight-d)/2,y=S+g,v=S+u,b=S+M,f=S+m,P=l.M(M,v).Q_VH(u,y).Q_HV(g,v).Q_VH(u,b).Q_HV(M,v).Q_VH((M+m)/2,b).Q_HV(m,v).V((y+v)/2).Q_VH(u,S).Q_HV(H,v).Q_VH(u,f).H((M+m)/2).pathShape;i("@",P,d)}{const o=l.M(n,h).Q(e,h,e,_).L(e,Q).Q(e,a,n,a).Q(c,a,c,Q).L(c,_).Q(c,h,n,h).M(e,_).L(c,Q).pathShape;i("0",o,t)}{const o=l.M(c,_).Q(n,_,n,h).L(n,a).M(c,a).L(e,a).pathShape;i("1",o,t)}{const o=l.M(c,_).Q_VH(n,h).Q_HV(e,_).Q_VH(n,p).Q_HV(c,a).L(e,a).pathShape;i("2",o,t)}{const o=l.M(c,_).Q_VH(n,h).Q_HV(e,_).Q_VH(n,p).Q_HV(e,Q).Q_VH(n,a).Q_HV(c,Q).pathShape;i("3",o,t)}{const o=(n+e)/2,d=(n+c)/2,H=l.M(e,p).L(c,p).L(d,h).M(o,h).L(o,a).pathShape;i("4",H,t)}{const o=c+r/5,d=e-r/5,H=(p+Q)/2,g=l.M(d,h).L(o,h).L(c,p).Q_VH(n,_).Q_HV(e,H).Q_VH(n,a).Q_HV(c,Q).pathShape;i("5",g,t)}{const o=l.M(e,h).Q_HV(c,Q).Q_VH(n,a).Q_HV(e,Q).Q_VH(n,p).Q_HV(c,Q).pathShape;i("6",o,t)}{const o=l.M(c,h).L(e,h).L(c,a).pathShape;i("7",o,t)}{const o=l.M(n,h).Q(e,h,e,_).Q(e,p,n,p).Q(c,p,c,Q).Q(c,a,n,a).Q(e,a,e,Q).Q(e,p,n,p).Q(c,p,c,_).Q(c,h,n,h).pathShape;i("8",o,t)}{const o=l.M(e,_).Q(e,h,n,h).Q(c,h,c,_).Q(c,p,n,p).Q(e,p,e,_).Q(e,a,c,a).pathShape;i("9",o,t)}}{const t=l.M(c,a).L(L/2,h).L(w.aWidth,a).M(w.aWidth/4,p).L(w.aWidth*.75,p).pathShape;i("A",t,L)}{const t=r,s=_-h;if(s<=0)throw new Error("wtf");const n=(t-s)*(2/3),e=a-Q;if(e<=0)throw new Error("wtf");const o=t-e,d=l.M(c,a).L(c,h).L(n,h).Q_HV(n+s,h+s).Q(n+s,p,n,p).L(c,p).M(Math.max(o,n),p).Q_HV(o+e,a-e).Q_VH(o,a).L(c,a).pathShape;i("B",d,t)}{const t=r,n=t/2,e=t,o=l.M(e,_).Q(e,h,n,h).Q(c,h,c,_).L(c,Q).Q(c,a,n,a).Q(e,a,e,Q).pathShape;i("C",o,t)}{const t=r,n=t/2,e=t,o=l.M(c,h).L(c,a).L(n,a).Q(e,a,e,Q).L(e,_).Q(e,h,n,h).L(c,h).pathShape;i("D",o,t)}{const t=r,s=t*(2/3),n=t,e=l.M(n,h).L(c,h).L(c,a).L(n,a).M(s,p).L(c,p).pathShape;i("E",e,t)}{const t=r,s=t*(2/3),n=t,e=l.M(n,h).L(c,h).L(c,a).M(s,p).L(c,p).pathShape;i("F",e,t)}{const t=r,n=t/2,e=t,o=l.M(e,_).Q(e,h,n,h).Q(c,h,c,_).L(c,Q).Q(c,a,n,a).Q(e,a,e,Q).L(e,p).L(n,p).pathShape;i("G",o,t)}{const t=r,s=t,n=l.M(c,h).L(c,a).M(s,h).L(s,a).M(c,p).L(s,p).pathShape;i("H",n,t)}{const t=w.mHeight/3,s=t/2,n=t,e=l.M(c,h).L(n,h).M(c,a).L(n,a).M(s,h).L(s,a).pathShape;i("I",e,t)}{const t=r*.85,n=t/2,e=t,o=l.M(e,h).L(e,Q).Q(e,a,n,a).Q(c,a,c,Q).pathShape;i("J",o,t)}{const t=r+T,s=(h+a)/2,n=l.M(c,h).L(c,a).M(t,h).L(c+.5,s).L(t,a).pathShape;i("K",n,t)}{const t=r,s=l.M(c,h).L(c,a).L(t,a).pathShape;i("L",s,t)}{const t=r*1.5,s=t/2,n=l.M(c,a).L(c,h).L(s,p).L(t,h).L(t,a).pathShape;i("M",n,t)}{const t=r*1.2,s=l.M(c,a).L(c,h).L(t,a).L(t,h).pathShape;i("N",s,t)}{const t=r*1.5,s=t/2,n=(h+a)/2,e=l.M(s,h).Q_HV(t,n).Q_VH(s,a).Q_HV(c,n).Q_VH(s,h).pathShape;i("O",e,t)}{const t=r,s=p-_;if(s<=0)throw new Error("wtf");const n=t-s,e=l.M(c,h).L(c,a).M(c,h).L(n,h).Q_HV(t,_).Q_VH(n,p).L(c,p).pathShape;i("P",e,t)}{const t=r*1.5,s=t/2,n=(h+a)/2,e=l.M(s,h).Q_HV(t,n).Q_VH(s,a).Q_HV(c,n).Q_VH(s,h).M(t-s*.75,a-s*.75).L(t+s/6,a+s/6).pathShape;i("Q",e,t)}{const t=r,s=p-_;if(s<=0)throw new Error("wtf");const n=t-s,e=l.M(c,h).L(c,a).M(c,h).L(n,h).Q_HV(t,_).Q_VH(n,p).L(c,p).M(n,p).L(t,a).pathShape;i("R",e,t)}{const t=r,s=r/2,n=r,e=l.M(n,_).Q_VH(s,h).Q_HV(c,_).Q_VH(s,p).Q_HV(n,Q).Q_VH(s,a).Q_HV(c,Q).pathShape;i("S",e,t)}{const s=r+T,n=s/2,e=s,o=w.mHeight/8,d=l.M(e,_).Q_VH(n,h).Q_HV(c,_).Q_VH(n,p).Q_HV(e,Q).Q_VH(n,a).Q_HV(c,Q).M(n,h-o).V(a+o).pathShape;i("$",d,s)}{const t=r,s=t/2,n=l.M(s,h).L(s,a).M(t,h).L(c,h).pathShape;i("T",n,t)}{const t=(Q+p)/2,s=Math.abs(t-a)*.85,n=s*2,e=l.M(c,h).V(t).Q_VH(s,a).Q_HV(n,t).V(h).pathShape;i("U",e,n)}{const t=L,s=t/2,n=l.M(c,h).L(s,a).L(t,h).pathShape;i("V",n,t)}{const t=L*1.5,s=t/3,n=t/2,e=s*2,o=l.M(c,h).L(s,a).L(n,p).L(e,a).L(t,h).pathShape;i("W",o,t)}{const t=r,s=l.M(t,h).L(c,a).M(c,h).L(t,a).pathShape;i("X",s,t)}{const t=T,s=r+t,n=l.M(s,h).L(t,a).M(c,h).L(s/2,p).pathShape;i("Y",n,s)}{const t=r,s=l.M(c,h).H(t).L(c,a).H(t).pathShape;i("Z",s,t)}{const t=r/4,s=r*1.2,n=l.M(t*2,h+t).Q_VH(t,h).Q_HV(0,h+t).Q_VH(t,h+t*2).Q_HV(t*2,h+t),o=n.pathShape.translate(s-t*2,w.mHeight-t*2);n.addCommands(o.commands),n.M(s,h).L(c,a);const d=n.pathShape;i("%",d,s)}{const t=r,s=l.M(t,h).L(c,a).pathShape;i("/",s,t)}{const t=r,s=l.M(c,h).L(t,a).pathShape;i("\\",s,t)}{const t=r,s=t*.05,n=t+s,e=t/2,o=l.M(t,Q).Q_VH(e,p).Q_HV(c,Q).Q_VH(e,a).Q_HV(n,p).V(a).pathShape;i("a",o,n)}{const t=r,s=t*.05,n=t+s,e=s,o=s+t/2,d=n,H=l.M(e,Q).Q_VH(o,a).Q_HV(d,Q).Q_VH(o,p).Q_HV(c,a).V(h).pathShape;i("b",H,n)}{const t=r*.875,s=0,n=r/2,e=t,o=(p+Q)/2,d=(Q+a)/2,H=l.M(e,o).Q_VH(n,p).Q_HV(s,Q).Q_VH(n,a).Q_HV(e,d).pathShape;i("c",H,t)}{const t=r,s=t*.05,n=t+s,e=t/2,o=l.M(n,h).L(n,a).Q_VH(e,p).Q_HV(c,Q).Q_VH(e,a).Q_HV(t,Q).pathShape;i("d",o,n)}const A=r/8;{const t=r,s=r/2,n=t,e=n-A,o=l.M(c,Q).H(n).Q_VH(s,p).Q_HV(c,Q).Q_VH(s,a).H(e).pathShape;i("e",o,t)}{const t=r*.75,s=t/2,n=t,e=l.M(n,h).Q_HV(s,_).V(a).M(n,p).H(c).pathShape;i("f",e,t)}{const t=r,s=t*.05,n=t+s,e=t/2,o=l.M(t,Q).Q_VH(e,p).Q_HV(c,Q).Q_VH(e,a).Q_HV(n,p).V(a).Q_VH(e,R).H(c+A).pathShape;i("g",o,n)}{const t=r*.85,s=t/2,n=l.M(c,h).V(a).Q_VH(s,p).Q_HV(t,Q).V(a).pathShape;i("h",n,t)}{const s=l.M(c,p).V(a).M(c,_).V(_-x).pathShape;i("i",s,0)}{const t=Math.abs(a-R),s=t/2,n=l.M(t,p).V(a).Q_VH(s,R).Q_HV(c,a).M(t,_).V(_-x).pathShape;i("j",n,t)}{const s=l.M(c,a).V(a-x).pathShape;i(".",s,0)}{const s=l.M(c,h).V(Q).M(c,a).V(a-x).pathShape;i("!",s,0)}{const s=(R-a)/2,n=s/2,e=l.M(c,a-x).V(a).Q_VH(-n,a+s).pathShape;i(",",e,0)}{const n=(R-a)/2+x,e=new W([new C(c,h,c,h+n)]);i("'",e,0)}{const s=(R-a)/2+x,n=s,e=s,o=new W([new C(c,h,e,h+s)]);i("`",o,n)}{const s=(R-a)/2+x,n=s,e=s*2,o=e,d=h,H=h+s,g=l.M(c,H).L(n,d).L(o,H).pathShape;i("^",g,e)}{const t=T*2,n=(R-a)/2+x,e=new W([new C(c,h,c,h+n),new C(t,h,t,h+n)]);i('"',e,t)}{const s=p,n=l.M(c,a).V(a-x).M(c,s-x).V(s).pathShape;i(":",n,0)}{const s=new W([new C(c,h,c,a)]);i("|",s,0)}{const s=p,n=(R-a)/2,e=n/2,o=l.M(c,a-x).V(a).Q_VH(-e,a+n).M(c,s-x).V(s).pathShape;i(";",o,0)}{const t=w.xHeight*2/3,s=r/10,n=t+s,e=l.M(c,h).V(a).M(t,p).L(c,p+t).M(t/2,a-t).L(n,a).pathShape;i("k",e,n)}{const s=l.M(c,h).V(a).pathShape;i("l",s,0)}{const t=r*1.5,s=t/4,n=t/2,e=t*3/4,o=t,d=l.M(c,p).V(a).Q_VH(s,p).Q_HV(n,Q).V(a).M(n,Q).Q_VH(e,p).Q_HV(o,Q).V(a).pathShape;i("m",d,t)}{const t=r*.85,s=t/2,n=l.M(c,p).V(a).Q_VH(s,p).Q_HV(t,Q).V(a).pathShape;i("n",n,t)}{const t=r,s=0,n=t/2,e=t,o=l.M(n,p).Q_HV(e,Q).Q_VH(n,a).Q_HV(s,Q).Q_VH(n,p).pathShape;i("o",o,t)}{const t=r,s=r*.05,n=t+s,e=s,o=s+t/2,d=n,H=l.M(e,Q).Q_VH(o,p).Q_HV(d,Q).Q_VH(o,a).Q_HV(c,p).V(R).pathShape;i("p",H,n)}{const t=r,s=t/2,n=r*.05,e=t+n,o=Math.abs(a-R),d=e+o/2,H=e+o,g=l.M(t,Q).Q_VH(s,p).Q_HV(c,Q).Q_VH(s,a).Q_HV(e,p).V(a).Q_VH(d,R).Q_HV(H,a).pathShape;i("q",g,H)}{const t=r,s=t/2,n=l.M(c,p).V(a).Q_VH(s,p).Q_HV(t,Q).pathShape;i("r",n,t)}{const t=w.xHeight*2/3,s=t/2,n=a,e=Q,o=p,d=(n+e)/2,H=(e+o)/2,g=(H+o)/2,u=(n+d)/2,M=l.M(t,g).Q_VH(s,o).Q_HV(c,H).Q_VH(s,e).Q_HV(t,d).Q_VH(s,n).Q_HV(c,u).pathShape;i("s",M,t)}{const t=r*.75,s=t/2,n=t,e=l.M(s,_).V(Q).Q_VH(n,a).M(n,p).H(c).pathShape;i("t",e,t)}{const t=r*.85,s=t/2,n=l.M(c,p).V(Q).Q_VH(s,a).Q_HV(t,p).L(t,a).pathShape;i("u",n,t)}{const t=r,s=t/2,n=l.M(c,p).L(s,a).L(t,p).pathShape;i("v",n,t)}{const t=w.xHeight*1.5,s=t/3,n=t/2,e=s*2,o=l.M(c,p).L(s,a).L(n,Q).L(e,a).L(t,p).pathShape;i("w",o,t)}{const t=r,s=l.M(t,p).L(c,a).M(c,p).L(t,a).pathShape;i("x",s,t)}{const t=r,s=t/2,n=(p+R)/2,e=l.M(t,p).L(c,R).M(c,p).L(s,n).pathShape;i("y",e,t)}{const t=r,s=l.M(c,p).H(t).L(c,a).H(t).pathShape;i("z",s,t)}{const t=r/2,s=t/2,n=l.M(s,h).circle(s,h+s,"cw").pathShape;i("°",n,t)}{const t=-h,s=t/2,n=l.M(s,h).circle(s,h+s,"cw").pathShape;i("◯",n,t)}{const t=-h,s=t/2,n=h/2,e=l.M(0,n).arc(s,n,t,n,"cw").pathShape;i("◠",e,t)}{const t=-h,s=t/2,n=h/2,e=l.M(0,n).arc(s,n,t,n,"ccw").pathShape;i("◡",e,t)}{const t=-h,s=t/4,n=h+s,e=l.M(s*2,n).arc(s*3,n,t,n,"cw").Q_angles(s*2,a,q,O).Q_angles(0,n,I,G).arc(s,n,s*2,n,"cw").pathShape;i("♡",e,t)}{const t=w.mHeight,s=t/4,n=s;{const e=t,o=(h+a)/2,d=l.M(n,o-s).L(0,o).L(n,o+s).M(0,o).L(e,o).M(e-n,o-s).L(e,o).L(e-n,o+s);i("↔",d.pathShape,e);const H=new W(d.commands.slice(0,3));i("←",H,e);const g=new W(d.commands.slice(2,5));i("→",g,e)}{const o=s,d=s*2,H=d,g=l.M(0,h+n).L(o,h).L(H,h+n).M(o,h).L(o,a).M(0,a-n).L(o,a).L(H,a-n);i("↕",g.pathShape,d);const u=new W(g.commands.slice(0,3));i("↑",u,d);const M=new W(g.commands.slice(2,5));i("↓",M,d)}}{const t=w.mHeight,s=0,n=t/2,e=t,o=h,d=a,H=(o+d)/2,g=Math.PI/16,u=l.M(n,o).Q_angles(e,H,D+g,O-g).Q_angles(n,d,O+g,$-g).Q_angles(s,H,$+g,I-g).Q_angles(n,o,I+g,D-g).pathShape;i("✧",u,t)}{let t=function(M,m){const S=M.maxY-M.minY,v=(m.bottom-m.top)/S,f=(M.maxX-M.minX)*v,P=0,B=f,z=k.makeBoundedLinear(M.minX,P,M.maxX,B),N=k.makeBoundedLinear(M.minY,m.top,M.maxY,m.bottom);return{x:z,y:N,advance:B}},s=function(){const M={x:1/0,y:1/0},m={x:-1/0,y:-1/0};d.forEach(b=>{["x","y"].forEach(f=>{M[f]=Math.min(M[f],b[f]),m[f]=Math.max(m[f],b[f])})});const S={minX:M.x,maxX:m.x,minY:M.y,maxY:m.y},v=t(S,{top:h,bottom:a});return d.forEach(b=>{b.x=v.x(b.x),b.y=v.y(b.y)}),v};const o=I,d=k.initializedArray(5,M=>{const m=o+M*(2*Math.PI)*2/5;return k.polarToRectangular(1,m)}),H=s(),g=d.map((M,m,S)=>{const y=S.at(m+1-S.length);return new C(M.x,M.y,y.x,y.y)});i("☆",new W(g),H.advance);const u=d.map((M,m,S)=>{const y=S.at(m+1-S.length),v=Math.atan2(y.y-M.y,y.x-M.x),b=.175;return E.angles(M.x,M.y,v+b,y.x,y.y,v-b)});i("⭒",new W(u),H.advance)}return new Map([...V.entries()].sort(([t],[s])=>t<s?-1:t==s?1:0))}class J{constructor(V,i=V/10){if(this.fontSize=V,this.strokeWidth=i,V<=0||!isFinite(V))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class X{restart(V=5,i=this.lineHeight){this.leftMargin=V,this.x=V,this.baseline=i}leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight;carriageReturn(){this.x=this.leftMargin}lineFeed(V=1){this.baseline+=this.lineHeight*V}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font;constructor(V=5){V instanceof Map||(V=K(V)),this.font=V;const i=V.get("0").fontMetrics;this.lineHeight=i.bottom-i.top}getDescription(V){return this.font.get(V)}static join(V){return new W(V.flatMap(i=>i.description.shape.translate(i.x,i.baseline).commands))}static displayText(V,i){return V.map(L=>{const r=L.description.shape,h=r.makeElement();return i.appendChild(h),h.style.transform=`translate(${L.x}px,${L.baseline}px)`,{...L,shape:r,element:h}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(V,i="left"){const L=new Set,r=[],h=[...r],_=()=>{if(i!="left"){const p=this.rightMargin-this.x;if(p>0){const Q=i=="right"?p:p/2;h.forEach(a=>a.x+=Q)}}h.length=0};for(;;){const p=X.WORD_BREAK.exec(V);if(!p)break;const Q=p[1];if(V=p[2],Q[0]==`
`)_(),this.carriageReturn(),this.lineFeed(Q.length*4/3);else if(Q[0]==" ")this.addSpace(Q.length);else{let a=0;const R=0,T=[...Q].flatMap(c=>{const x=this.getDescription(c);if(x){const A=x.advance+x.fontMetrics.defaultKerning,t={char:c,x:a,width:A,baseline:R,description:x};return a+=A,t}else return L.add(c),[]});this.x+a>this.rightMargin&&this.x>this.leftMargin&&(_(),this.carriageReturn(),this.lineFeed()),T.forEach(c=>{c.x+=this.x,c.baseline=this.baseline,r.push(c),h.push(c)}),this.x+=a}}return _(),L.size>0&&console.warn(L),r}addSpace(V=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*V}static textToShape(V,i){const L=new X;L.font=i;const r=L.addText(V),h=X.join(r),_=L.x;return{shape:h,advance:_}}}class nt{constructor(V){this.element=V}leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(V=1){this.baseline+=this.lineHeight*V}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=K(5);getDescription(V){return this.font.get(V)}makeRoom(V){this.x+V.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(V){this.x+=V.advance+V.fontMetrics.defaultKerning}moveToCursor(V){V.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(V,i){return this.x+i>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),this.element.appendChild(V),V.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=i,this}show1(V){this.makeRoom(V);const i=V.makeElement();this.element.appendChild(i);const{x:L,baseline:r}=this;return this.moveToCursor(i),this.advance(V),{element:i,x:L,baseline:r}}splitAndShow1(V){this.makeRoom(V);const i=V.makeElements();return i.forEach(({element:L})=>{this.element.appendChild(L),this.moveToCursor(L)}),this.advance(V),i}show(V){const i=new Set,L=[...V].flatMap(r=>{const h=this.getDescription(r);return h?{...this.show1(h),description:h,char:r}:r==" "?(this.showSpace(),[]):(i.add(r),[])});return i.size>0&&console.warn(i),L}splitAndShow(V){const i=new Set,L=[...V].flatMap(r=>{const h=this.getDescription(r);return h?this.splitAndShow1(h):r==" "?(this.showSpace(),[]):(i.add(r),[])});return i.size>0&&console.warn(i),L}showSpace(V=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*V,this}}export{J as L,X as T,nt as W,K as m};
