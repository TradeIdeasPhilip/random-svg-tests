import{c as A,m as G,i as J,b as tt}from"./client-misc-leadhGo2.js";import{b as I,l as k,e as it,c as U,r as ht,f as nt,a as X}from"./utility-B4gEaDDG.js";class R{constructor(o,n,l,r){this.x0=o,this.y0=n,this.x=l,this.y=r,I(o,n,l,r),this.asString=`L ${l},${r}`,this.outgoingAngle=this.incomingAngle=Math.atan2(r-n,l-o)}toJSON(){return{command:"L",x0:this.x0,y0:this.y0,x:this.x,y:this.y}}incomingAngle;outgoingAngle;command="L";asString;translate(o,n){return new R(this.x0+o,this.y0+n,this.x+o,this.y+n)}toCubic(){return new O(this.x0,this.y0,k(this.x0,this.x,1/3),k(this.y0,this.y,1/3),k(this.x0,this.x,2/3),k(this.y0,this.y,2/3),this.x,this.y)}}class B{constructor(o,n,l,r,a,u){this.x0=o,this.y0=n,this.x1=l,this.y1=r,this.x=a,this.y=u,I(o,n,l,r,a,u),this.asString=`Q ${l},${r} ${a},${u}`}static line4(o,n,l,r){return new this(o,n,(o+l)/2,(n+r)/2,l,r)}static line(o,n){return this.line4(o.x,o.y,n.x,n.y)}static angles(o,n,l,r,a,u){I(o,n,l,r,a,u);const p=st({x0:o,y0:n,angle:l},{x0:r,y0:a,angle:u+Math.PI});return p?new this(o,n,p.x,p.y,r,a):this.line4(o,n,r,a)}static tryAngles(o,n,l,r,a,u){I(o,n,l,r,a,u);const p=st({x0:o,y0:n,angle:l},{x0:r,y0:a,angle:u+Math.PI});if(p)return new this(o,n,p.x,p.y,r,a)}toJSON(){return{command:"Q",x0:this.x0,y0:this.y0,x1:this.x1,y1:this.y1,x:this.x,y:this.y}}get incomingAngle(){return Math.atan2(this.y1-this.y0,this.x1-this.x0)}get outgoingAngle(){return Math.atan2(this.y-this.y1,this.x-this.x1)}command="Q";asString;translate(o,n){return new B(this.x0+o,this.y0+n,this.x1+o,this.y1+n,this.x+o,this.y+n)}toCubic(){return new O(this.x0,this.y0,k(this.x0,this.x1,2/3),k(this.y0,this.y1,2/3),k(this.x,this.x1,2/3),k(this.y,this.y1,2/3),this.x,this.y)}}class O{constructor(o,n,l,r,a,u,p,m){this.x0=o,this.y0=n,this.x1=l,this.y1=r,this.x2=a,this.y2=u,this.x=p,this.y=m,I(o,n,l,r,a,u,p,m),this.asString=`C ${l},${r} ${a},${u} ${p},${m}`}reverse(){return new O(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}get incomingAngle(){return Math.atan2(this.y1-this.y0,this.x1-this.x0)}get outgoingAngle(){return Math.atan2(this.y-this.y2,this.x-this.x2)}command="C";asString;translate(o,n){return new O(this.x0+o,this.y0+n,this.x1+o,this.y1+n,this.x2+o,this.y2+n,this.x+o,this.y+n)}toCubic(){return this}}class g{get commands(){return this.#t}addCommand(o){this.#t.push(o),this.#n=void 0}addCommands(o){return o.forEach(n=>this.addCommand(n)),this}static fromStrings(o){let n=o.join(" ");const l=[];let r;for(;n=n.replace(/^ */,""),n!="";){let a=pt.exec(n);if(a){const u=A(a[1]),p=A(a[2]);if(u===void 0||p===void 0)throw console.error(a,u,p,this),new Error("wtf");r&&l.push(r),r=this.M(u,p),n=a[3];continue}if(r){if(a=dt.exec(n),a){const u=A(a[1]),p=A(a[2]),m=A(a[3]),c=A(a[4]);if(u===void 0||p===void 0||m===void 0||c===void 0)throw console.error(a,u,p,m,c,this),new Error("wtf");r=r.Q(u,p,m,c),n=a[5];continue}if(a=lt.exec(n),a){const u=A(a[1]),p=A(a[2]),m=A(a[3]),c=A(a[4]),x=A(a[5]),v=A(a[6]);if(u===void 0||p===void 0||m===void 0||c===void 0||x===void 0||v===void 0)throw console.error(a,u,p,m,c,x,v,this),new Error("wtf");r=r.C(u,p,m,c,x,v),n=a[7];continue}}throw console.error(n),new Error("wtf")}return r&&l.push(r),l}static M(o,n){const l=new g;return l.M(o,n),l}#t=[];get pathShape(){return new L(this.#t)}#n;M(o,n,l=NaN){return I(o,n),this.#n={x:o,y:n,outgoingAngle:l},this}previous(){return this.#n??this.#t.at(-1)}H(o){const n=this.previous();return this.addCommand(new R(n.x,n.y,o,n.y)),this}V(o){const n=this.previous();return this.addCommand(new R(n.x,n.y,n.x,o)),this}L(o,n){const l=this.previous();return this.addCommand(new R(l.x,l.y,o,n)),this}Q(o,n,l,r){const a=this.previous();return this.addCommand(new B(a.x,a.y,o,n,l,r)),this}Q_HV(o,n){const l=this.previous();return this.Q(o,l.y,o,n)}Q_VH(o,n){const l=this.previous();return this.Q(l.x,n,o,n)}Q_angles(o,n,l,r){const a=this.previous();if(r??=a.outgoingAngle,r===void 0)throw new Error("wtf");return this.addCommand(B.angles(a.x,a.y,r,o,n,l)),this}C(o,n,l,r,a,u){const p=this.previous();return this.addCommand(new O(p.x,p.y,o,n,l,r,a,u)),this}circle(o,n,l="cw"){const r=this.previous(),a=r.x,u=r.y,p=Math.atan2(u-n,a-o),m=Math.hypot(u-n,a-o),c=l=="cw"?1:-1,x=p+Math.PI*2*c,v=G(0,p,1,x);function h(t){switch(t){case 0:case 1:return r;default:{const s=v(t),e=X(m,s);return{x:o+e.x,y:n+e.y}}}}function S(t){return h(t)}return this.addParametricPath(S,8),this}arc(o,n,l,r,a){const u=this.previous(),p=u.x,m=u.y;let c=nt(Math.atan2(m-n,p-o),Math.PI*2);const x=Math.hypot(m-n,p-o);let v=nt(Math.atan2(r-n,l-o),Math.PI*2);const h=Math.hypot(r-n,l-o);a=="cw"?c>v&&(v+=Math.PI*2):c<v&&(c+=Math.PI*2);const S=Math.abs(c-v),T=Math.ceil(S*1.17+1e-4),t=G(0,x,1,h),s=G(0,c,1,v);function e(i){switch(i){case 0:return u;case 1:return{x:l,y:r};default:{const d=X(t(i),s(i));return{x:o+d.x,y:n+d.y}}}}return this.addParametricPath(e,T)}addParametricPath(o,n){if(n<=0)throw new Error("wtf");const l=.01/n,r=J(n+1,u=>{const p=u/n,m=o(p),c=rt(o,p,l);return{t:p,point:m,direction:c}});return J(n,u=>({from:r[u],to:r[u+1]})).forEach(u=>{this.Q_angles(u.to.point.x,u.to.point.y,u.to.direction,u.from.direction)}),this}}function rt(V,o,n){if(!(o>=0&&o<=1))throw new Error("Expected 0 ≤ t ≤ 1");const l=Math.max(0,o-n),r=V(l),a=Math.min(1,o+n),u=V(a),p=u.x-r.x,m=u.y-r.y;return p==0&&m==0?NaN:Math.atan2(m,p)}const Z=" *",P="(-?[0-9]+.?[0-9]*)",F=" *[, ] *",pt=new RegExp(`^M${Z}${P}${F}${P}(.*)$`),dt=new RegExp(`^Q${Z}${P}${F}${P}${F}${P}${F}${P}(.*)$`),lt=new RegExp(`^C${Z}${P}${F}${P}${F}${P}${F}${P}${F}${P}${F}${P}(.*)$`);class L{matchForMorph(o){const n=this.commands.map(p=>p.toCubic()),l=o.commands.map(p=>p.toCubic());if(n.length!=l.length){const{shorter:p,longer:m}=n.length<l.length?{shorter:n,longer:l}:{shorter:l,longer:n};if(p.length==0)throw new Error("can't morph something into nothing");const c=m.length/p.length,x=[];p.forEach((v,h)=>{const S=Math.round((h+1)*c);for(;x.length<S;)x.push(v)}),p.length=0,p.push(...x)}if(n.length!=l.length)throw new Error("wtf");function r(p){return L.cssifyPath(p.map(m=>new L([m]).rawPath).join())}const a=r(n),u=r(l);return[a,u]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(o){const l=g.fromStrings(o).flatMap(a=>a.commands);return new this(l)}constructor(o){this.commands=[...o]}static cssifyPath(o){return`path('${o}')`}get cssPath(){return L.cssifyPath(this.rawPath)}makeElement(){const o=document.createElementNS("http://www.w3.org/2000/svg","path"),n=this.cssPath;if(o.style.d=n,o.style.d=="")throw console.error(n,o),new Error("wtf");return o}static needAnM(o,n){return!o||o.x!=n.x0||o.y!=n.y0}get rawPath(){return this.commands.flatMap((o,n)=>{const l=[],r=this.commands[n-1];return L.needAnM(r,o)&&l.push(`M ${o.x0},${o.y0}`),l.push(o.asString),l}).join(" ")}get cssPaths(){return this.splitOnMove().map(o=>o.cssPath)}get rawPaths(){return this.splitOnMove().map(o=>o.rawPath)}splitOnMove(){const o=[];let n=[];return this.commands.forEach(l=>{L.needAnM(n.at(-1),l)&&(n=[],o.push(n)),n.push(l)}),o.map(l=>new L(l))}static join(o){return new L(o.flatMap(({Δx:n,Δy:l,shape:r})=>r.translate(n,l).commands))}convertToCubics(){return new L(this.commands.map(o=>o.toCubic()))}translate(o,n){return new L(this.commands.map(l=>l.translate(o,n)))}static fixAngleRounding(o){return o+400-400}static toDegrees(o){return Math.round(o*it*100)/100}dump(){const o=this.commands.map((l,r)=>{const{x0:a,y0:u,x:p,y:m,incomingAngle:c,outgoingAngle:x,command:v}=l,h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",new L([l]).rawPath);const S=h.getTotalLength(),T=this.commands[r-1],s=L.needAnM(T,l)?{}:{difference:L.toDegrees(U(T.outgoingAngle,c))};return{x0:a,y0:u,x:p,y:m,incomingAngle:L.toDegrees(c),outgoingAngle:L.toDegrees(x),length:S,c:v,...s}});console.table(o),console.log(this.rawPath);const n=JSON.stringify(this);console.log(n)}}function st(V,o){if(I(V.x0,V.y0,V.angle,o.x0,o.y0,o.angle),isNaN(V.angle)||isNaN(o.angle)||V.angle==o.angle)return;const n=Math.tan(V.angle),l=Math.tan(o.angle),r=Math.abs(n)*100>Number.MAX_SAFE_INTEGER,a=Math.abs(l)*100>Number.MAX_SAFE_INTEGER;if(r&&a)return;const u=Math.atan2(o.y0-V.y0,o.x0-V.x0),p=U(V.angle,u),m=U(o.angle,u);if(p==0||Math.abs(m)==Math.PI){if(Math.abs(p)==Math.PI||m==0)return;const v=(V.x0+o.x0)/2,h=(V.y0+o.y0)/2;return{x:v,y:h}}const c=Math.sign(p),x=Math.sign(m);if(!(c!=x||c==0)&&!(Math.abs(m)<=Math.abs(p)+ht))if(r||a){const v=r?V.x0:o.x0,h=r?{...o,slope:l}:{...V,slope:n},S=h.slope*(v-h.x0)+h.y0;return{x:v,y:S}}else{const v=(o.y0-l*o.x0-V.y0+n*V.x0)/(n-l),h=n*(v-V.x0)+V.y0;return{x:v,y:h}}}class ut{constructor(o,n=o/10){if(this.fontSize=o,this.strokeWidth=n,o<=0||!isFinite(o))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class gt{constructor(o,n,l){this.advance=n,this.fontMetrics=l,o instanceof L?this.#t=()=>o:this.#t=o}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(o=>({innerShape:o,element:o.makeElement()}))}}function Qt(V){function o(r){return r.length==1}let n="",l=[];return V.forEach((r,a)=>{o(a)?n+=a:l.push(r)}),{normal:n,special:l}}const j=0,N=Math.PI/4,D=2*N,mt=3*N,et=4*N,Mt=5*N,z=6*N,at=7*N;function ot(V){const o=new Map;typeof V=="number"&&(V=new ut(V));const n=(t,s,e)=>{const i=new gt(s,e,V);if(o.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...o].at(-1)[0]}"`);o.set(t,i)},{aWidth:l,digitWidth:r,capitalTop:a,capitalTopMiddle:u,capitalMiddle:p,capitalBottomMiddle:m,baseline:c,descender:x,strokeWidth:v}=V,h=0,S=v/3;{const t=r*.9,s=t/2,e=t/2,i=e*Math.SQRT1_2,d=g.M(h,a+e);d.arc(s,a+e,s+i,a+e+i,"cw"),d.Q_angles(s,m,D),d.M(s,c-S),d.L(s,c),n("?",d.pathShape,t)}{const t=r*7/8,s=t/2,e=t,i=t/2,d=V.mHeight/8,M=a-d,f=c+d;if(f-M<i*4)throw new Error("wtf");const Q=(M+f)/2,_=g.M(e,M).arc(e,M+i,s,M+i,"ccw").L(s,Q-i).arc(h,Q-i,h,Q,"cw").arc(h,Q+i,s,Q+i,"cw").L(s,f-i).arc(e,f-i,e,f,"ccw").pathShape;n("{",_,t);const H=g.M(h,M).arc(h,M+i,s,M+i,"cw").L(s,Q-i).arc(e,Q-i,e,Q,"ccw").arc(e,Q+i,s,Q+i,"ccw").L(s,f-i).arc(h,f-i,h,f,"cw").pathShape;n("}",H,t)}{const t=r,e=t/2,i=t;{const d=(x-c)*2,M=x,f=M-d,Q=a-d/4,_=Q+d;if(d<=0||M<=f||f<=_||_<=Q)throw new Error("wtf");const H=r*.5;{const w=g.M(H,Q).Q_HV(0,_).V(f).Q_VH(H,M).pathShape;n("(",w,H)}{const w=r*.5,b=g.M(0,Q).Q_HV(w,_).V(f).Q_VH(0,M).pathShape;n(")",b,w)}{const w=g.M(H,Q).H(0).V(M).H(H).pathShape;n("[",w,H)}{const w=g.M(0,Q).H(H).V(M).H(0).pathShape;n("]",w,H)}}{const d=r*.4,M=r*.3,f=h,Q=f+d,_=Q+M,H=_+M,w=H+d,b=w,$=r*.25,E=p,C=E-$,y=E+$,W=g.M(f,E).Q_angles(Q,C,j,at).Q_angles(_,E,(D+N)/2).Q_angles(H,y,j).Q_angles(w,E,at).pathShape;n("~",W,b)}{const d=r*.75,M=d/2,f=g.M(M,p-M).V(p+M).M(h,p).H(d).pathShape;n("+",f,d)}{const d=r*.75,M=g.M(h,p).H(d).pathShape;n("-",M,d)}{const d=r/2*.9,M=5,f=-Math.PI/2,Q=(a+c)/2,_=0,H=J(M,y=>{const W=y*(Math.PI*2)/M+f,Y=X(_,W),q=X(d,W);return[Y,q]}),w=H.flat(),b=Math.min(...w.map(({x:y})=>y));w.forEach(y=>{y.x-=b,y.y+=Q});const $=H.map(([y,W])=>new R(y.x,y.y,W.x,W.y)),E=new L($),C=Math.max(...w.map(({x:y})=>y));n("*",E,C)}{const d=r*.75,M=g.M(h,p-v*1.25).H(d).M(h,p+v*1.25).H(d).pathShape;n("=",M,d)}{const d=r*1.25,M=c+v,f=g.M(0,M).H(d).pathShape;n("_",f,d)}{const d=r/2,M=3*d,f=d/3,Q=a,_=Q+d,H=_+d,w=H+d,b=g.M(d+f,Q).L(d-f,w).M(2*d+f,Q).L(2*d-f,w).M(0,_).H(M).M(0,H).H(M).pathShape;n("#",b,M)}{const d=r/2,M=3*d,f=0,Q=d,_=M/2,H=2*d,w=M,b=a+(V.mHeight-M)/2,$=b+Q,E=b+_,C=b+H,y=b+w,W=g.M(H,E).Q_VH(_,$).Q_HV(Q,E).Q_VH(_,C).Q_HV(H,E).Q_VH((H+w)/2,C).Q_HV(w,E).V(($+E)/2).Q_VH(_,b).Q_HV(f,E).Q_VH(_,y).H((H+w)/2).pathShape;n("@",W,M)}{const d=g.M(e,a).Q(i,a,i,u).L(i,m).Q(i,c,e,c).Q(h,c,h,m).L(h,u).Q(h,a,e,a).M(i,u).L(h,m).pathShape;n("0",d,t)}{const d=g.M(h,u).Q(e,u,e,a).L(e,c).M(h,c).L(i,c).pathShape;n("1",d,t)}{const d=g.M(h,u).Q_VH(e,a).Q_HV(i,u).Q_VH(e,p).Q_HV(h,c).L(i,c).pathShape;n("2",d,t)}{const d=g.M(h,u).Q_VH(e,a).Q_HV(i,u).Q_VH(e,p).Q_HV(i,m).Q_VH(e,c).Q_HV(h,m).pathShape;n("3",d,t)}{const d=(e+i)/2,M=(e+h)/2,f=g.M(i,p).L(h,p).L(M,a).M(d,a).L(d,c).pathShape;n("4",f,t)}{const d=h+r/5,M=i-r/5,f=(p+m)/2,Q=g.M(M,a).L(d,a).L(h,p).Q_VH(e,u).Q_HV(i,f).Q_VH(e,c).Q_HV(h,m).pathShape;n("5",Q,t)}{const d=g.M(i,a).Q_HV(h,m).Q_VH(e,c).Q_HV(i,m).Q_VH(e,p).Q_HV(h,m).pathShape;n("6",d,t)}{const d=g.M(h,a).L(i,a).L(h,c).pathShape;n("7",d,t)}{const d=g.M(e,a).Q(i,a,i,u).Q(i,p,e,p).Q(h,p,h,m).Q(h,c,e,c).Q(i,c,i,m).Q(i,p,e,p).Q(h,p,h,u).Q(h,a,e,a).pathShape;n("8",d,t)}{const d=g.M(i,u).Q(i,a,e,a).Q(h,a,h,u).Q(h,p,e,p).Q(i,p,i,u).Q(i,c,h,c).pathShape;n("9",d,t)}}{const t=g.M(h,c).L(l/2,a).L(V.aWidth,c).M(V.aWidth/4,p).L(V.aWidth*.75,p).pathShape;n("A",t,l)}{const t=r,s=u-a;if(s<=0)throw new Error("wtf");const e=(t-s)*(2/3),i=c-m;if(i<=0)throw new Error("wtf");const d=t-i,M=g.M(h,c).L(h,a).L(e,a).Q_HV(e+s,a+s).Q(e+s,p,e,p).L(h,p).M(Math.max(d,e),p).Q_HV(d+i,c-i).Q_VH(d,c).L(h,c).pathShape;n("B",M,t)}{const t=r,e=t/2,i=t,d=g.M(i,u).Q(i,a,e,a).Q(h,a,h,u).L(h,m).Q(h,c,e,c).Q(i,c,i,m).pathShape;n("C",d,t)}{const t=r,e=t/2,i=t,d=g.M(h,a).L(h,c).L(e,c).Q(i,c,i,m).L(i,u).Q(i,a,e,a).L(h,a).pathShape;n("D",d,t)}{const t=r,s=t*(2/3),e=t,i=g.M(e,a).L(h,a).L(h,c).L(e,c).M(s,p).L(h,p).pathShape;n("E",i,t)}{const t=r,s=t*(2/3),e=t,i=g.M(e,a).L(h,a).L(h,c).M(s,p).L(h,p).pathShape;n("F",i,t)}{const t=r,e=t/2,i=t,d=g.M(i,u).Q(i,a,e,a).Q(h,a,h,u).L(h,m).Q(h,c,e,c).Q(i,c,i,m).L(i,p).L(e,p).pathShape;n("G",d,t)}{const t=r,s=t,e=g.M(h,a).L(h,c).M(s,a).L(s,c).M(h,p).L(s,p).pathShape;n("H",e,t)}{const t=V.mHeight/3,s=t/2,e=t,i=g.M(h,a).L(e,a).M(h,c).L(e,c).M(s,a).L(s,c).pathShape;n("I",i,t)}{const t=r*.85,e=t/2,i=t,d=g.M(i,a).L(i,m).Q(i,c,e,c).Q(h,c,h,m).pathShape;n("J",d,t)}{const t=r+v,s=(a+c)/2,e=g.M(h,a).L(h,c).M(t,a).L(h+.5,s).L(t,c).pathShape;n("K",e,t)}{const t=r,s=g.M(h,a).L(h,c).L(t,c).pathShape;n("L",s,t)}{const t=r*1.5,s=t/2,e=g.M(h,c).L(h,a).L(s,p).L(t,a).L(t,c).pathShape;n("M",e,t)}{const t=r*1.2,s=g.M(h,c).L(h,a).L(t,c).L(t,a).pathShape;n("N",s,t)}{const t=r*1.5,s=t/2,e=(a+c)/2,i=g.M(s,a).Q_HV(t,e).Q_VH(s,c).Q_HV(h,e).Q_VH(s,a).pathShape;n("O",i,t)}{const t=r,s=p-u;if(s<=0)throw new Error("wtf");const e=t-s,i=g.M(h,a).L(h,c).M(h,a).L(e,a).Q_HV(t,u).Q_VH(e,p).L(h,p).pathShape;n("P",i,t)}{const t=r*1.5,s=t/2,e=(a+c)/2,i=g.M(s,a).Q_HV(t,e).Q_VH(s,c).Q_HV(h,e).Q_VH(s,a).M(t-s*.75,c-s*.75).L(t+s/6,c+s/6).pathShape;n("Q",i,t)}{const t=r,s=p-u;if(s<=0)throw new Error("wtf");const e=t-s,i=g.M(h,a).L(h,c).M(h,a).L(e,a).Q_HV(t,u).Q_VH(e,p).L(h,p).M(e,p).L(t,c).pathShape;n("R",i,t)}{const t=r,s=r/2,e=r,i=g.M(e,u).Q_VH(s,a).Q_HV(h,u).Q_VH(s,p).Q_HV(e,m).Q_VH(s,c).Q_HV(h,m).pathShape;n("S",i,t)}{const s=r+v,e=s/2,i=s,d=V.mHeight/8,M=g.M(i,u).Q_VH(e,a).Q_HV(h,u).Q_VH(e,p).Q_HV(i,m).Q_VH(e,c).Q_HV(h,m).M(e,a-d).V(c+d).pathShape;n("$",M,s)}{const t=r,s=t/2,e=g.M(s,a).L(s,c).M(t,a).L(h,a).pathShape;n("T",e,t)}{const t=(m+p)/2,s=Math.abs(t-c)*.85,e=s*2,i=g.M(h,a).V(t).Q_VH(s,c).Q_HV(e,t).V(a).pathShape;n("U",i,e)}{const t=l,s=t/2,e=g.M(h,a).L(s,c).L(t,a).pathShape;n("V",e,t)}{const t=l*1.5,s=t/3,e=t/2,i=s*2,d=g.M(h,a).L(s,c).L(e,p).L(i,c).L(t,a).pathShape;n("W",d,t)}{const t=r,s=g.M(t,a).L(h,c).M(h,a).L(t,c).pathShape;n("X",s,t)}{const t=v,s=r+t,e=g.M(s,a).L(t,c).M(h,a).L(s/2,p).pathShape;n("Y",e,s)}{const t=r,s=g.M(h,a).H(t).L(h,c).H(t).pathShape;n("Z",s,t)}{const t=r/4,s=r*1.2,e=g.M(t*2,a+t).Q_VH(t,a).Q_HV(0,a+t).Q_VH(t,a+t*2).Q_HV(t*2,a+t),d=e.pathShape.translate(s-t*2,V.mHeight-t*2);e.addCommands(d.commands),e.M(s,a).L(h,c);const M=e.pathShape;n("%",M,s)}{const t=r,s=g.M(t,a).L(h,c).pathShape;n("/",s,t)}{const t=r,s=g.M(h,a).L(t,c).pathShape;n("\\",s,t)}{const t=r,s=v/2,e=t+s,i=t/2,d=g.M(i,p).Q_HV(h,m).Q_VH(i,c).Q_HV(t,m).Q_VH(i,p).M(e,p).L(e,c).pathShape;n("a",d,e)}{const t=r,s=v/2,e=t+s,i=s,d=s+t/2,M=e,f=g.M(h,a).V(c).M(i,m).Q_VH(d,c).Q_HV(M,m).Q_VH(d,p).Q_HV(i,m).pathShape;n("b",f,e)}{const t=r*.875,s=0,e=r/2,i=t,d=(p+m)/2,M=(m+c)/2,f=g.M(i,d).Q_VH(e,p).Q_HV(s,m).Q_VH(e,c).Q_HV(i,M).pathShape;n("c",f,t)}{const t=r,s=v/2,e=t+s,i=t/2,d=g.M(i,p).Q_HV(h,m).Q_VH(i,c).Q_HV(t,m).Q_VH(i,p).M(e,a).L(e,c).pathShape;n("d",d,e)}const T=r/8;{const t=r,s=r/2,e=t,i=e-T,d=g.M(h,m).H(e).Q_VH(s,p).Q_HV(h,m).Q_VH(s,c).H(i).pathShape;n("e",d,t)}{const t=r*.75,s=t/2,e=t,i=g.M(e,a).Q_HV(s,u).V(c).M(e,p).H(h).pathShape;n("f",i,t)}{const t=r,s=v/2,e=t+s,i=t/2,d=g.M(i,p).Q_HV(h,m).Q_VH(i,c).Q_HV(t,m).Q_VH(i,p).M(e,p).V(c).Q_VH(i,x).H(h+T).pathShape;n("g",d,e)}{const t=r*.85,s=t/2,e=g.M(h,a).V(c).Q_VH(s,p).Q_HV(t,m).V(c).pathShape;n("h",e,t)}{const s=g.M(h,p).V(c).M(h,u).V(u-S).pathShape;n("i",s,0)}{const t=Math.abs(c-x),s=t/2,e=g.M(t,p).V(c).Q_VH(s,x).Q_HV(h,c).M(t,u).V(u-S).pathShape;n("j",e,t)}{const s=g.M(h,c).V(c-S).pathShape;n(".",s,0)}{const s=g.M(h,a).V(m).M(h,c).V(c-S).pathShape;n("!",s,0)}{const s=(x-c)/2,e=s/2,i=g.M(h,c-S).V(c).Q_VH(-e,c+s).pathShape;n(",",i,0)}{const e=(x-c)/2+S,i=new L([new R(h,a,h,a+e)]);n("'",i,0)}{const s=(x-c)/2+S,e=s,i=s,d=new L([new R(h,a,i,a+s)]);n("`",d,e)}{const s=(x-c)/2+S,e=s,i=s*2,d=i,M=a,f=a+s,Q=g.M(h,f).L(e,M).L(d,f).pathShape;n("^",Q,i)}{const t=v*2,e=(x-c)/2+S,i=new L([new R(h,a,h,a+e),new R(t,a,t,a+e)]);n('"',i,t)}{const s=p,e=g.M(h,c).V(c-S).M(h,s-S).V(s).pathShape;n(":",e,0)}{const s=new L([new R(h,a,h,c)]);n("|",s,0)}{const s=p,e=(x-c)/2,i=e/2,d=g.M(h,c-S).V(c).Q_VH(-i,c+e).M(h,s-S).V(s).pathShape;n(";",d,0)}{const t=V.xHeight*2/3,s=r/10,e=t+s,i=g.M(h,a).V(c).M(t,p).L(h,p+t).M(t/2,c-t).L(e,c).pathShape;n("k",i,e)}{const s=g.M(h,a).V(c).pathShape;n("l",s,0)}{const t=r*1.5,s=t/4,e=t/2,i=t*3/4,d=t,M=g.M(h,p).V(c).Q_VH(s,p).Q_HV(e,m).V(c).M(e,m).Q_VH(i,p).Q_HV(d,m).V(c).pathShape;n("m",M,t)}{const t=r*.85,s=t/2,e=g.M(h,p).V(c).Q_VH(s,p).Q_HV(t,m).V(c).pathShape;n("n",e,t)}{const t=r,s=0,e=t/2,i=t,d=g.M(e,p).Q_HV(i,m).Q_VH(e,c).Q_HV(s,m).Q_VH(e,p).pathShape;n("o",d,t)}{const t=r,s=v/2,e=t+s,i=s,d=s+t/2,M=e,f=g.M(h,p).V(x).M(i,m).Q_VH(d,p).Q_HV(M,m).Q_VH(d,c).Q_HV(i,m).pathShape;n("p",f,e)}{const t=r,s=t/2,e=t+v/2,i=Math.abs(c-x),d=e+i/2,M=e+i,f=g.M(s,p).Q_HV(h,m).Q_VH(s,c).Q_HV(t,m).Q_VH(s,p).M(e,p).V(c).Q_VH(d,x).Q_HV(M,c).pathShape;n("q",f,M)}{const t=r,s=t/2,e=g.M(h,p).V(c).Q_VH(s,p).Q_HV(t,m).pathShape;n("r",e,t)}{const t=V.xHeight*2/3,s=t/2,e=c,i=m,d=p,M=(e+i)/2,f=(i+d)/2,Q=(f+d)/2,_=(e+M)/2,H=g.M(t,Q).Q_VH(s,d).Q_HV(h,f).Q_VH(s,i).Q_HV(t,M).Q_VH(s,e).Q_HV(h,_).pathShape;n("s",H,t)}{const t=r*.75,s=t/2,e=t,i=g.M(s,u).V(m).Q_VH(e,c).M(e,p).H(h).pathShape;n("t",i,t)}{const t=r*.85,s=t/2,e=g.M(h,p).V(m).Q_VH(s,c).Q_HV(t,p).L(t,c).pathShape;n("u",e,t)}{const t=r,s=t/2,e=g.M(h,p).L(s,c).L(t,p).pathShape;n("v",e,t)}{const t=V.xHeight*1.5,s=t/3,e=t/2,i=s*2,d=g.M(h,p).L(s,c).L(e,m).L(i,c).L(t,p).pathShape;n("w",d,t)}{const t=r,s=g.M(t,p).L(h,c).M(h,p).L(t,c).pathShape;n("x",s,t)}{const t=r,s=t/2,e=(p+x)/2,i=g.M(t,p).L(h,x).M(h,p).L(s,e).pathShape;n("y",i,t)}{const t=r,s=g.M(h,p).H(t).L(h,c).H(t).pathShape;n("z",s,t)}{const t=r/2,s=t/2,e=g.M(s,a).circle(s,a+s,"cw").pathShape;n("°",e,t)}{const t=-a,s=t/2,e=g.M(s,a).circle(s,a+s,"cw").pathShape;n("◯",e,t)}{const t=-a,s=t/2,e=a/2,i=g.M(0,e).arc(s,e,t,e,"cw").pathShape;n("◠",i,t)}{const t=-a,s=t/2,e=a/2,i=g.M(0,e).arc(s,e,t,e,"ccw").pathShape;n("◡",i,t)}{const t=-a,s=t/4,e=a+s,i=g.M(s*2,e).arc(s*3,e,t,e,"cw").Q_angles(s*2,c,mt,D).Q_angles(0,e,z,Mt).arc(s,e,s*2,e,"cw").pathShape;n("♡",i,t)}{const t=V.mHeight,s=t/4,e=s;{const i=t,d=(a+c)/2,M=g.M(e,d-s).L(0,d).L(e,d+s).M(0,d).L(i,d).M(i-e,d-s).L(i,d).L(i-e,d+s);n("↔",M.pathShape,i);const f=new L(M.commands.slice(0,3));n("←",f,i);const Q=new L(M.commands.slice(2,5));n("→",Q,i)}{const d=s,M=s*2,f=M,Q=g.M(0,a+e).L(d,a).L(f,a+e).M(d,a).L(d,c).M(0,c-e).L(d,c).L(f,c-e);n("↕",Q.pathShape,M);const _=new L(Q.commands.slice(0,3));n("↑",_,M);const H=new L(Q.commands.slice(2,5));n("↓",H,M)}}{const t=V.mHeight,s=0,e=t/2,i=t,d=a,M=c,f=(d+M)/2,Q=Math.PI/16,_=g.M(e,d).Q_angles(i,f,j+Q,D-Q).Q_angles(e,M,D+Q,et-Q).Q_angles(s,f,et+Q,z-Q).Q_angles(e,d,z+Q,j-Q).pathShape;n("✧",_,t)}{let t=function(H,w){const b=H.maxY-H.minY,E=(w.bottom-w.top)/b,y=(H.maxX-H.minX)*E,W=0,Y=y,q=tt(H.minX,W,H.maxX,Y),ct=tt(H.minY,w.top,H.maxY,w.bottom);return{x:q,y:ct,advance:Y}},s=function(){const H={x:1/0,y:1/0},w={x:-1/0,y:-1/0};M.forEach(C=>{["x","y"].forEach(y=>{H[y]=Math.min(H[y],C[y]),w[y]=Math.max(w[y],C[y])})});const b={minX:H.x,maxX:w.x,minY:H.y,maxY:w.y},E=t(b,{top:a,bottom:c});return M.forEach(C=>{C.x=E.x(C.x),C.y=E.y(C.y)}),E};const d=z,M=J(5,H=>{const w=d+H*(2*Math.PI)*2/5;return X(1,w)}),f=s(),Q=M.map((H,w,b)=>{const $=b.at(w+1-b.length);return new R(H.x,H.y,$.x,$.y)});n("☆",new L(Q),f.advance);const _=M.map((H,w,b)=>{const $=b.at(w+1-b.length),E=Math.atan2($.y-H.y,$.x-H.x),C=.175;return B.angles(H.x,H.y,E+C,$.x,$.y,E-C)});n("⭒",new L(_),f.advance)}return new Map([...o.entries()].sort(([t],[s])=>t<s?-1:t==s?1:0))}class K{restart(o=5,n=this.lineHeight){this.leftMargin=o,this.x=o,this.baseline=n}leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=ot(5);getDescription(o){return this.font.get(o)}static join(o){return new L(o.flatMap(n=>n.description.shape.translate(n.x,n.baseline).commands))}displayText(o,n){return o.map(l=>{const r=l.description.shape,a=r.makeElement();return n.appendChild(a),a.style.transform=`translate(${l.x}px,${l.baseline}px)`,{...l,shape:r,element:a}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(o){const n=new Set,l=[];for(;;){const r=K.WORD_BREAK.exec(o);if(!r)break;const a=r[1];if(o=r[2],a[0]==`
`)this.carriageReturn(),this.lineFeed(a.length*4/3);else if(a[0]==" ")this.addSpace(a.length);else{let u=0;const p=0,m=[...a].flatMap(c=>{const x=this.getDescription(c);if(x){const v=x.advance+x.fontMetrics.defaultKerning,h={char:c,x:u,width:v,baseline:p,description:x};return u+=v,h}else return n.add(c),[]});this.x+u>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),m.forEach(c=>{c.x+=this.x,c.baseline=this.baseline,l.push(c)}),this.x+=u}}return n.size>0&&console.warn(n),l}addSpace(o=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*o}static textToShape(o,n){const l=new K;l.font=n;const r=l.addText(o),a=K.join(r),u=l.x;return{shape:a,advance:u}}}class Vt{constructor(o){this.element=o}leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=ot(5);getDescription(o){return this.font.get(o)}makeRoom(o){this.x+o.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(o){this.x+=o.advance+o.fontMetrics.defaultKerning}moveToCursor(o){o.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(o,n){return this.x+n>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),this.element.appendChild(o),o.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=n,this}show1(o){this.makeRoom(o);const n=o.makeElement();this.element.appendChild(n);const{x:l,baseline:r}=this;return this.moveToCursor(n),this.advance(o),{element:n,x:l,baseline:r}}splitAndShow1(o){this.makeRoom(o);const n=o.makeElements();return n.forEach(({element:l})=>{this.element.appendChild(l),this.moveToCursor(l)}),this.advance(o),n}show(o){const n=new Set,l=[...o].flatMap(r=>{const a=this.getDescription(r);return a?{...this.show1(a),description:a,char:r}:r==" "?(this.showSpace(),[]):(n.add(r),[])});return n.size>0&&console.warn(n),l}splitAndShow(o){const n=new Set,l=[...o].flatMap(r=>{const a=this.getDescription(r);return a?this.splitAndShow1(a):r==" "?(this.showSpace(),[]):(n.add(r),[])});return n.size>0&&console.warn(n),l}showSpace(o=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*o,this}}export{gt as D,ut as F,L as P,B as Q,K as T,Vt as W,Qt as d,ot as m};
