import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as X,i as ot,g as mt,m as gt,s as pt}from"./client-misc-leadhGo2.js";/* empty css              */import{b as j,l as B,a as dt,s as ft}from"./utility-_R7A1EC1.js";import{a as Mt}from"./rough.esm-C_8OcXYf.js";class at{constructor(r,n,f){this.x0=r,this.y0=n,this.x=f,j(r,n,f),this.y=n,this.asString=`H ${f}`}y;incomingAngle=NaN;outgoingAngle=NaN;command="H";asString;translate(r,n){return new at(this.x0+r,this.y0+n,this.x+r)}toCubic(){return new U(this.x0,this.y0,B(this.x0,this.x,1/3),this.y0,B(this.x0,this.x,2/3),this.y0,this.x,this.y0)}}class ct{constructor(r,n,f){this.x0=r,this.y0=n,this.y=f,j(r,n,f),this.x=r,this.asString=`V ${f}`}x;incomingAngle=NaN;outgoingAngle=NaN;command="V";asString;translate(r,n){return new ct(this.x0+r,this.y0+n,this.y+n)}toCubic(){return new U(this.x0,this.y0,this.x0,B(this.y0,this.y,1/3),this.x0,B(this.y0,this.y,2/3),this.x0,this.y)}}class et{constructor(r,n,f,l){this.x0=r,this.y0=n,this.x=f,this.y=l,j(r,n,f,l),this.asString=`L ${f},${l}`}incomingAngle=NaN;outgoingAngle=NaN;command="L";asString;translate(r,n){return new et(this.x0+r,this.y0+n,this.x+r,this.y+n)}toCubic(){return new U(this.x0,this.y0,B(this.x0,this.x,1/3),B(this.y0,this.y,1/3),B(this.x0,this.x,2/3),B(this.y0,this.y,2/3),this.x,this.y)}}class it{constructor(r,n,f,l,e,w){this.x0=r,this.y0=n,this.x1=f,this.y1=l,this.x=e,this.y=w,j(r,n,f,l,e,w),this.asString=`Q ${f},${l} ${e},${w}`}incomingAngle=NaN;outgoingAngle=NaN;command="Q";asString;translate(r,n){return new it(this.x0+r,this.y0+n,this.x1+r,this.y1+n,this.x+r,this.y+n)}toCubic(){return new U(this.x0,this.y0,B(this.x0,this.x1,2/3),B(this.y0,this.y1,2/3),B(this.x,this.x1,2/3),B(this.y,this.y1,2/3),this.x,this.y)}}class U{constructor(r,n,f,l,e,w,i,g){this.x0=r,this.y0=n,this.x1=f,this.y1=l,this.x2=e,this.y2=w,this.x=i,this.y=g,j(r,n,f,l,e,w,i,g),this.asString=`C ${f},${l} ${e},${w} ${i},${g}`}reverse(){return new U(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}incomingAngle=NaN;outgoingAngle=NaN;command="C";asString;translate(r,n){return new U(this.x0+r,this.y0+n,this.x1+r,this.y1+n,this.x2+r,this.y2+n,this.x+r,this.y+n)}toCubic(){return this}}class u{get commands(){return this.#t}addCommands(r){this.#t.push(...r)}static fromStrings(r){let n=r.join(" ");const f=[];let l;for(;n=n.replace(/^ */,""),n!="";){let e=wt.exec(n);if(e){const w=X(e[1]),i=X(e[2]);if(w===void 0||i===void 0)throw console.error(e,w,i,this),new Error("wtf");l&&f.push(l),l=this.M(w,i),n=e[3];continue}if(l){if(e=vt.exec(n),e){const w=X(e[1]),i=X(e[2]),g=X(e[3]),a=X(e[4]);if(w===void 0||i===void 0||g===void 0||a===void 0)throw console.error(e,w,i,g,a,this),new Error("wtf");l=l.Q(w,i,g,a),n=e[5];continue}if(e=Vt.exec(n),e){const w=X(e[1]),i=X(e[2]),g=X(e[3]),a=X(e[4]),C=X(e[5]),E=X(e[6]);if(w===void 0||i===void 0||g===void 0||a===void 0||C===void 0||E===void 0)throw console.error(e,w,i,g,a,C,E,this),new Error("wtf");l=l.C(w,i,g,a,C,E),n=e[7];continue}}throw console.error(n),new Error("wtf")}return l&&f.push(l),f}static M(r,n){const f=new u;return f.M(r,n),f}#t=[];get pathShape(){return new N(this.#t)}#e;M(r,n){return j(r,n),this.#e={x:r,y:n,outgoingAngle:NaN},this}peekPrevious(){return this.#e??this.#t.at(-1)}consumePrevious(){const r=this.peekPrevious();return this.#e=void 0,r}H(r){const n=this.consumePrevious();return this.#t.push(new at(n.x,n.y,r)),this}V(r){const n=this.consumePrevious();return this.#t.push(new ct(n.x,n.y,r)),this}L(r,n){const f=this.consumePrevious();return this.#t.push(new et(f.x,f.y,r,n)),this}Q(r,n,f,l){const e=this.consumePrevious();return this.#t.push(new it(e.x,e.y,r,n,f,l)),this}Q_HV(r,n){const f=this.peekPrevious();return this.Q(r,f.y,r,n)}Q_VH(r,n){const f=this.peekPrevious();return this.Q(f.x,n,r,n)}C(r,n,f,l,e,w){const i=this.consumePrevious();return this.#t.push(new U(i.x,i.y,r,n,f,l,e,w)),this}}const ht=" *",z="(-?[0-9]+.?[0-9]*)",Y=" *[, ] *",wt=new RegExp(`^M${ht}${z}${Y}${z}(.*)$`),vt=new RegExp(`^Q${ht}${z}${Y}${z}${Y}${z}${Y}${z}(.*)$`),Vt=new RegExp(`^C${ht}${z}${Y}${z}${Y}${z}${Y}${z}${Y}${z}${Y}${z}(.*)$`);class N{matchForMorph(r){const n=this.commands.map(i=>i.toCubic()),f=r.commands.map(i=>i.toCubic());if(n.length!=f.length){const{shorter:i,longer:g}=n.length<f.length?{shorter:n,longer:f}:{shorter:f,longer:n};if(i.length==0)throw new Error("can't morph something into nothing");const a=g.length/i.length,C=[];i.forEach((E,c)=>{const q=Math.round((c+1)*a);for(;C.length<q;)C.push(E)}),i.length=0,i.push(...C)}if(n.length!=f.length)throw new Error("wtf");function l(i){return N.cssifyPath(i.map(g=>new N([g]).rawPath).join())}const e=l(n),w=l(f);return[e,w]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(r){const f=u.fromStrings(r).flatMap(e=>e.commands);return new this(f)}constructor(r){this.commands=[...r]}static cssifyPath(r){return`path('${r}')`}get cssPath(){return N.cssifyPath(this.rawPath)}makeElement(){const r=document.createElementNS("http://www.w3.org/2000/svg","path"),n=this.cssPath;if(r.style.d=n,r.style.d=="")throw console.error(n,r),new Error("wtf");return r}static needAnM(r,n){return!r||r.x!=n.x0||r.y!=n.y0}get rawPath(){return this.commands.flatMap((r,n)=>{const f=[],l=this.commands[n-1];return N.needAnM(l,r)&&f.push(`M ${r.x0},${r.y0}`),f.push(r.asString),f}).join(" ")}get cssPaths(){return this.splitOnMove().map(r=>r.cssPath)}get rawPaths(){return this.splitOnMove().map(r=>r.rawPath)}splitOnMove(){const r=[];let n=[];return this.commands.forEach(f=>{N.needAnM(n.at(-1),f)&&(n=[],r.push(n)),n.push(f)}),r.map(f=>new N(f))}static join(r){return new N(r.flatMap(({Δx:n,Δy:f,shape:l})=>l.translate(n,f).commands))}convertToCubics(){return new N(this.commands.map(r=>r.toCubic()))}translate(r,n){return new N(this.commands.map(f=>f.translate(r,n)))}}class lt{constructor(r,n=r/10){if(this.fontSize=r,this.strokeWidth=n,r<=0||!isFinite(r))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class rt{constructor(r,n,f){this.advance=n,this.fontMetrics=f,r instanceof N?this.#t=()=>r:this.#t=r}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(r=>({innerShape:r,element:r.makeElement()}))}}function tt(_){const r=new Map;typeof _=="number"&&(_=new lt(_));const n=(t,s,o)=>{const h=new rt(s,o,_);if(r.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...r].at(-1)[0]}"`);r.set(t,h)},{aWidth:f,digitWidth:l,capitalTop:e,capitalTopMiddle:w,capitalMiddle:i,capitalBottomMiddle:g,baseline:a,descender:C,strokeWidth:E}=_,c=0;{const t=l,o=t/2,h=t;{const p=(C-a)*2,H=C,L=H-p,$=e-p/4,R=$+p;if(p<=0||H<=L||L<=R||R<=$)throw new Error("wtf");const M=l*.5;{const d=u.M(M,$).Q_HV(0,R).V(L).Q_VH(M,H).pathShape;n("(",d,M)}{const d=l*.5,m=u.M(0,$).Q_HV(d,R).V(L).Q_VH(0,H).pathShape;n(")",m,d)}{const d=u.M(M,$).H(0).V(H).H(M).pathShape;n("[",d,M)}{const d=u.M(0,$).H(M).V(H).H(0).pathShape;n("]",d,M)}}{const p=l*.75,H=p/2,L=u.M(H,i-H).V(i+H).M(c,i).H(p).pathShape;n("+",L,p)}{const p=l*.75,H=u.M(c,i).H(p).pathShape;n("-",H,p)}{const p=l/2*.9,H=5,L=-Math.PI/2,$=(e+a)/2,R=0,M=ot(H,V=>{const y=V*(Math.PI*2)/H+L,b=dt(R,y),k=dt(p,y);return[b,k]}),d=M.flat(),m=Math.min(...d.map(({x:V})=>V));d.forEach(V=>{V.x-=m,V.y+=$});const Q=M.map(([V,y])=>new et(V.x,V.y,y.x,y.y)),v=new N(Q),x=Math.max(...d.map(({x:V})=>V));n("*",v,x)}{const p=l*.75,H=u.M(c,i-E*1.25).H(p).M(c,i+E*1.25).H(p).pathShape;n("=",H,p)}{const p=l*1.25,H=a+E,L=u.M(0,H).H(p).pathShape;n("_",L,p)}{const p=l/2,H=3*p,L=p/3,$=e,R=$+p,M=R+p,d=M+p,m=u.M(p+L,$).L(p-L,d).M(2*p+L,$).L(2*p-L,d).M(0,R).H(H).M(0,M).H(H).pathShape;n("#",m,H)}{const p=l/2,H=3*p,L=0,$=p,R=H/2,M=2*p,d=H,m=e+(_.mHeight-H)/2,Q=m+$,v=m+R,x=m+M,V=m+d,y=u.M(M,v).Q_VH(R,Q).Q_HV($,v).Q_VH(R,x).Q_HV(M,v).Q_VH((M+d)/2,x).Q_HV(d,v).V((Q+v)/2).Q_VH(R,m).Q_HV(L,v).Q_VH(R,V).H((M+d)/2).pathShape;n("@",y,H)}{const p=u.M(o,e).Q(h,e,h,w).L(h,g).Q(h,a,o,a).Q(c,a,c,g).L(c,w).Q(c,e,o,e).M(h,w).L(c,g).pathShape;n("0",p,t)}{const p=u.M(c,w).Q(o,w,o,e).L(o,a).M(c,a).L(h,a).pathShape;n("1",p,t)}{const p=u.M(c,w).Q_VH(o,e).Q_HV(h,w).Q_VH(o,i).Q_HV(c,a).L(h,a).pathShape;n("2",p,t)}{const p=u.M(c,w).Q_VH(o,e).Q_HV(h,w).Q_VH(o,i).Q_HV(h,g).Q_VH(o,a).Q_HV(c,g).pathShape;n("3",p,t)}{const p=(o+h)/2,H=(o+c)/2,L=u.M(h,i).L(c,i).L(H,e).M(p,e).L(p,a).pathShape;n("4",L,t)}{const p=c+l/5,H=h-l/5,L=(i+g)/2,$=u.M(H,e).L(p,e).L(c,i).Q_VH(o,w).Q_HV(h,L).Q_VH(o,a).Q_HV(c,g).pathShape;n("5",$,t)}{const p=u.M(h,e).Q_HV(c,g).Q_VH(o,a).Q_HV(h,g).Q_VH(o,i).Q_HV(c,g).pathShape;n("6",p,t)}{const p=u.M(c,e).L(h,e).L(c,a).pathShape;n("7",p,t)}{const p=u.M(o,e).Q(h,e,h,w).Q(h,i,o,i).Q(c,i,c,g).Q(c,a,o,a).Q(h,a,h,g).Q(h,i,o,i).Q(c,i,c,w).Q(c,e,o,e).pathShape;n("8",p,t)}{const p=u.M(h,w).Q(h,e,o,e).Q(c,e,c,w).Q(c,i,o,i).Q(h,i,h,w).Q(h,a,c,a).pathShape;n("9",p,t)}}{const t=u.M(c,a).L(f/2,e).L(_.aWidth,a).M(_.aWidth/4,i).L(_.aWidth*.75,i).pathShape;n("A",t,f)}{const t=l,s=w-e;if(s<=0)throw new Error("wtf");const o=(t-s)*(2/3),h=a-g;if(h<=0)throw new Error("wtf");const p=t-h,H=u.M(c,e).L(c,a).L(p,a).M(Math.max(p,o),i).L(c,i).M(c,e).L(o,e).Q(o+s,e,o+s,e+s).Q(o+s,i,o,i).M(p,i).Q(p+h,i,p+h,a-h).Q(p+h,a,p,a).pathShape;n("B",H,t)}{const t=l,o=t/2,h=t,p=u.M(h,w).Q(h,e,o,e).Q(c,e,c,w).L(c,g).Q(c,a,o,a).Q(h,a,h,g).pathShape;n("C",p,t)}{const t=l,o=t/2,h=t,p=u.M(c,e).L(c,a).L(o,a).Q(h,a,h,g).L(h,w).Q(h,e,o,e).L(c,e).pathShape;n("D",p,t)}{const t=l,s=t*(2/3),o=t,h=u.M(o,e).L(c,e).L(c,a).L(o,a).M(s,i).L(c,i).pathShape;n("E",h,t)}{const t=l,s=t*(2/3),o=t,h=u.M(o,e).L(c,e).L(c,a).M(s,i).L(c,i).pathShape;n("F",h,t)}{const t=l,o=t/2,h=t,p=u.M(h,w).Q(h,e,o,e).Q(c,e,c,w).L(c,g).Q(c,a,o,a).Q(h,a,h,g).L(h,i).L(o,i).pathShape;n("G",p,t)}{const t=l,s=t,o=u.M(c,e).L(c,a).M(s,e).L(s,a).M(c,i).L(s,i).pathShape;n("H",o,t)}{const t=_.mHeight/3,s=t/2,o=t,h=u.M(c,e).L(o,e).M(c,a).L(o,a).M(s,e).L(s,a).pathShape;n("I",h,t)}{const t=l*.85,o=t/2,h=t,p=u.M(h,e).L(h,g).Q(h,a,o,a).Q(c,a,c,g).pathShape;n("J",p,t)}{const t=l+E,s=(e+a)/2,o=u.M(c,e).L(c,a).M(t,e).L(c+.5,s).L(t,a).pathShape;n("K",o,t)}{const t=l,s=u.M(c,e).L(c,a).L(t,a).pathShape;n("L",s,t)}{const t=l*1.5,s=t/2,o=u.M(c,a).L(c,e).L(s,i).L(t,e).L(t,a).pathShape;n("M",o,t)}{const t=l*1.2,s=u.M(c,a).L(c,e).L(t,a).L(t,e).pathShape;n("N",s,t)}{const t=l*1.5,s=t/2,o=(e+a)/2,h=u.M(s,e).Q_HV(t,o).Q_VH(s,a).Q_HV(c,o).Q_VH(s,e).pathShape;n("O",h,t)}{const t=l,s=i-w;if(s<=0)throw new Error("wtf");const o=t-s,h=u.M(c,e).L(c,a).M(c,e).L(o,e).Q_HV(t,w).Q_VH(o,i).L(c,i).pathShape;n("P",h,t)}{const t=l*1.5,s=t/2,o=(e+a)/2,h=u.M(s,e).Q_HV(t,o).Q_VH(s,a).Q_HV(c,o).Q_VH(s,e).M(t-s*.75,a-s*.75).L(t+s/6,a+s/6).pathShape;n("Q",h,t)}{const t=l,s=i-w;if(s<=0)throw new Error("wtf");const o=t-s,h=u.M(c,e).L(c,a).M(c,e).L(o,e).Q_HV(t,w).Q_VH(o,i).L(c,i).M(o,i).L(t,a).pathShape;n("R",h,t)}{const t=l,s=l/2,o=l,h=u.M(o,w).Q_VH(s,e).Q_HV(c,w).Q_VH(s,i).Q_HV(o,g).Q_VH(s,a).Q_HV(c,g).pathShape;n("S",h,t)}{const s=l+E,o=s/2,h=s,p=_.mHeight/8,H=u.M(h,w).Q_VH(o,e).Q_HV(c,w).Q_VH(o,i).Q_HV(h,g).Q_VH(o,a).Q_HV(c,g).M(o,e-p).V(a+p).pathShape;n("$",H,s)}{const t=l,s=t/2,o=u.M(s,e).L(s,a).M(t,e).L(c,e).pathShape;n("T",o,t)}{const t=(g+i)/2,s=Math.abs(t-a)*.85,o=s*2,h=u.M(c,e).V(t).Q_VH(s,a).Q_HV(o,t).V(e).pathShape;n("U",h,o)}{const t=f,s=t/2,o=u.M(c,e).L(s,a).L(t,e).pathShape;n("V",o,t)}{const t=f*1.5,s=t/3,o=t/2,h=s*2,p=u.M(c,e).L(s,a).L(o,i).L(h,a).L(t,e).pathShape;n("W",p,t)}{const t=l,s=u.M(t,e).L(c,a).M(c,e).L(t,a).pathShape;n("X",s,t)}{const t=E,s=l+t,o=u.M(s,e).L(t,a).M(c,e).L(s/2,i).pathShape;n("Y",o,s)}{const t=l,s=u.M(c,e).H(t).L(c,a).H(t).pathShape;n("Z",s,t)}{const t=l/4,s=l*1.2,o=u.M(t*2,e+t).Q_VH(t,e).Q_HV(0,e+t).Q_VH(t,e+t*2).Q_HV(t*2,e+t),p=o.pathShape.translate(s-t*2,_.mHeight-t*2);o.addCommands(p.commands),o.M(s,e).L(c,a);const H=o.pathShape;n("%",H,s)}{const t=l,s=u.M(t,e).L(c,a).pathShape;n("/",s,t)}{const t=l,s=u.M(c,e).L(t,a).pathShape;n("\\",s,t)}{const t=l,s=E/2,o=t+s,h=t/2,p=u.M(h,i).Q_HV(c,g).Q_VH(h,a).Q_HV(t,g).Q_VH(h,i).M(o,i).L(o,a).pathShape;n("a",p,o)}{const t=l,s=E/2,o=t+s,h=s,p=s+t/2,H=o,L=u.M(c,e).V(a).M(h,g).Q_VH(p,a).Q_HV(H,g).Q_VH(p,i).Q_HV(h,g).pathShape;n("b",L,o)}{const t=l*.875,s=0,o=l/2,h=t,p=(i+g)/2,H=(g+a)/2,L=u.M(h,p).Q_VH(o,i).Q_HV(s,g).Q_VH(o,a).Q_HV(h,H).pathShape;n("c",L,t)}{const t=l,s=E/2,o=t+s,h=t/2,p=u.M(h,i).Q_HV(c,g).Q_VH(h,a).Q_HV(t,g).Q_VH(h,i).M(o,e).L(o,a).pathShape;n("d",p,o)}const q=l/8;{const t=l,s=l/2,o=t,h=o-q,p=u.M(c,g).H(o).Q_VH(s,i).Q_HV(c,g).Q_VH(s,a).H(h).pathShape;n("e",p,t)}{const t=l*.75,s=t/2,o=t,h=u.M(o,e).Q_HV(s,w).V(a).M(o,i).H(c).pathShape;n("f",h,t)}{const t=l,s=E/2,o=t+s,h=t/2,p=u.M(h,i).Q_HV(c,g).Q_VH(h,a).Q_HV(t,g).Q_VH(h,i).M(o,i).V(a).Q_VH(h,C).H(c+q).pathShape;n("g",p,o)}{const t=l*.85,s=t/2,o=u.M(c,e).V(a).Q_VH(s,i).Q_HV(t,g).V(a).pathShape;n("h",o,t)}const D=E/4;{const s=u.M(c,i).V(a).M(c,w).V(w-D).pathShape;n("i",s,0)}{const t=Math.abs(a-C),s=t/2,o=u.M(t,i).V(a).Q_VH(s,C).Q_HV(c,a).M(t,w).V(w-D).pathShape;n("j",o,t)}{const s=u.M(c,a).V(a-D).pathShape;n(".",s,0)}{const s=u.M(c,e).V(g).M(c,a).V(a-D).pathShape;n("!",s,0)}{const s=(C-a)/2,o=s/2,h=u.M(c,a-D).V(a).Q_VH(-o,a+s).pathShape;n(",",h,0)}{const s=i,o=u.M(c,a).V(a-D).M(c,s-D).V(s).pathShape;n(":",o,0)}{const s=i,o=(C-a)/2,h=o/2,p=u.M(c,a-D).V(a).Q_VH(-h,a+o).M(c,s-D).V(s).pathShape;n(";",p,0)}{const t=_.xHeight*2/3,s=l/10,o=t+s,h=u.M(c,e).V(a).M(t,i).L(c,i+t).M(t/2,a-t).L(o,a).pathShape;n("k",h,o)}{const s=u.M(c,e).V(a).pathShape;n("l",s,0)}{const t=l*1.5,s=t/4,o=t/2,h=t*3/4,p=t,H=u.M(c,i).V(a).Q_VH(s,i).Q_HV(o,g).V(a).M(o,g).Q_VH(h,i).Q_HV(p,g).V(a).pathShape;n("m",H,t)}{const t=l*.85,s=t/2,o=u.M(c,i).V(a).Q_VH(s,i).Q_HV(t,g).V(a).pathShape;n("n",o,t)}{const t=l,s=0,o=t/2,h=t,p=u.M(o,i).Q_HV(h,g).Q_VH(o,a).Q_HV(s,g).Q_VH(o,i).pathShape;n("o",p,t)}{const t=l,s=E/2,o=t+s,h=s,p=s+t/2,H=o,L=u.M(c,i).V(C).M(h,g).Q_VH(p,i).Q_HV(H,g).Q_VH(p,a).Q_HV(h,g).pathShape;n("p",L,o)}{const t=l,s=t/2,o=t+E/2,h=Math.abs(a-C),p=o+h/2,H=o+h,L=u.M(s,i).Q_HV(c,g).Q_VH(s,a).Q_HV(t,g).Q_VH(s,i).M(o,i).V(a).Q_VH(p,C).Q_HV(H,a).pathShape;n("q",L,H)}{const t=l,s=t/2,o=u.M(c,i).V(a).Q_VH(s,i).Q_HV(t,g).pathShape;n("r",o,t)}{const t=_.xHeight*2/3,s=t/2,o=a,h=g,p=i,H=(o+h)/2,L=(h+p)/2,$=(L+p)/2,R=(o+H)/2,M=u.M(t,$).Q_VH(s,p).Q_HV(c,L).Q_VH(s,h).Q_HV(t,H).Q_VH(s,o).Q_HV(c,R).pathShape;n("s",M,t)}{const t=l*.75,s=t/2,o=t,h=u.M(s,w).V(g).Q_VH(o,a).M(o,i).H(c).pathShape;n("t",h,t)}{const t=l*.85,s=t/2,o=u.M(c,i).V(g).Q_VH(s,a).Q_HV(t,i).L(t,a).pathShape;n("u",o,t)}{const t=l,s=t/2,o=u.M(c,i).L(s,a).L(t,i).pathShape;n("v",o,t)}{const t=_.xHeight*1.5,s=t/3,o=t/2,h=s*2,p=u.M(c,i).L(s,a).L(o,g).L(h,a).L(t,i).pathShape;n("w",p,t)}{const t=l,s=u.M(t,i).L(c,a).M(c,i).L(t,a).pathShape;n("x",s,t)}{const t=l,s=t/2,o=(i+C)/2,h=u.M(t,i).L(c,C).M(c,i).L(s,o).pathShape;n("y",h,t)}{const t=l,s=u.M(c,i).H(t).L(c,a).H(t).pathShape;n("z",s,t)}return new Map([...r.entries()].sort(([t],[s])=>t<s?-1:t==s?1:0))}const J=mt("main",SVGSVGElement);function Ht(_){const r=new Map;return _.forEach((n,f)=>{const{advance:l,fontMetrics:e}=n,w=n.shape.convertToCubics(),i=new rt(w,l,e);r.set(f,i)}),r}function Qt(_,r=_*.75){const n=tt(_);return tt(r).forEach((l,e)=>{const w=e.toLowerCase();w!=e&&n.set(w,l)}),n}function st(_,r){const n={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},f=Mt.generator({options:{...n,...r}}),l=new Map;return _.forEach((e,w)=>{const i=()=>{const a=f.path(e.d),E=f.toPaths(a).map(c=>c.d);return N.fromStrings(E)},g=new rt(i,e.advance,e.fontMetrics);l.set(w,g)}),l}{let _=function(M){return M.length==1},r=function(M){let m=1/0,Q=-1/0;M.forEach(y=>{const{description:b,baseline:k}=y,{fontMetrics:W}=b;m=Math.min(m,W.top+k),Q=Math.max(Q,W.bottom+k)});const v=m-1,x=Q+1,V=document.createElementNS("http://www.w3.org/2000/svg","rect");return V.x.baseVal.value=0,V.y.baseVal.value=v,V.width.baseVal.value=100,V.height.baseVal.value=x-v,J.insertBefore(V,M[0].element),V},n=function(M){const d=new f;d.font=D;const m=d.addText(M),Q=f.join(m),v=d.x;return{shape:Q,advance:v}};class f{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(d=1){this.baseline+=this.lineHeight*d}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=tt(5);getDescription(d){return this.font.get(d)}static join(d){return new N(d.flatMap(m=>m.description.shape.translate(m.x,m.baseline).commands))}displayText(d){return d.map(m=>{const Q=m.description.shape,v=Q.makeElement();return J.appendChild(v),v.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...m,shape:Q,element:v}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(d){const m=new Set,Q=[];for(;;){const v=f.WORD_BREAK.exec(d);if(!v)break;const x=v[1];if(d=v[2],x[0]==`
`)this.carriageReturn(),this.lineFeed(x.length*4/3);else if(x[0]==" ")this.addSpace(x.length);else{let V=0;const y=0,b=[...x].flatMap(k=>{const W=this.getDescription(k);if(W){const T=W.advance+W.fontMetrics.defaultKerning,A={x:V,width:T,baseline:y,description:W,char:k};return V+=T,A}else return m.add(k),[]});this.x+V>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),b.forEach(k=>{k.x+=this.x,k.baseline=this.baseline,Q.push(k)}),this.x+=V}}return m.size>0&&console.warn(m),Q}addSpace(d=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*d}}class l{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(d=1){this.baseline+=this.lineHeight*d}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=tt(5);getDescription(d){return this.font.get(d)}makeRoom(d){this.x+d.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(d){this.x+=d.advance+d.fontMetrics.defaultKerning}moveToCursor(d){d.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(d,m){return this.x+m>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),J.appendChild(d),d.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=m,this}show1(d){this.makeRoom(d);const m=d.makeElement();J.appendChild(m);const{x:Q,baseline:v}=this;return this.moveToCursor(m),this.advance(d),{element:m,x:Q,baseline:v}}splitAndShow1(d){this.makeRoom(d);const m=d.makeElements();return m.forEach(({element:Q})=>{J.appendChild(Q),this.moveToCursor(Q)}),this.advance(d),m}show(d){const m=new Set,Q=[...d].flatMap(v=>{const x=this.getDescription(v);return x?{...this.show1(x),description:x,char:v}:v==" "?(this.showSpace(),[]):(m.add(v),[])});return m.size>0&&console.warn(m),Q}splitAndShow(d){const m=new Set,Q=[...d].flatMap(v=>{const x=this.getDescription(v);return x?this.splitAndShow1(x):v==" "?(this.showSpace(),[]):(m.add(v),[])});return m.size>0&&console.warn(m),Q}showSpace(d=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*d,this}}const e=new l;let w="";e.font.forEach((M,d)=>{_(d)&&(w+=d)}),e.show(w),e.CRLF();{const M=e.show(w);M.forEach(({element:d})=>{d.classList.add("lights")}),r(M).style.fill="black"}e.CRLF();const i=e.splitAndShow(w),g=M=>{if(M==0)return 0;const d=i[M].innerShape,m=i[M-1].innerShape,Q=Math.hypot(m.endX-d.startX,m.endY-d.startY);return j(Q),Q},{totalLength:a,maxLength:C}=i.reduce(({totalLength:M,maxLength:d},{element:m},Q)=>{const v=m.getTotalLength();return j(v),M+=g(Q)+v,d=Math.max(d,v),{totalLength:M,maxLength:d}},{totalLength:0,maxLength:0}),E=Math.ceil(C)+1,c=`0 ${E} ${E} 0`;async function q(){for(;;){let m=0,Q;i.forEach(({element:v},x)=>{const V=v.getTotalLength();m+=g(x);const y=1e3+m/a*3e4;m+=V;const b=V/a*3e4;Q=v.animate([{strokeDasharray:c,strokeDashoffset:1e-5},{strokeDasharray:c,strokeDashoffset:-V}],{delay:y,duration:b,fill:"backwards"})}),await Q.finished,await pt(3e3)}}q(),e.CRLF(),e.font=Qt(5,3),e.show("Small  Caps"),e.lineHeight*=1.125;const D=tt(new lt(6,.5)),t=Ht(D),s=[{roughness:.4,title:"Heartbeat!"},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"The Wave *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(M=>{const{roughness:d,title:m}=M;return e.font=st(t,{roughness:d}),e.CRLF(),e.show(`${Math.round(d*100)} ${m??"Rough Font"} [4XxYyZ]`)}),o=s[0],h=s[1],p=s[2],H=s[3],L=s[4],$=s[5],R=st(t,{roughness:0});r(L).style.fill="black",L.forEach(({element:M})=>{M.classList.add("lights")}),[L,$].forEach(M=>{M.forEach(d=>{function m(){return Math.random()+.5|0}const Q=3+m()+m()+m(),v=ot(Q,()=>({d:d.description.cssPath}));v.push(v[0]);const x=Q*1e4/3,V=x/8,y=Math.exp(B(Math.log(V),Math.log(x),Math.random()));d.element.animate(v,{duration:y,iterations:1/0})})}),h.forEach(M=>{const d=R.get(M.char).cssPath,m=M.element.style.d,Q=.03,v=[{offset:0,d:m},{offset:Q,d},{offset:.5,d},{offset:Q+.5,d:m},{offset:1,d:m}];M.element.animate(v,{duration:2e3,iterations:1/0})});{const v=H.length,x=v*3,V=5e3;H.forEach((y,b)=>{const k=R.get(y.char).cssPath,W=y.element.style.d,T=y.element.style.transform,A=T+" scale(1.32)",P={d:k,transform:T},I={d:W,transform:A},S=[{offset:0,...P},{offset:4/x,...I},{offset:6/x,...I},{offset:14/x,...P},{offset:1,...P}];y.element.animate(S,{duration:V,iterationStart:1-b/v,iterations:1/0})})}{const M=p;r(M).style.fill="hwb(190 10% 0% / 1)",M.forEach(d=>{const m=R.get(d.char).cssPath,Q=d.element.style.d,v=1/16,x=15/16,V=14e3,y=[{offset:0,strokeWidth:.5},{offset:v,strokeWidth:.5},{offset:x,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],b=[{offset:0,d:m},{offset:v,d:m,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:x,d:Q},{offset:1,d:Q}],k=[{offset:0,opacity:1},{offset:v,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:x,opacity:0},{offset:1,opacity:0}];d.element.animate(k,{duration:V,iterations:1/0}),d.element.animate(b,{duration:V,iterations:1/0}),d.element.animate(y,{duration:V,iterations:1/0}),d.element.style.stroke="white"})}o.forEach(M=>{const d=R.get(M.char).cssPath,m=M.element.style.d,Q=750,v="cubic-bezier(.55,0,1,.55)";M.element.animate([{offset:0,d,easing:v},{offset:.5,d:m,easing:v},{offset:1,d}],{duration:Q,iterations:1/0})});{e.CRLF();const M=.25,d=1.5,m="The more I drink the more I want to tell you what I really think about you.",Q=gt(0,M,m.length-1,d),v=[...m].flatMap((T,A)=>(e.font=st(t,{roughness:Q(A)}),e.splitAndShow(T))),x=T=>{if(T==0)return 0;const A=v[T].innerShape,P=v[T-1].innerShape,I=Math.hypot(P.endX-A.startX,P.endY-A.startY);return j(I),I},{totalLength:V,maxLength:y}=v.reduce(({totalLength:T,maxLength:A},{element:P},I)=>{const S=P.getTotalLength();return T+=x(I)+S,A=Math.max(A,S),{totalLength:T,maxLength:A}},{totalLength:0,maxLength:0}),b=Math.ceil(y)+1,k=`0 ${b} ${b} 0`;async function W(){for(;;){let P=0,I;v.forEach(({element:S},F)=>{const K=S.getTotalLength();P+=x(F);const O=1e3+P/V*3e4;P+=K;const G=K/V*3e4;I=S.animate([{strokeDasharray:k,strokeDashoffset:1e-5},{strokeDasharray:k,strokeDashoffset:-K}],{delay:O,duration:G,fill:"backwards"})}),await I.finished,await pt(3e3)}}W()}{e.font=D,e.CRLF();const M=n("Stop"),d=n("Go");e.CRLF();const m=M.shape.makeElement();e.showAndAdvance(m,M.advance),e.showSpace();const Q=d.shape.makeElement();e.showAndAdvance(Q,d.advance);const v=d.shape.matchForMorph(M.shape),x=v[0],V=v[1],y=M.shape.makeElement();e.showSpace(),e.showAndAdvance(y,M.advance),y.animate([{d:x},{d:x,easing:"ease"},{d:V},{d:V,easing:"ease"},{d:x}],{duration:5e3,iterations:1/0})}{const M=x=>n([...x].join(`
`)).shape,d=M("123"),m=M("ABC"),[Q,v]=d.matchForMorph(m);e.CRLF(),ot(7,x=>{const V=d.makeElement();e.showAndAdvance(V,10*(6/7)*.86),V.animate([{d:Q},{d:v}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:x/6*.999})}),e.lineFeed(2.5)}{let M=function(V){const y=V[0].makeElement();e.showAndAdvance(y,0);const b=V[0].matchForMorph(V[1]);y.animate([{d:b[0]},{d:b[0],easing:"ease"},{d:b[1]},{d:b[1],easing:"ease"},{d:b[0]}],{duration:5e3,iterations:1/0})},d=function(V){const y=new N(V[1].commands.toReversed());return[V[0],y]},m=function(V){{const S=V.map(F=>!F.commands.length);if(S[0]&&S[1])return V;if(S[0]||S[1])throw new Error("wtf")}function y(S,F){const K=Math.hypot(S.x-F.x,S.y-F.y)+Math.hypot(S.x0-F.x0,S.y0-F.y0),O=Math.hypot(S.x-F.x0,S.y-F.y0)+Math.hypot(S.x0-F.x0,S.y-F.y),G=O<K;return{distance:G?O:K,needToReverse:G}}const b=V.map(S=>S.commands),[k,W]=b[0].length<b[1].length?b:b.toReversed(),T=[...W],A=[],P=ft([...k]);if(P.forEach(S=>{let F={command:void 0,distance:1/0,index:NaN};T.forEach((O,G)=>{const{distance:Z,needToReverse:nt}=y(S,O);Z<F.distance&&(F={command:nt?O.toCubic().reverse():O,distance:Z,index:G})});const K=F;A.push(K.command),T.splice(K.index,1)}),P.length!=A.length)throw new Error("wtf");if(T.forEach(S=>{let F={command:void 0,distance:1/0,index:NaN};P.forEach((O,G)=>{const{distance:Z,needToReverse:nt}=y(O,S);Z<F.distance&&(F={command:nt?O.toCubic().reverse():O,distance:Z,index:G})});const K=F;P.push(K.command),A.push(S)}),P.length!=A.length)throw new Error("wtf");const I=[P,A];return k==b[1]&&I.reverse(),console.log(k),[new N(I[0]),new N(I[1])]};e.CRLF();const Q=n(`Round
  and
round!`),v=n(`Circle
  in a
spiral`),x=[Q.shape,v.shape];M(x),e.x+=Math.max(Q.advance,v.advance),e.showSpace(4),M(m(x)),e.x+=Math.max(Q.advance,v.advance),e.showSpace(4),M(d(x)),e.lineFeed(2.5)}e.x>e.rightMargin&&e.CRLF(),J.viewBox.baseVal.height=e.baseline+e.font.get("0").fontMetrics.bottom}
