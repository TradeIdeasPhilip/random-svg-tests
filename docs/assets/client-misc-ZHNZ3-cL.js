import{r as k}from"./misc-wGF4FraP.js";var r={},i;function w(){if(i)return r;i=1,Object.defineProperty(r,"__esModule",{value:!0}),r.AnimationLoop=void 0,r.getById=s,r.loadDateTimeLocal=l,r.getBlobFromCanvas=u,r.getAudioBalanceControl=d,r.getHashInfo=m,r.createElementFromHTML=f,r.download=h;const a=k();function s(n,e){const t=document.getElementById(n);if(!t)throw new Error("Could not find element with id "+n+".  Expected type:  "+e.name);if(t instanceof e)return t;throw new Error("Element with id "+n+" has type "+t.constructor.name+".  Expected type:  "+e.name)}function l(n,e,t="milliseconds"){let o;switch(t){case"minutes":{o=e.getSeconds()*1e3+e.getMilliseconds();break}case"seconds":{o=e.getMilliseconds();break}case"milliseconds":{o=0;break}default:throw new Error("wtf")}n.valueAsNumber=+e-e.getTimezoneOffset()*6e4-o}function u(n){const{reject:e,resolve:t,promise:o}=(0,a.makePromise)();return n.toBlob(c=>{c?t(c):e(new Error("blob is null!"))}),o}function d(n){const e=new AudioContext,t=e.createMediaElementSource(n),o=new StereoPannerNode(e,{pan:0});return t.connect(o).connect(e.destination),c=>{o.pan.value=c}}function m(){const n=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(o=>{const c=o.split("=",2);if(c.length==2){const v=decodeURIComponent(c[0]),E=decodeURIComponent(c[1]);n.set(v,E)}}),n}function f(n,e){var t=document.createElement("div");return t.innerHTML=n.trim(),(0,a.assertClass)(t.firstChild,e,"createElementFromHTML:")}function h(n,e){var t=document.createElement("a");if(t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",n),document.createEvent){var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),t.dispatchEvent(o)}else t.click()}class p{onWake;constructor(e){this.onWake=e,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#e=!1;cancel(){this.#e=!0}callback(e){this.#e||(requestAnimationFrame(this.callback),this.onWake(e))}}return r.AnimationLoop=p,r}var g=w();export{g as c};
