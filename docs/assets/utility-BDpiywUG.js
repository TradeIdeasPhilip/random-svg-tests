var i={};Object.defineProperty(i,"__esModule",{value:!0});i.permutations=i.polarToRectangular=D=i.makeBoundedLinear=X=i.makeLinear=i.sum=i.countMap=B=i.initializedArray=i.count=i.zip=i.FIGURE_SPACE=i.NON_BREAKING_SPACE=i.dateIsValid=i.MIN_DATE=i.MAX_DATE=i.makePromise=i.filterMap=I=i.pick=i.pickAny=i.csvStringToArray=i.parseTimeT=i.parseIntX=i.parseFloatX=i.getAttribute=i.followPath=i.parseXml=i.testXml=v=i.sleep=E=i.assertClass=void 0;function g(e,t,n="Assertion Failed."){const r=a=>{throw new Error(`${n}  Expected type:  ${t.name}.  Found type:  ${a}.`)};if(e===null)r("null");else if(typeof e!="object")r(typeof e);else if(!(e instanceof t))r(e.constructor.name);else return e;throw new Error("wtf")}var E=i.assertClass=g;function A(e){return new Promise(t=>setTimeout(t,e))}var v=i.sleep=A;function l(e){const n=new DOMParser().parseFromString(e,"application/xml");for(const r of Array.from(n.querySelectorAll("parsererror")))if(r instanceof HTMLElement)return{error:r};return{parsed:n}}i.testXml=l;function w(e){if(e!==void 0)return l(e)?.parsed?.documentElement}i.parseXml=w;function c(e,...t){for(const n of t){if(e===void 0)return;if(typeof n=="number")e=e.children[n];else{const r=e.getElementsByTagName(n);if(r.length!=1)return;e=r[0]}}return e}i.followPath=c;function k(e,t,...n){if(t=c(t,...n),t!==void 0&&t.hasAttribute(e))return t.getAttribute(e)??void 0}i.getAttribute=k;function u(e){if(e==null)return;const t=parseFloat(e);if(isFinite(t))return t}i.parseFloatX=u;function d(e){const t=u(e);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}i.parseIntX=d;function M(e){if(typeof e=="string"&&(e=d(e)),e!=null&&!(e<=0))return new Date(e*1e3)}i.parseTimeT=M;const T=e=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,n=[[]];let r;for(;r=t.exec(e);)r[1].length&&r[1]!==","&&n.push([]),n[n.length-1].push(r[2]!==void 0?r[2].replace(/""/g,'"'):r[3]);return n};i.csvStringToArray=T;function S(e){const t=e.values().next();if(!t.done)return t.value}i.pickAny=S;function b(e){return e[Math.random()*e.length|0]}var I=i.pick=b;function _(e,t){const n=[];return e.forEach((r,a)=>{const s=t(r,a);s!==void 0&&n.push(s)}),n}i.filterMap=_;function y(){let e,t;return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}i.makePromise=y;i.MAX_DATE=new Date(864e13);i.MIN_DATE=new Date(-864e13);function C(e){return isFinite(e.getTime())}i.dateIsValid=C;i.NON_BREAKING_SPACE=" ";i.FIGURE_SPACE=" ";function*F(...e){const t=e.map(n=>n[Symbol.iterator]());for(;;){const n=t.map(r=>r.next());if(n.some(({done:r})=>r))break;yield n.map(({value:r})=>r)}}i.zip=F;function*N(e=0,t=1/0,n=1){for(let r=e;r<t;r+=n)yield r}i.count=N;function f(e,t){const n=[];for(let r=0;r<e;r++)n.push(t(r));return n}var B=i.initializedArray=f;i.countMap=f;function L(e){return e.reduce((t,n)=>t+n,0)}i.sum=L;function P(e,t,n,r){const a=(r-t)/(n-e);return function(s){return(s-e)*a+t}}var X=i.makeLinear=P;function R(e,t,n,r){n<e&&([e,t,n,r]=[n,r,e,t]);const a=(r-t)/(n-e);return function(s){return s<=e?t:s>=n?r:(s-e)*a+t}}var D=i.makeBoundedLinear=R;function $(e,t){return{x:Math.sin(t)*e,y:Math.cos(t)*e}}i.polarToRectangular=$;function*p(e,t=[]){if(e.length==0)yield t;else for(let n=0;n<e.length;n++){const r=e[n],a=[...t,r],s=[...e.slice(0,n),...e.slice(n+1)];yield*p(s,a)}}i.permutations=p;var o={};Object.defineProperty(o,"__esModule",{value:!0});o.download=o.createElementFromHTML=o.getHashInfo=o.getAudioBalanceControl=o.getBlobFromCanvas=o.loadDateTimeLocal=z=o.getById=void 0;const m=i;function H(e,t){const n=document.getElementById(e);if(!n)throw new Error("Could not find element with id "+e+".  Expected type:  "+t.name);if(n instanceof t)return n;throw new Error("Element with id "+e+" has type "+n.constructor.name+".  Expected type:  "+t.name)}var z=o.getById=H;function j(e,t,n="milliseconds"){let r;switch(n){case"minutes":{r=t.getSeconds()*1e3+t.getMilliseconds();break}case"seconds":{r=t.getMilliseconds();break}case"milliseconds":{r=0;break}default:throw new Error("wtf")}e.valueAsNumber=+t-t.getTimezoneOffset()*6e4-r}o.loadDateTimeLocal=j;function G(e){const{reject:t,resolve:n,promise:r}=(0,m.makePromise)();return e.toBlob(a=>{a?n(a):t(new Error("blob is null!"))}),r}o.getBlobFromCanvas=G;function O(e){const t=new AudioContext,n=t.createMediaElementSource(e),r=new StereoPannerNode(t,{pan:0});return n.connect(r).connect(t.destination),a=>{r.pan.value=a}}o.getAudioBalanceControl=O;function x(){const e=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(r=>{const a=r.split("=",2);if(a.length==2){const s=decodeURIComponent(a[0]),h=decodeURIComponent(a[1]);e.set(s,h)}}),e}o.getHashInfo=x;function U(e,t){var n=document.createElement("div");return n.innerHTML=e.trim(),(0,m.assertClass)(n.firstChild,t,"createElementFromHTML:")}o.createElementFromHTML=U;function q(e,t){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else n.click()}o.download=q;class V{constructor(t){this.onWake=t,this.callback=this.callback.bind(this),this.callback(performance.now())}#e=!1;cancel(){this.#e=!0}callback(t){this.#e||(requestAnimationFrame(this.callback),this.onWake(t))}}function K(e,t){return{x:Math.cos(t)*e,y:Math.sin(t)*e}}const W=(1+Math.sqrt(5))/2;function Y(e){return isNaN(e.getTime())?"0000⸱00⸱00 00⦂00⦂00":`${e.getFullYear().toString().padStart(4,"0")}⸱${(e.getMonth()+1).toString().padStart(2,"0")}⸱${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}⦂${e.getMinutes().toString().padStart(2,"0")}⦂${e.getSeconds().toString().padStart(2,"0")}`}export{V as A,E as a,W as b,K as c,Y as d,D as e,z as g,B as i,X as m,I as p,v as s};
