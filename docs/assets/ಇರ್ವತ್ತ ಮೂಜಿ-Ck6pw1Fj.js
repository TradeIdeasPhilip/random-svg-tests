import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as M}from"./client-misc-ZHNZ3-cL.js";import{b as t,r as i,m as Y,c as ee,s as te,g as ae,t as O,h as E}from"./fourier-samples-BNlJMvyv.js";import{p as ie,P as F}from"./path-shape-ZNbOYjhy.js";import{m as w}from"./misc-wGF4FraP.js";import{d as b,g as ne}from"./utility-D-kBkb6L.js";const oe=1024,_=M.getById("scaled",SVGGElement),K=M.getById("reference",SVGPathElement),re=M.getById("samples",SVGPathElement);function A(r,l){if(r>=l)throw new Error("wtf");const S=w.makeLinear(r,0,l,1);function D(T){if(T<=r)return 0;if(T>=l)return 1;const c=S(T);return ne(c)}return D}function J(r){K.setAttribute("d",r.pathString);const l=ie(K.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),S=l.a;_.style.transform=l.toString(),_.style.setProperty("--path-scale",S.toString());const D=ee(r.pathString,oe);let T="";D.forEach(([e,n])=>{T+=`M${e},${n}l0,0`}),re.setAttribute("d",T);const c=te(D),f=ae({addTime:4800,pauseTime:200,maxGroupsToDisplay:r.maxGroupsToDisplay,terms:c}),R=e=>Math.max(...c.slice(0,e).map(a=>Math.abs(a.frequency))),q=e=>8*R(e)+7,Q=f.map(e=>{if(e.addingCircles==0){const n=O(c,e.usingCircles),a=q(e.usingCircles),m=F.glitchFreeParametric(n,a);return()=>m.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&c[0].frequency==0){let n=function(s){return`${o.x*s},${o.y*s}`};const{startTime:a,endTime:m}=e,p=m-a,u=A(a,a+p/2),C=A(a,m),o=E(c[0]);return s=>{const d=C(s),g=n(d),P=u(s),x=n(P);return`M ${g} L ${x}`}}else{const a=.2/R(e.usingCircles+e.addingCircles),m=w.makeBoundedLinear(e.startTime,-a,e.endTime,1+a),p=O(c,e.usingCircles),u=O(c,e.addingCircles,e.usingCircles);let C=q(e.usingCircles+e.addingCircles);if(e.usingCircles==0||e.usingCircles==1&&E(c[0])){const o=E(c[0])??{x:0,y:0};return s=>{const d=m(s),g=d-a,P=d+a,x=A(g,P),h=Math.min(1,P);if(h<=0)return`$M${o.x},${o.y} L${o.x},${o.y}`;{let y=function(G){G=G*h;const v=p(G),L=1-x(G);if(L==0)return v;{const V=u(G);return{x:v.x+L*V.x,y:v.y+L*V.y}}};const k=Math.ceil(Math.max(C,150)*h);return F.glitchFreeParametric(y,k).rawPath}}}else return o=>{const s=m(o),d=A(s-a,s+a);function g(x){const h=p(x),y=1-d(x);if(y==0)return h;{const k=u(x);return{x:h.x+y*k.x,y:h.y+y*k.y}}}return F.glitchFreeParametric(g,C).rawPath}}}),Z=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,W=e=>{e<0&&(e=0);let n=Z(e);const[,a,m]=/^([0-9]+)\.([0-9]+)$/.exec(n);switch(a.length){case 3:break;case 2:{n=w.FIGURE_SPACE+n;break}case 1:{n=w.FIGURE_SPACE+w.FIGURE_SPACE+n;break}default:throw console.warn({beforeDecimalPoint:a,afterDecimalPoint:m,result:n}),new Error("wtf")}return n+"%"},j=f.map(e=>({usingAmplitude:W(e.usingAmplitude),addingAmplitude:W(e.addingAmplitude),availableAmplitude:W(e.availableAmplitude)})),H=b("[data-using] [data-circles]",HTMLTableCellElement),B=b("[data-using] [data-amplitude]",HTMLTableCellElement),I=b("[data-adding] [data-circles]",HTMLTableCellElement),N=b("[data-adding] [data-amplitude]",HTMLTableCellElement),U=b("[data-available] [data-circles]",HTMLTableCellElement),z=b("[data-available] [data-amplitude]",HTMLTableCellElement);function X(e){function n(){const o=f.findIndex(({endTime:s})=>e<s);return o==-1?f.length-1:o}const a=n(),m=o=>`${o.toString().padStart(4,w.FIGURE_SPACE)}`,p=f[a];H.innerText=m(p.usingCircles),I.innerText=m(p.addingCircles),U.innerText=m(p.availableCircles),[{value:p.usingCircles,element1:H,element2:B},{value:p.addingCircles,element1:I,element2:N},{value:p.availableCircles,element1:U,element2:z}].forEach(({value:o,element1:s,element2:d})=>{const g=o==0?"0.5":"";s.style.opacity=g,d.style.opacity=g});const u=j[a];B.innerText=u.usingAmplitude,N.innerText=u.addingAmplitude,z.innerText=u.availableAmplitude;const C=F.cssifyPath(Q[a](e));_.style.setProperty("--d",C)}window.showFrame=X}const $=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,pathString:t.likeShareAndSubscribe,minGoodCircles:10}],["hilbert0",{maxGroupsToDisplay:20,pathString:t.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,pathString:i(t.hilbert[1]).rawPath,minGoodCircles:13}],["hilbert4",{maxGroupsToDisplay:30,pathString:i(t.hilbert[4]).rawPath}],["p0",{maxGroupsToDisplay:7,pathString:i(t.peanocurve[0]).rawPath}],["p1",{maxGroupsToDisplay:10,pathString:i(t.peanocurve[1]).rawPath}],["p2",{maxGroupsToDisplay:20,pathString:i(t.peanocurve[2]).rawPath}],["square",{maxGroupsToDisplay:7,pathString:"M-0.5,-0.667 h 1 v 1 h -1 z"}],["ellipse",{maxGroupsToDisplay:7,pathString:"M1,0 A1,1.25 0 1 1 -1,0 A1,1.25 0 1 1 1,0 z"}],["star7",{maxGroupsToDisplay:8,pathString:Y(7,2,"My seed 2025a").rawPath,topText:"Random 7 Pointed Star",bottomText:'makePolygon(7,2, "My seed 2025a")'}],["Daphne_Oram_1",{maxGroupsToDisplay:17,pathString:i(t.daphneOram1).rawPath,topText:"Daphne Oram #1",bottomText:"Wikimedia Commons"}],["Daphne_Oram_2",{maxGroupsToDisplay:22,pathString:i(t.daphneOram2,.025,.71).rawPath,topText:"Daphne Oram #2",bottomText:"Wikimedia Commons"}],["water_opossum",{maxGroupsToDisplay:9,pathString:t.waterOpossum,topText:"Chironectes (Water Opossum)",bottomText:"Wikimedia Commons",minGoodCircles:10}],["cat",{maxGroupsToDisplay:9,pathString:i(t.cat).rawPath,topText:"Cat",bottomText:"Wikimedia Commons"}],["airplane",{maxGroupsToDisplay:15,pathString:i(t.airplane,.3,.7).rawPath,topText:"Airplane",bottomText:"Wikimedia Commons"}],["head_facing_right",{maxGroupsToDisplay:12,pathString:i(t.headFacingRight).rawPath,topText:"Head Facing Right",bottomText:"Wikimedia Commons"}],["Lavater",{maxGroupsToDisplay:8,pathString:i(t.lavater).rawPath,topText:"Johann Kaspar Lavaters",bottomText:"Wikimedia Commons"}],["man_walking",{maxGroupsToDisplay:16,pathString:i(t.manWalking).rawPath,bottomText:"Wikimedia Commons",topText:"Man Walking"}],["bear",{maxGroupsToDisplay:16,pathString:i(t.bear).rawPath,topText:"Bear",bottomText:"Wikimedia Commons"}],["head_facing_left",{maxGroupsToDisplay:13,pathString:i(t.headFacingLeft).rawPath,topText:"Head Facing Left",bottomText:"Wikimedia Commons"}],["kiwi",{maxGroupsToDisplay:17,pathString:i(t.kiwi,1,.85).rawPath,topText:"Kiwi",bottomText:"Wikimedia Commons"}],["hand",{maxGroupsToDisplay:15,pathString:i(t.hand,.8,.2).rawPath,topText:"Hand",bottomText:"Wikimedia Commons"}],["carpe",{maxGroupsToDisplay:16,pathString:i(t.carpe).rawPath,topText:"Carpe",bottomText:"Wikimedia Commons"}],["pigeon",{maxGroupsToDisplay:19,pathString:t.pigeon,topText:"Pigeon",bottomText:"Wikimedia Commons"}],["smallAirplane",{maxGroupsToDisplay:16,pathString:i(t.smallAirplane,.8,.7).rawPath,topText:"Robin DR400",bottomText:"Wikimedia Commons"}],["hawk",{maxGroupsToDisplay:8,pathString:i(t.hawk).rawPath,topText:"Hawk",bottomText:"Wikimedia Commons"}],["songBird",{maxGroupsToDisplay:7,pathString:i(t.songBird).rawPath,topText:"Song Bird",bottomText:"Wikimedia Commons"}]]);{const r=new URLSearchParams(window.location.search).get("script_name");if(r){const l=$.get(r);if(!l)throw console.log(`invalid script name: ${r}`,$),new Error("wtf");J(l)}else J($.get("hand"))}setTimeout(()=>{let r=NaN;window.animationLoop=new M.AnimationLoop(l=>{isNaN(r)&&(r=l);const S=l-r;window.showFrame(S)})},1);
