import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as l}from"./client-misc-1LRynplM.js";/* empty css              */import{p as T,P as k}from"./path-shape-C9IyAXDp.js";import{b as S,s as L}from"./utility-Dw-q5N--.js";import{m as w}from"./misc-CLGTS8fC.js";const f=l("go",HTMLButtonElement),b=l("source",HTMLTextAreaElement),M=l("result",HTMLElement);b.addEventListener("input",()=>f.disabled=!1);class x{static#t=l("error",HTMLDivElement);static display(t){this.#t.innerText=t}static displayError(t){t instanceof I?this.#t.innerHTML=`Unable to access <code>support.input(${t.requestedIndex})</code>.  Only ${p.length} input sliders currently exist.  <button onclick="addMoreInputs(this,${t.requestedIndex+1})">Add More</button>`:this.display(t.message)}static clear(){this.display("")}}class r{#t;get svgElement(){return this.#t}#e;get pathElement(){return this.#e}constructor(t){this.#t=S(t,SVGSVGElement),this.#e=S("path:not([data-skip-auto-fill])",SVGPathElement,this.#t),r.all.add(this)}static all=new Set;#s=NaN;get recommendedWidth(){return this.#s}#n(){const t=this.#e.getBBox(),e=this.#t.viewBox.baseVal;e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,this.#s=Math.max(e.width,e.height)/100,this.#t.style.setProperty("--recommended-width",this.#s.toString())}setPathShape(t){this.#e.setAttribute("d",t.rawPath),this.#n()}static setPathShape(t){this.all.forEach(e=>e.setPathShape(t))}static getOuterHTML(){return w.pickAny(r.all).#e.outerHTML}deAnimate(t=this.#e){t.getAnimations().forEach(e=>e.cancel())}}new r("#filledSample");new r("#outlineSample");class A extends r{constructor(){super("#chasingPathsSample")}setPathShape(t){super.setPathShape(t);const e=this.pathElement,i=1500,n=Date.now()/i%1;this.deAnimate();const h=e.getTotalLength();e.style.strokeDasharray=`0 ${h} ${h} 0`,e.animate([{strokeDashoffset:0},{strokeDashoffset:-2*h}],{iterations:1/0,duration:i,iterationStart:n})}}new A;class $ extends r{constructor(){super("#dancingAntsSample")}setPathShape(t){super.setPathShape(t);const e=this.pathElement,i=250;this.deAnimate();const n=e.getTotalLength(),h=Date.now()/i%1,c=4*this.recommendedWidth,a=c*10<n?n/Math.round(n/c):c;e.style.strokeDasharray=`0 ${a}`,e.animate([{strokeDashoffset:0},{strokeDashoffset:-a}],{iterations:1/0,duration:i,iterationStart:h})}}new $;class H extends r{constructor(){super("#tauFollowingPathSample")}setPathShape(t){super.setPathShape(t),this.svgElement.style.setProperty("--css-path",t.cssPath)}}new H;new r("#textPathSample");class E extends r{static doItSoon(){console.warn("placeholder")}#t;constructor(){super("#clipAndMaskSupport"),this.#t=S("mask > path",SVGPathElement,this.svgElement);const t=new ResizeObserver(()=>E.doItSoon());[this.#e,this.#s].forEach(e=>{e.decode().then(()=>E.doItSoon()),t.observe(e)})}get measurablePath(){return this.pathElement}#e=l("clipPathSample",HTMLImageElement);#s=l("maskSample",HTMLImageElement);#n=l("maskSample2",HTMLImageElement);setPathShape(t){super.setPathShape(t);const e=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${this.svgElement.getAttribute("viewBox")}" preserveAspectRatio="xMidYMid meet"><path d="${t.rawPath}" stroke="red" fill-opacity="0.5" fill="black" stroke-width="${this.recommendedWidth*4}"/></svg>`,i=`data:image/svg+xml;base64,${btoa(e)}`,n=`url('${i}')`;console.log({svgString:e,dataUrl:i,maskImage:n}),this.#n.style.maskImage=n;const h=this.measurablePath.getBBox(),c=T(h,{x:0,y:0,height:this.#e.clientHeight,width:this.#e.clientWidth},"meet"),a=t.transform(c);this.#e.style.clipPath=a.cssPath,this.#t.setAttribute("d",a.rawPath);const d=c.a,u=this.recommendedWidth*d*8;this.#t.style.strokeWidth=u.toString();const g=507;this.deAnimate(this.#t);const o=this.#t.getTotalLength(),m=Date.now()/g%1,y=16*this.recommendedWidth*d,P=y*10<o?o/Math.round(o/y):y;this.#t.style.strokeDasharray=`${u} ${P-u}`,this.#t.animate([{strokeDashoffset:0},{strokeDashoffset:-P}],{iterations:1/0,duration:g,iterationStart:m})}}new E;const p=[];class I extends Error{constructor(t){super(`Unable to access support.input(${t}).  Only ${p.length} input sliders currently exist.`),this.requestedIndex=t}}const D={input(s){if(!Number.isSafeInteger(s)||s<0)throw new RangeError(`invalid ${s}`);if(s>=p.length)throw new I(s);return p[s]}},B=l("inputs",HTMLDivElement);function v(){f.disabled=!1;const s=p.length,t=.5,e=`<div class="has-slider">
      <input type="range" min="0" max="1" value="${t}" step="0.00001" oninput="copyNewInput(this, ${s})" />
      <code>support.input(${s})</code> =
      <span>${t.toString().padEnd(7,"0")}</span>
    </div>`;B.insertAdjacentHTML("beforeend",e),p.push(t)}window.addMoreInputs=(s,t)=>{for(s.disabled=!0;p.length<t;)v()};S("#inputsGroup button",HTMLButtonElement).addEventListener("click",()=>{v()});v();v();{const s=l("segmentCountInput",HTMLInputElement),t=l("inputsGroup",HTMLDivElement),e=()=>{x.clear();const a=`"use strict";
`+b.value+`
return { x, y };`;let d;try{d=new Function("t /* A value between 0 and 1, inclusive. */","support",a)}catch(o){if(o instanceof SyntaxError){x.displayError(o);return}else throw o}const u=o=>{const m=d(o,D);if(!(Number.isFinite(m.x)&&Number.isFinite(m.y)))throw new Error(`Invalid result.  Expected {x,y} where x and y are both finite numbers.  Found: ${JSON.stringify(m)} when t=${o}.`);return m};let g;try{g=k.parametric(u,s.valueAsNumber)}catch(o){if(o instanceof Error){x.displayError(o);return}else throw o}r.setPathShape(g),M.innerText=r.getOuterHTML()};let i=!1;const n=()=>{f.disabled=!0,i||(i=!0,requestAnimationFrame(()=>{i=!1,e()}))};E.doItSoon=n,f.addEventListener("click",n);const h=l("segmentCountSpan",HTMLSpanElement),c=()=>{h.innerText=s.value.padStart(3,w.FIGURE_SPACE)};c(),s.addEventListener("input",()=>{c(),n()}),window.copyNewInput=(a,d)=>{p[d]=a.valueAsNumber;const u=w.assertClass(a.parentElement?.lastElementChild,HTMLSpanElement);u.innerText=a.valueAsNumber.toFixed(5),n()},L("button.show-this",HTMLButtonElement).forEach(a=>{const d=w.assertClass(a.parentElement?.nextElementSibling,HTMLPreElement);a.addEventListener("click",()=>{const u=d.innerText;b.value=u,n(),t.scrollIntoView({behavior:"smooth"})})}),n()}
