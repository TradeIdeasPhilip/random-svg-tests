import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as P}from"./client-misc-ZHNZ3-cL.js";import{s as v,b as E}from"./utility-D9E8BDCl.js";import{P as p}from"./path-shape-fljILaqi.js";import{m as b}from"./misc-wGF4FraP.js";const f=1e-4;class y{compute(t,e,s){let n=0;for(let a=0;a<s;a++){const r=this.constant(e,a);n+=r*(t-e)**a}return n}validRanges(){const t=this.badPoints.flatMap(({real:s,imaginary:n})=>n==0?[s]:[]).sort((s,n)=>s-n);return t.push(1/0),t.map((s,n,a)=>({from:(a[n-1]??-1/0)+f,to:s-f}))}radiusOfConvergence(t){return Math.min(...this.badPoints.map(e=>Math.hypot(t-e.real,e.imaginary)))}}class M extends y{numberOfTerms=1/0;constant(t,e){if(t===0)throw new Error("Reciprocal is undefined at x0 = 0");return(-1)**e/t**(e+1)}f(t){if(t===0)throw new Error("Reciprocal is undefined at x = 0");return 1/t}static instance=new this;badPoints=[{real:0,imaginary:0}]}class V extends y{numberOfTerms=1/0;constant(t,e){const s=t+e*Math.PI/2;let n=1;for(let a=1;a<=e;a++)n*=a;return Math.sin(s)/n}f(t){return Math.sin(t)}static instance=new this;badPoints=[]}class R extends y{numberOfTerms=6;constant(t,e){const s=1+t*t;switch(e){case 0:return 1/s;case 1:return-2*t/s**2;case 2:return(3*t*t-1)/s**3;case 3:return 2*t*(3-5*t*t)/s**4;case 4:return(25*t**4-38*t*t+3)/(2*s**5);case 5:return t*(2842*t*t-1450*t**4-636)/(5*s**6);default:throw new Error(`Term ${e} not implemented.`)}}f(t){return 1/(1+t*t)}static instance=new this;badPoints=[{real:0,imaginary:1},{real:0,imaginary:-1}]}class m{#t;#s;#e;#n;constructor(t){[this.#t,this.#s]=v(`[data-open-end="${t}"]`,SVGCircleElement,2,2),this.#e=E(`[data-center="${t}"]`,SVGCircleElement),this.#n=E(`[data-reconstruction="${t}"]`,SVGPathElement)}hide(){this.#t.style.display="none",this.#s.style.display="none",this.#e.style.display="none",this.#n.style.d=""}draw(t,e,s){if(s-=f,s<=0)throw new Error("wtf");const n=-9,a=9,r=e-s,o=e+s,c=Math.max(n,r),d=Math.min(a,o),w=l=>{const h=b.lerp(c,d,l),g=t(h);return{x:h,y:g}},u=p.parametric(w,50);this.#n.style.d=u.cssPath,this.#e.style.display="",this.#e.cx.baseVal.value=e,this.#e.cy.baseVal.value=t(e),isFinite(s)?(this.#t.style.display="",this.#s.style.display="",this.#t.cx.baseVal.value=r,this.#t.cy.baseVal.value=t(r),this.#s.cx.baseVal.value=o,this.#s.cy.baseVal.value=t(o)):(this.#t.style.display="none",this.#s.style.display="none")}static instances=[new this("1"),new this("2"),new this("3")]}class O{#t=P.getById("original-function",SVGPathElement);hide(){this.#t.style.d=""}draw(t){const n=t.validRanges().flatMap(r=>{const o=Math.max(-9,r.from),c=Math.min(9,r.to);if(o>=c)return[];{const d=u=>{const l=b.lerp(o,c,u),h=t.f(l);return{x:l,y:h}};return p.parametric(d,Math.ceil((c-o)*5)).commands}}),a=new p(n);this.#t.style.d=a.cssPath}static instance=new this}console.log({HiddenPoles:R,Sine:V,Reciprocal:M,TaylorElements:m});{let i=function(e,s){const n=t.radiusOfConvergence(s);e.draw(t.f,s,n)};const t=M.instance;O.instance.draw(t),i(m.instances[0],-2),i(m.instances[1],1),i(m.instances[2],2.5)}
