import{m as a}from"./misc-wGF4FraP.js";import{P as d}from"./path-shape-n6EbRjvk.js";class E{#t=document.createElementNS("http://www.w3.org/2000/svg","svg");#e=document.createElementNS("http://www.w3.org/2000/svg","path");constructor(){this.#t.style.width="0",this.#t.style.height="0",this.#t.style.position="absolute",this.#t.appendChild(this.#e),document.body.appendChild(this.#t)}get d(){return this.#e.getAttribute("d")??""}set d(e){this.#e.style.d="",this.#e.style.d=d.cssifyPath(e);const r=this.#e.style.d!="";if(this.#e.style.d="",r)this.#e.setAttribute("d",e);else throw new Error("Invalid path")}get empty(){return this.d==""}clear(){this.d=""}get length(){return this.#e.getTotalLength()}getPoint(e){return this.#e.getPointAtLength(e)}}function S(n,e){const r=a.angleBetween(n,e);return n+r/2}function w(n,e,r=1,t=1/0,o=document){const s=[];if(o.querySelectorAll(n).forEach(i=>{s.push(a.assertClass(i,e))}),s.length<r||s.length>t)throw new Error(`Expecting "${n}" to return [${r} - ${t}] instances of ${e.name}, found ${s.length}.`);return s}function y(n,e,r=document){return w(n,e,1,1,r)[0]}class p{constructor(){throw new Error("wtf")}static sfc32(e,r,t,o){function s(){e|=0,r|=0,t|=0,o|=0;let c=(e+r|0)+o|0;return o=o+1|0,e=r^r>>>9,r=t+(t<<3)|0,t=t<<21|t>>>11,t=t+c|0,(c>>>0)/4294967296}const i=s;return Object.defineProperty(i,"currentSeed",{get(){return JSON.stringify([e,r,t,o])}}),i}static#t=42;static seedIsValid(e){try{return this.create(e),!0}catch{return!1}}static create(e=this.newSeed()){console.info(e);const r=JSON.parse(e);if(!(r instanceof Array))throw new Error("invalid input");if(r.length!=4)throw new Error("invalid input");const[t,o,s,i]=r;if(!(typeof t=="number"&&typeof o=="number"&&typeof s=="number"&&typeof i=="number"))throw new Error("invalid input");return this.sfc32(t,o,s,i)}static newSeed(){const e=[];return e.push(Date.now()|0),e.push(this.#t++|0),e.push(Math.random()*2**31|0),e.push(performance.now()*1e4|0),JSON.stringify(e)}static fromString(e){try{return this.create(e)}catch{return this.create(this.anyStringToSeed(e))}}static anyStringToSeed(e){function r(s,i){return(s<<i|s>>>32-i)>>>0}const t=[2654435769,608135816,2242054355,320440878];return new TextEncoder().encode(e).forEach(s=>{t[0]^=s,t[0]=r(t[0],3),t[1]^=s,t[1]=r(t[1],5),t[2]^=s,t[2]=r(t[2],7),t[3]^=s,t[3]=r(t[3],11)}),t[0]^=r(t[1],7),t[1]^=r(t[2],11),t[2]^=r(t[3],13),t[3]^=r(t[0],17),JSON.stringify(t)}static test(){const t=[this.create()];for(;t.length<=10;){for(let s=0;s<20;s++){const i=t.map(c=>c());for(let c=1;c<i.length;c++)if(i[c]!==i[0]){debugger;throw new Error("wtf")}}const o=a.pick(t).currentSeed;t.forEach(s=>{if(s.currentSeed!=o){debugger;throw new Error("wtf")}}),t.push(this.create(o))}}}window.Random=p;function u(n){if(!(Number.isFinite(n)&&n>=0&&n<=1))throw new Error(`t should be between 0 and 1, inclusive. t == ${n}`)}function b(...n){n.forEach(t=>{if(!(t>=0&&t<Number.MAX_SAFE_INTEGER))throw new Error("wtf")});const e=a.sum(n);if(e==0)throw new Error("wtf");return t=>{u(t),t*=e;for(let o=0;o<n.length;o++){const s=n[o];if(t<=s)return t/=s,{t,index:o};t-=s}throw new Error("wtf")}}function N(n,e,r){const t=n+e+r,o=a.makeBoundedLinear(n/t,0,(n+e)/t,1);return i=>{u(i);const c=o(i)*e,h=Math.min(c|0,e-1),f=c-h;return u(f),{t:f,index:h}}}function v(n){if(n==null)throw new Error("wtf");return n}function A(n){const e=2/(n+1),r=1-e;return o=>r*o*o+e*o}function l(n,e){return e?l(e,n%e):n}function x(n,e){return n*e/l(n,e)}class P{#t;constructor(e=60){if(a.assertFinite(e),e<1||e!=(e|0))throw new Error("wtf");this.#t=e,this.fromMSF=this.fromMSF.bind(this),this.fromString=this.fromString.bind(this),Object.freeze(this)}get framesPerSecond(){return this.#t}fromMSF(e,r,t){return(e*60+r)*this.#t+t}fromString(e){const r=/^([0-9]+):([0-9]+):([0-9]+)$/.exec(e);if(!r)throw new Error("wtf");const t=a.parseIntX(r[1]),o=a.parseIntX(r[2]),s=a.parseIntX(r[3]);if(t===void 0||o===void 0||s===void 0)throw new Error("wtf");return this.fromMSF(t,o,s)}}export{P as G,E as P,p as R,S as a,u as b,A as c,y as d,N as e,v as f,x as l,b as m,w as s};
