import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as Y,g as ht,i as dt,m as lt,s as ot}from"./client-misc-DyzYuCZn.js";/* empty css              */import{b as j,l as X}from"./utility-BJJSsp0G.js";import{a as mt}from"./rough.esm-C_8OcXYf.js";class d{constructor(r,e,w,l){this.segmentStartX=r,this.segmentStartY=e,this.endX=w,this.endY=l,j(r,e,w,l)}get rawPath(){return[...this].map(r=>r.asString).join(" ")}static fromStrings(r){let e=r.join(" ");const w=[];let l;for(;e=e.replace(/^ */,""),e!="";){let a=ut.exec(e);if(a){const M=Y(a[1]),h=Y(a[2]);if(M===void 0||h===void 0)throw console.error(a,M,h,this),new Error("wtf");l&&w.push(l),l=this.M(M,h),e=a[3];continue}if(l){if(a=pt.exec(e),a){const M=Y(a[1]),h=Y(a[2]),g=Y(a[3]),o=Y(a[4]);if(M===void 0||h===void 0||g===void 0||o===void 0)throw console.error(a,M,h,g,o,this),new Error("wtf");l=l.Q(M,h,g,o),e=a[5];continue}if(a=wt.exec(e),a){const M=Y(a[1]),h=Y(a[2]),g=Y(a[3]),o=Y(a[4]),b=Y(a[5]),C=Y(a[6]);if(M===void 0||h===void 0||g===void 0||o===void 0||b===void 0||C===void 0)throw console.error(a,M,h,g,o,b,C,this),new Error("wtf");l=l.C(M,h,g,o,b,C),e=a[7];continue}}throw console.error(e),new Error("wtf")}return l&&w.push(l),w}static M(r,e){return new q(r,e)}H(r){return new Z(this,r)}V(r){return new J(this,r)}L(r,e){return new tt(this,r,e)}Q(r,e,w,l){return new et(this,r,e,w,l)}Q_HV(r,e){return this.Q(r,this.endY,r,e)}Q_VH(r,e){return this.Q(this.endX,e,r,e)}C(r,e,w,l,a,M){return new A(this,r,e,w,l,a,M)}}class q extends d{*[Symbol.iterator](){yield this}translate(r,e){return new q(this.endX+r,this.endY+e)}toCubic(){return this}asString;constructor(r,e){super(r,e,r,e),this.asString=`M ${r},${e}`}}class K extends d{constructor(r,e,w){super(r.segmentStartX,r.segmentStartY,e,w),this.previous=r}*[Symbol.iterator](){yield*this.previous,yield this}get commandStartX(){return this.previous.endX}get commandStartY(){return this.previous.endY}}class Z extends K{translate(r,e){return new Z(this.previous.translate(r,e),this.endX+r)}toCubic(){return new A(this.previous.toCubic(),X(this.commandStartX,this.endX,1/3),this.commandStartY,X(this.commandStartX,this.endX,2/3),this.commandStartY,this.endX,this.commandStartY)}asString;constructor(r,e){super(r,e,r.endY),this.asString=`H ${e}`}}class J extends K{translate(r,e){return new J(this.previous.translate(r,e),this.endY+e)}toCubic(){return new A(this.previous.toCubic(),this.commandStartX,X(this.commandStartY,this.endY,1/3),this.commandStartX,X(this.commandStartY,this.endY,2/3),this.commandStartX,this.endY)}asString;constructor(r,e){super(r,r.endX,e),this.asString=`V ${e}`}}class tt extends K{translate(r,e){return new tt(this.previous.translate(r,e),this.endX+r,this.endY+e)}toCubic(){return new A(this.previous.toCubic(),X(this.commandStartX,this.endX,1/3),X(this.commandStartY,this.endY,1/3),X(this.commandStartX,this.endX,2/3),X(this.commandStartY,this.endY,2/3),this.endX,this.endY)}asString;constructor(r,e,w){super(r,e,w),this.asString=`L ${e},${w}`}}class et extends K{constructor(r,e,w,l,a){j(e,w),super(r,l,a),this.x1=e,this.y1=w,this.asString=`Q ${e},${w} ${l},${a}`}translate(r,e){return new et(this.previous.translate(r,e),this.x1+r,this.y1+e,this.endX+r,this.endY+e)}toCubic(){return new A(this.previous.toCubic(),X(this.commandStartX,this.x1,2/3),X(this.commandStartY,this.y1,2/3),X(this.endX,this.x1,2/3),X(this.endY,this.y1,2/3),this.endX,this.endY)}asString}class A extends K{constructor(r,e,w,l,a,M,h){j(e,l,w,a),super(r,M,h),this.x1=e,this.y1=w,this.x2=l,this.y2=a,this.x3=M,this.y3=h,this.asString=`C ${e},${w} ${l},${a} ${M},${h}`}translate(r,e){return new A(this.previous.translate(r,e),this.x1+r,this.y1+e,this.x2+r,this.y2+e,this.x3+r,this.y3+e)}toCubic(){const r=this.previous.toCubic();return r==this.previous?this:new A(r,this.x1,this.y1,this.x2,this.y2,this.x3,this.y3)}asString}const nt=" *",F="(-?[0-9]+.?[0-9]*)",W=" *[, ] *",ut=new RegExp(`^M${nt}${F}${W}${F}(.*)$`),pt=new RegExp(`^Q${nt}${F}${W}${F}${W}${F}${W}${F}(.*)$`),wt=new RegExp(`^C${nt}${F}${W}${F}${W}${F}${W}${F}${W}${F}${W}${F}(.*)$`);class m{matchForMorph(r){}segments;get endX(){return this.segments.at(-1)?.endX}get endY(){return this.segments.at(-1)?.endY}get startX(){return this.segments.at(-1)?.segmentStartX}get startY(){return this.segments.at(-1)?.segmentStartY}static fromStrings(r){const e=d.fromStrings(r);return new this(e)}constructor(r){this.segments=[...r]}static cssifyPath(r){return`path('${r}')`}get cssPath(){return m.cssifyPath(this.rawPath)}makeElement(){const r=document.createElementNS("http://www.w3.org/2000/svg","path"),e=this.cssPath;if(r.style.d=e,r.style.d=="")throw console.error(e,r),new Error("wtf");return r}get rawPath(){return this.segments.map(r=>r.rawPath).join(" ")}get cssPaths(){return this.splitOnMove().map(r=>r.cssPath)}get rawPaths(){return this.splitOnMove().map(r=>r.rawPath)}splitOnMove(){return[...this.segments].map(r=>new m([r]))}static join(r){return new m(r.flatMap(({Δx:e,Δy:w,shape:l})=>l.translate(e,w).segments))}convertToCubics(){return new m(this.segments.map(r=>r.toCubic()))}translate(r,e){return new m(this.segments.map(w=>w.translate(r,e)))}}class at{constructor(r,e=r/10){if(this.fontSize=r,this.strokeWidth=e,r<=0||!isFinite(r))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class st{constructor(r,e,w){this.advance=e,this.fontMetrics=w,r instanceof m?this.#t=()=>r:this.#t=r}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(r=>({innerShape:r,element:r.makeElement()}))}}function N(y){const r=new Map;typeof y=="number"&&(y=new at(y));const e=(t,s,n)=>{const i=new st(s,n,y);if(r.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...r].at(-1)[0]}"`);r.set(t,i)},{aWidth:w,digitWidth:l,capitalTop:a,capitalTopMiddle:M,capitalMiddle:h,capitalBottomMiddle:g,baseline:o,descender:b,strokeWidth:C}=y,c=0;{const t=l,n=t/2,i=t;{const u=(b-o)*2,v=b,x=v-u,V=a-u/4,p=V+u;if(u<=0||v<=x||x<=p||p<=V)throw new Error("wtf");const f=l*.5;{const Q=new m([d.M(f,V).Q_HV(0,p).V(x).Q_VH(f,v)]);e("(",Q,f)}{const Q=l*.5,L=new m([d.M(0,V).Q_HV(Q,p).V(x).Q_VH(0,v)]);e(")",L,Q)}{const Q=new m([d.M(f,V).H(0).V(v).H(f)]);e("[",Q,f)}{const Q=new m([d.M(0,V).H(f).V(v).H(0)]);e("]",Q,f)}}{const u=new m([d.M(n,a).Q(i,a,i,M).L(i,g).Q(i,o,n,o).Q(c,o,c,g).L(c,M).Q(c,a,n,a),d.M(i,M).L(c,g)]);e("0",u,t)}{const u=new m([d.M(c,M).Q(n,M,n,a).L(n,o),d.M(c,o).L(i,o)]);e("1",u,t)}{const u=new m([d.M(c,M).Q_VH(n,a).Q_HV(i,M).Q_VH(n,h).Q_HV(c,o).L(i,o)]);e("2",u,t)}{const u=new m([d.M(c,M).Q_VH(n,a).Q_HV(i,M).Q_VH(n,h).Q_HV(i,g).Q_VH(n,o).Q_HV(c,g)]);e("3",u,t)}{const u=(n+i)/2,v=(n+c)/2,x=new m([d.M(i,h).L(c,h).L(v,a),d.M(u,a).L(u,o)]);e("4",x,t)}{const u=c+l/5,v=i-l/5,x=(h+g)/2,V=new m([d.M(v,a).L(u,a).L(c,h).Q_VH(n,M).Q_HV(i,x).Q_VH(n,o).Q_HV(c,g)]);e("5",V,t)}{const u=new m([d.M(i,a).Q_HV(c,g).Q_VH(n,o).Q_HV(i,g).Q_VH(n,h).Q_HV(c,g)]);e("6",u,t)}{const u=new m([d.M(c,a).L(i,a).L(c,o)]);e("7",u,t)}{const u=new m([d.M(n,a).Q(i,a,i,M).Q(i,h,n,h).Q(c,h,c,g).Q(c,o,n,o).Q(i,o,i,g).Q(i,h,n,h).Q(c,h,c,M).Q(c,a,n,a)]);e("8",u,t)}{const u=new m([d.M(i,M).Q(i,a,n,a).Q(c,a,c,M).Q(c,h,n,h).Q(i,h,i,M).Q(i,o,c,o)]);e("9",u,t)}}{const t=new m([d.M(c,o).L(w/2,a).L(y.aWidth,o),d.M(y.aWidth/4,h).L(y.aWidth*.75,h)]);e("A",t,w)}{const t=l,s=M-a;if(s<=0)throw new Error("wtf");const n=(t-s)*(2/3),i=o-g;if(i<=0)throw new Error("wtf");const u=t-i,v=new m([d.M(c,a).L(c,o).L(u,o),d.M(Math.max(u,n),h).L(c,h),d.M(c,a).L(n,a).Q(n+s,a,n+s,a+s).Q(n+s,h,n,h),d.M(u,h).Q(u+i,h,u+i,o-i).Q(u+i,o,u,o)]);e("B",v,t)}{const t=l,n=t/2,i=t,u=new m([d.M(i,M).Q(i,a,n,a).Q(c,a,c,M).L(c,g).Q(c,o,n,o).Q(i,o,i,g)]);e("C",u,t)}{const t=l,n=t/2,i=t,u=new m([d.M(c,a).L(c,o).L(n,o).Q(i,o,i,g).L(i,M).Q(i,a,n,a).L(c,a)]);e("D",u,t)}{const t=l,s=t*(2/3),n=t,i=new m([d.M(n,a).L(c,a).L(c,o).L(n,o),d.M(s,h).L(c,h)]);e("E",i,t)}{const t=l,s=t*(2/3),n=t,i=new m([d.M(n,a).L(c,a).L(c,o),d.M(s,h).L(c,h)]);e("F",i,t)}{const t=l,n=t/2,i=t,u=new m([d.M(i,M).Q(i,a,n,a).Q(c,a,c,M).L(c,g).Q(c,o,n,o).Q(i,o,i,g).L(i,h).L(n,h)]);e("G",u,t)}{const t=l,s=t,n=new m([d.M(c,a).L(c,o),d.M(s,a).L(s,o),d.M(c,h).L(s,h)]);e("H",n,t)}{const t=y.mHeight/3,s=t/2,n=t,i=new m([d.M(c,a).L(n,a),d.M(c,o).L(n,o),d.M(s,a).L(s,o)]);e("I",i,t)}{const t=l*.85,n=t/2,i=t,u=new m([d.M(i,a).L(i,g).Q(i,o,n,o).Q(c,o,c,g)]);e("J",u,t)}{const t=l+C,s=(a+o)/2,n=new m([d.M(c,a).L(c,o),d.M(t,a).L(c+.5,s).L(t,o)]);e("K",n,t)}{const t=l,s=new m([d.M(c,a).L(c,o).L(t,o)]);e("L",s,t)}{const t=l*1.5,s=t/2,n=new m([d.M(c,o).L(c,a).L(s,h).L(t,a).L(t,o)]);e("M",n,t)}{const t=l*1.2,s=new m([d.M(c,o).L(c,a).L(t,o).L(t,a)]);e("N",s,t)}{const t=l*1.5,s=t/2,n=(a+o)/2,i=new m([d.M(s,a).Q_HV(t,n).Q_VH(s,o).Q_HV(c,n).Q_VH(s,a)]);e("O",i,t)}{const t=l,s=h-M;if(s<=0)throw new Error("wtf");const n=t-s,i=new m([d.M(c,a).L(c,o),d.M(c,a).L(n,a).Q_HV(t,M).Q_VH(n,h).L(c,h)]);e("P",i,t)}{const t=l*1.5,s=t/2,n=(a+o)/2,i=new m([d.M(s,a).Q_HV(t,n).Q_VH(s,o).Q_HV(c,n).Q_VH(s,a),d.M(t-s*.75,o-s*.75).L(t+s/6,o+s/6)]);e("Q",i,t)}{const t=l,s=h-M;if(s<=0)throw new Error("wtf");const n=t-s,i=new m([d.M(c,a).L(c,o),d.M(c,a).L(n,a).Q_HV(t,M).Q_VH(n,h).L(c,h),d.M(n,h).L(t,o)]);e("R",i,t)}{const t=l,s=l/2,n=l,i=new m([d.M(n,M).Q_VH(s,a).Q_HV(c,M).Q_VH(s,h).Q_HV(n,g).Q_VH(s,o).Q_HV(c,g)]);e("S",i,t)}{const t=l,s=t/2,n=new m([d.M(s,a).L(s,o),d.M(t,a).L(c,a)]);e("T",n,t)}{const t=(g+h)/2,s=Math.abs(t-o)*.85,n=s*2,i=new m([d.M(c,a).V(t).Q_VH(s,o).Q_HV(n,t).V(a)]);e("U",i,n)}{const t=w,s=t/2,n=new m([d.M(c,a).L(s,o).L(t,a)]);e("V",n,t)}{const t=w*1.5,s=t/3,n=t/2,i=s*2,u=new m([d.M(c,a).L(s,o).L(n,h).L(i,o).L(t,a)]);e("W",u,t)}{const t=l,s=new m([d.M(t,a).L(c,o),d.M(c,a).L(t,o)]);e("X",s,t)}{const t=C,s=l+t,n=new m([d.M(s,a).L(t,o),d.M(c,a).L(s/2,h)]);e("Y",n,s)}{const t=l,s=new m([d.M(c,a).H(t).L(c,o).H(t)]);e("Z",s,t)}{const t=l,s=C/2,n=t+s,i=t/2,u=new m([d.M(i,h).Q_HV(c,g).Q_VH(i,o).Q_HV(t,g).Q_VH(i,h),d.M(n,h).L(n,o)]);e("a",u,n)}{const t=l,s=C/2,n=t+s,i=s,u=s+t/2,v=n,x=new m([d.M(c,a).V(o),d.M(i,g).Q_VH(u,o).Q_HV(v,g).Q_VH(u,h).Q_HV(i,g)]);e("b",x,n)}{const t=l*.875,s=0,n=l/2,i=t,u=(h+g)/2,v=(g+o)/2,x=new m([d.M(i,u).Q_VH(n,h).Q_HV(s,g).Q_VH(n,o).Q_HV(i,v)]);e("c",x,t)}{const t=l,s=C/2,n=t+s,i=t/2,u=new m([d.M(i,h).Q_HV(c,g).Q_VH(i,o).Q_HV(t,g).Q_VH(i,h),d.M(n,a).L(n,o)]);e("d",u,n)}const O=l/8;{const t=l,s=l/2,n=t,i=n-O,u=new m([d.M(c,g).H(n).Q_VH(s,h).Q_HV(c,g).Q_VH(s,o).H(i)]);e("e",u,t)}{const t=l*.75,s=t/2,n=t,i=new m([d.M(n,a).Q_HV(s,M).V(o),d.M(n,h).H(c)]);e("f",i,t)}{const t=l,s=C/2,n=t+s,i=t/2,u=new m([d.M(i,h).Q_HV(c,g).Q_VH(i,o).Q_HV(t,g).Q_VH(i,h),d.M(n,h).V(o).Q_VH(i,b).H(c+O)]);e("g",u,n)}{const t=l*.85,s=t/2,n=new m([d.M(c,a).V(o).Q_VH(s,h).Q_HV(t,g).V(o)]);e("h",n,t)}const $=C/4;{const s=new m([d.M(c,h).V(o),d.M(c,M).V(M-$)]);e("i",s,0)}{const t=Math.abs(o-b),s=t/2,n=new m([d.M(t,h).V(o).Q_VH(s,b).Q_HV(c,o),d.M(t,M).V(M-$)]);e("j",n,t)}{const s=new m([d.M(c,o).V(o-$)]);e(".",s,0)}{const s=(b-o)/2,n=s/2,i=new m([d.M(c,o-$).V(o).Q_VH(-n,o+s)]);e(",",i,0)}{const s=(g+h)/2,n=new m([d.M(c,o).V(o-$),d.M(c,s+$).V(s)]);e(":",n,0)}{const s=(g+h)/2,n=(b-o)/2,i=n/2,u=new m([d.M(c,o-$).V(o).Q_VH(-i,o+n),d.M(c,s+$).V(s)]);e(";",u,0)}{const t=y.xHeight*2/3,s=l/10,n=t+s,i=new m([d.M(c,a).V(o),d.M(t,h).L(c,h+t),d.M(t/2,o-t).L(n,o)]);e("k",i,n)}{const s=new m([d.M(c,a).V(o)]);e("l",s,0)}{const t=l*1.5,s=t/4,n=t/2,i=t*3/4,u=t,v=new m([d.M(c,h).V(o).Q_VH(s,h).Q_HV(n,g).V(o),d.M(n,g).Q_VH(i,h).Q_HV(u,g).V(o)]);e("m",v,t)}{const t=l*.85,s=t/2,n=new m([d.M(c,h).V(o).Q_VH(s,h).Q_HV(t,g).V(o)]);e("n",n,t)}{const t=l,s=0,n=t/2,i=t,u=new m([d.M(n,h).Q_HV(i,g).Q_VH(n,o).Q_HV(s,g).Q_VH(n,h)]);e("o",u,t)}{const t=l,s=C/2,n=t+s,i=s,u=s+t/2,v=n,x=new m([d.M(c,h).V(b),d.M(i,g).Q_VH(u,h).Q_HV(v,g).Q_VH(u,o).Q_HV(i,g)]);e("p",x,n)}{const t=l,s=t/2,n=t+C/2,i=Math.abs(o-b),u=n+i/2,v=n+i,x=new m([d.M(s,h).Q_HV(c,g).Q_VH(s,o).Q_HV(t,g).Q_VH(s,h),d.M(n,h).V(o).Q_VH(u,b).Q_HV(v,o)]);e("q",x,v)}{const t=l,s=t/2,n=new m([d.M(c,h).V(o).Q_VH(s,h).Q_HV(t,g)]);e("r",n,t)}{const t=y.xHeight*2/3,s=t/2,n=o,i=g,u=h,v=(n+i)/2,x=(i+u)/2,V=(x+u)/2,p=(n+v)/2,f=new m([d.M(t,V).Q_VH(s,u).Q_HV(c,x).Q_VH(s,i).Q_HV(t,v).Q_VH(s,n).Q_HV(c,p)]);e("s",f,t)}{const t=l*.75,s=t/2,n=t,i=new m([d.M(s,M).V(g).Q_VH(n,o),d.M(n,h).H(c)]);e("t",i,t)}{const t=l*.85,s=t/2,n=new m([d.M(c,h).V(g).Q_VH(s,o).Q_HV(t,h).L(t,o)]);e("u",n,t)}{const t=l,s=t/2,n=new m([d.M(c,h).L(s,o).L(t,h)]);e("v",n,t)}{const t=y.xHeight*1.5,s=t/3,n=t/2,i=s*2,u=new m([d.M(c,h).L(s,o).L(n,g).L(i,o).L(t,h)]);e("w",u,t)}{const t=l,s=new m([d.M(t,h).L(c,o),d.M(c,h).L(t,o)]);e("x",s,t)}{const t=l,s=t/2,n=(h+b)/2,i=new m([d.M(t,h).L(c,b),d.M(c,h).L(s,n)]);e("y",i,t)}{const t=l,s=new m([d.M(c,h).H(t).L(c,o).H(t)]);e("z",s,t)}return r}const z=ht("main",SVGSVGElement);function gt(y){const r=new Map;return y.forEach((e,w)=>{const{advance:l,fontMetrics:a}=e,M=e.shape.convertToCubics(),h=new st(M,l,a);r.set(w,h)}),r}function ft(y,r=y*.75){const e=N(y);return N(r).forEach((l,a)=>{const M=a.toLowerCase();M!=a&&e.set(M,l)}),e}function G(y,r){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},w=mt.generator({options:{...e,...r}}),l=new Map;return y.forEach((a,M)=>{const h=()=>{const o=w.path(a.d),C=w.toPaths(o).map(c=>c.d);return m.fromStrings(C)},g=new st(h,a.advance,a.fontMetrics);l.set(M,g)}),l}{let y=function(V){return V.length==1},r=function(V){let f=1/0,Q=-1/0;V.forEach(S=>{const{description:k,baseline:P}=S,{fontMetrics:I}=k;f=Math.min(f,I.top+P),Q=Math.max(Q,I.bottom+P)});const L=f-1,_=Q+1,H=document.createElementNS("http://www.w3.org/2000/svg","rect");return H.x.baseVal.value=0,H.y.baseVal.value=L,H.width.baseVal.value=100,H.height.baseVal.value=_-L,z.insertBefore(H,V[0].element),H};class e{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(p=1){this.baseline+=this.lineHeight*p}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=N(5);getDescription(p){return this.font.get(p)}makeRoom(p){this.x+p.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(p){this.x+=p.advance+p.fontMetrics.defaultKerning}moveToCursor(p){p.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(p,f){this.x+f>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),z.appendChild(p),p.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=f}show1(p){this.makeRoom(p);const f=p.makeElement();z.appendChild(f);const{x:Q,baseline:L}=this;return this.moveToCursor(f),this.advance(p),{element:f,x:Q,baseline:L}}splitAndShow1(p){this.makeRoom(p);const f=p.makeElements();return f.forEach(({element:Q})=>{z.appendChild(Q),this.moveToCursor(Q)}),this.advance(p),f}show(p){const f=new Set,Q=[...p].flatMap(L=>{const _=this.getDescription(L);return _?{...this.show1(_),description:_,char:L}:L==" "?(this.showSpace(),[]):(f.add(L),[])});return f.size>0&&console.warn(f),Q}splitAndShow(p){const f=new Set,Q=[...p].flatMap(L=>{const _=this.getDescription(L);return _?this.splitAndShow1(_):L==" "?(this.showSpace(),[]):(f.add(L),[])});return f.size>0&&console.warn(f),Q}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const w=new e;let l="";w.font.forEach((V,p)=>{y(p)&&(l+=p)}),w.show(l),w.CRLF();{const V=w.show(l);V.forEach(({element:p})=>{p.classList.add("lights")}),r(V).style.fill="black"}w.CRLF();const a=w.splitAndShow(l),M=V=>{if(V==0)return 0;const p=a[V].innerShape,f=a[V-1].innerShape,Q=Math.hypot(f.endX-p.startX,f.endY-p.startY);return j(Q),Q},{totalLength:h,maxLength:g}=a.reduce(({totalLength:V,maxLength:p},{element:f},Q)=>{const L=f.getTotalLength();return j(L),V+=M(Q)+L,p=Math.max(p,L),{totalLength:V,maxLength:p}},{totalLength:0,maxLength:0}),o=Math.ceil(g)+1,b=`0 ${o} ${o} 0`;async function C(){for(;;){let f=0,Q;a.forEach(({element:L},_)=>{const H=L.getTotalLength();f+=M(_);const S=1e3+f/h*2e4;f+=H;const k=H/h*2e4;Q=L.animate([{strokeDasharray:b,strokeDashoffset:1e-5},{strokeDasharray:b,strokeDashoffset:-H}],{delay:S,duration:k,fill:"backwards"})}),await Q.finished,await ot(3e3)}}C(),w.CRLF(),w.font=ft(5,3),w.show("Small  Caps"),w.lineHeight*=1.125;const c=N(new at(6,.5)),O=gt(c),$=[{roughness:.4,title:"Heartbeat"},{roughness:.44,title:"Toggle (snap)"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"Do the Wave"},{roughness:.59,title:"Wavy lights"},{roughness:.64,title:"Blustery day.i"}].map(V=>{const{roughness:p,title:f}=V;return w.font=G(O,{roughness:p}),w.CRLF(),w.show(`${Math.round(p*100)} ${f??"Rough Font"} [4XxYyZ]`)}),t=$[0],s=$[1],n=$[2],i=$[3],u=$[4],v=$[5],x=G(O,{roughness:0});r(u).style.fill="black",u.forEach(({element:V})=>{V.classList.add("lights")}),[u,v].forEach(V=>{V.forEach(p=>{function f(){return Math.random()+.5|0}const Q=3+f()+f()+f(),L=dt(Q,()=>({d:p.description.cssPath}));L.push(L[0]);const _=Q*1e4/3,H=_/8,S=Math.exp(X(Math.log(H),Math.log(_),Math.random()));p.element.animate(L,{duration:S,iterations:1/0})})}),s.forEach(V=>{const p=x.get(V.char).cssPath,f=V.element.style.d,Q=.03,L=[{offset:0,d:f},{offset:Q,d:p},{offset:.5,d:p},{offset:Q+.5,d:f},{offset:1,d:f}];V.element.animate(L,{duration:2e3,iterations:1/0})});{const L=i.length,_=L*3,H=5e3;i.forEach((S,k)=>{const P=x.get(S.char).cssPath,I=S.element.style.d,E=S.element.style.transform,R=E+" scale(1.32)",T={d:P,transform:E},D={d:I,transform:R},B=[{offset:0,...T},{offset:4/_,...D},{offset:6/_,...D},{offset:14/_,...T},{offset:1,...T}];S.element.animate(B,{duration:H,iterationStart:1-k/L,iterations:1/0})})}{const V=n;r(V).style.fill="hwb(190 10% 0% / 1)",V.forEach(p=>{const f=x.get(p.char).cssPath,Q=p.element.style.d,L=1/16,_=15/16,H=14e3,S=[{offset:0,strokeWidth:.5},{offset:L,strokeWidth:.5},{offset:_,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],k=[{offset:0,d:f},{offset:L,d:f,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:_,d:Q},{offset:1,d:Q}],P=[{offset:0,opacity:1},{offset:L,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:_,opacity:0},{offset:1,opacity:0}];p.element.animate(P,{duration:H,iterations:1/0}),p.element.animate(k,{duration:H,iterations:1/0}),p.element.animate(S,{duration:H,iterations:1/0}),p.element.style.stroke="white"})}t.forEach(V=>{const p=x.get(V.char).cssPath,f=V.element.style.d,Q=750,L="cubic-bezier(.55,0,1,.55)";V.element.animate([{offset:0,d:p,easing:L},{offset:.5,d:f,easing:L},{offset:1,d:p}],{duration:Q,iterations:1/0})});{w.CRLF();const V=.25,p=1.5,f="The more I drink the more I want to tell you what I really think about you.",Q=lt(0,V,f.length-1,p),L=[...f].flatMap((E,R)=>(w.font=G(O,{roughness:Q(R)}),w.splitAndShow(E))),_=E=>{if(E==0)return 0;const R=L[E].innerShape,T=L[E-1].innerShape,D=Math.hypot(T.endX-R.startX,T.endY-R.startY);return j(D),D},{totalLength:H,maxLength:S}=L.reduce(({totalLength:E,maxLength:R},{element:T},D)=>{const B=T.getTotalLength();return E+=_(D)+B,R=Math.max(R,B),{totalLength:E,maxLength:R}},{totalLength:0,maxLength:0}),k=Math.ceil(S)+1,P=`0 ${k} ${k} 0`;async function I(){for(;;){let T=0,D;L.forEach(({element:B},ct)=>{const U=B.getTotalLength();T+=_(ct);const it=1e3+T/H*3e4;T+=U;const rt=U/H*3e4;D=B.animate([{strokeDasharray:P,strokeDashoffset:1e-5},{strokeDasharray:P,strokeDashoffset:-U}],{delay:it,duration:rt,fill:"backwards"})}),await D.finished,await ot(3e3)}}I()}{let V=function(H){let S=0;const k=0,P=H.map(({shape:I,advance:E,fontMetrics:R})=>{const T={Δx:S,Δy:k,shape:I};return S+=E+R.defaultKerning,T});return{shape:m.join(P),advance:S}};w.font=c,w.CRLF();const p=[w.show("Stop "),w.show("Go")];console.log(p.map(H=>H.map(S=>[...S.element.style.d].filter(k=>k.toLowerCase()!=k)).flat().join("")));const f=V(p[0].map(({description:H})=>H)),Q=V(p[1].map(({description:H})=>H));w.CRLF();const L=f.shape.makeElement();w.showAndAdvance(L,f.advance),w.showSpace();const _=Q.shape.makeElement();w.showAndAdvance(_,Q.advance)}w.x>w.rightMargin&&w.CRLF(),z.viewBox.baseVal.height=w.baseline+w.font.get("0").fontMetrics.bottom}
