import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as d}from"./client-misc-ZHNZ3-cL.js";import{s as L,R as M,m as H,b as f}from"./utility-D-kBkb6L.js";import{m}from"./misc-wGF4FraP.js";import{P as C}from"./path-shape-ZNbOYjhy.js";import{T as F}from"./letters-more-DkNc7UGy.js";import{m as R}from"./rough-lib-PI00gaPW.js";import{H as D}from"./handwriting-effect-2FjZRqWW.js";import"./letters-base-DU8plAKw.js";import"./math-to-path-BjxPr1Cw.js";const k=d.getById("tau",SVGPathElement),w=k.getTotalLength(),x=(()=>{const t=d.getById("main-handwriting",SVGUseElement);t.style.strokeDasharray=`0, ${w+1}, ${w+1},0`;const e=m.makeLinear(0,0,1,-w);function n(o){f(o),t.style.display="",t.style.strokeDashoffset=e(o).toFixed(6)}function s(){t.style.display="none"}return{show:n,hide:s}})(),g=d.getById("dance",SVGGElement),h=4,b=L("#dance line",SVGLineElement,h,h),I=L("#dance circle",SVGCircleElement,h,h),p=L("#dance .main-path",SVGPathElement,1,1)[0],G=(()=>{const t=C.fromString(k.getAttribute("d")),n=["[865414075,46,1165012143,288037704]","[888652358,42,1959707975,1083510000]","[888761724,43,1169051802,-2117776296]"].map(a=>{const c=M.create(a),l=R(t,25,c);if(l.after.commands.length!=t.commands.length)throw new Error("wtf");return l}),s=n[0].before.cssPath,o=n.map(a=>a.after.cssPath),i=p.animate([{offset:0,d:s},{offset:.1,d:s},{offset:.2,d:o[0]},{offset:.4,d:o[0]},{offset:.5,d:s},{offset:.7,d:o[1]},{offset:.9,d:o[2]},{offset:1,d:s}],{duration:1,fill:"both"});return i.pause(),i})(),T=(()=>{function t(n){f(n),g.style.display="",b.forEach(o=>o.style.display="none"),G.currentTime=0,m.initializedArray(h,o=>{const i=m.positiveModulo(n*(o+1)/h,1);return p.getPointAtLength(p.getTotalLength()*i)}).forEach((o,i)=>{const a=I[i];a.cx.baseVal.value=o.x,a.cy.baseVal.value=o.y})}function e(){g.style.display=""}return{show:t,hide:e}})(),P=(()=>{function t(n,s){function o(i){f(i),g.style.display="",b.forEach(r=>r.style.display="");const a=m.initializedArray(h,r=>{const c=m.positiveModulo(i+r/h,1);return p.getPointAtLength(p.getTotalLength()*c)});a.forEach((r,c)=>{const l=b[c],u=I[c];l.x1.baseVal.value=u.cx.baseVal.value=r.x,l.y1.baseVal.value=u.cy.baseVal.value=r.y;const y=a[c+1]??a[0];l.x2.baseVal.value=y.x,l.y2.baseVal.value=y.y})}G.currentTime=n,o(n*s%1)}function e(){g.style.display="none"}return{show:t,hide:e}})(),B=3,z=H(1,1,B);function $(t){f(t),x.hide(),T.hide(),P.hide();const e=z(t);switch(e.index){case 0:{x.show(e.t);break}case 1:{T.show(e.t);break}case 2:{P.show(e.t,B);break}default:throw new Error("wtf")}}const E=d.getById("conversation-handwriting",SVGGElement),V=d.getById("thumbnail-text",SVGGElement),N=(()=>{const t=E,e=new D(t),n=new F(40);n.rightMargin=1e3,n.lineHeight*=.87,n.CRLF(),n.baseline+=10;function s(a,r){const c=r=="student"?120:45;n.x=n.leftMargin=c,n.addText(a).forEach(u=>{e.add({baseline:u.baseline,x:u.x,shape:u.description.shape}).forEach(({element:y})=>{y.classList.add(r)})}),n.baseline+=10,n.CRLF()}s("Did you see the latest 3Blue1Brown video?","teacher"),s("Yes.  It looks amazing!","student"),s("Would you like to see something similar with tau instead of pi?","teacher"),s("Of course!","student"),s("I have some real stuff on the way.  I just really â™¡ some of those animations so I had to try them myself.","teacher");const o=m.makeBoundedLinear(.05,0,.8,1);function i(a){e.setProgress(o(a)),f(a)}return i})();function A(t){f(t),$(t),N(t)}{const t=d.getById("time",HTMLInputElement),e=()=>{const n=t.valueAsNumber;A(n)};t.addEventListener("input",e),e()}function S(t){switch(t){case"main":{V.style.display="none",E.style.display="";break}case"thumbnail":{E.style.display="none",V.style.display="";break}default:throw new Error(`unknown scene: ${t}`)}}{let t=function(){const s=e.checked?"thumbnail":"main";S(s)};const e=d.getById("showThumbnail",HTMLInputElement);e.addEventListener("click",t),t()}function O(t){return S(t),document.querySelectorAll("[data-hideBeforeScreenshot]").forEach(e=>{if(!(e instanceof SVGElement||e instanceof HTMLElement))throw new Error("wtf");e.style.display="none"}),{source:"tau.ts",devicePixelRatio,scene:t}}const v=window;v.initScreenCapture=O;v.showFrame=A;v.showScene=S;
