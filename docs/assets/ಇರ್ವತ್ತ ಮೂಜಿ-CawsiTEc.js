import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as D}from"./client-misc-ZHNZ3-cL.js";import{b as h,m as J,c as K,s as W,g as X,t as L,h as k}from"./fourier-shared-Bhi23H_t.js";import{p as Y,P as w}from"./path-shape-n6EbRjvk.js";import{m as b}from"./misc-wGF4FraP.js";import{d as C,g as ee}from"./utility-D2jUDy1w.js";const te=1024,I=D.getById("scaled",SVGGElement),z=D.getById("reference",SVGPathElement),ae=D.getById("samples",SVGPathElement);function M(o,c){if(o>=c)throw new Error("wtf");const S=b.makeLinear(o,0,c,1);function F(f){if(f<=o)return 0;if(f>=c)return 1;const r=S(f);return ee(r)}return F}function ne(o){z.setAttribute("d",o.pathString);const c=Y(z.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),S=c.a;I.style.transform=c.toString(),I.style.setProperty("--path-scale",S.toString());const F=K(o.pathString,te);let f="";F.forEach(([e,a])=>{f+=`M${e},${a}l0,0`}),ae.setAttribute("d",f);const r=W(F),T=X({addTime:6800,pauseTime:200,maxGroupsToDisplay:o.maxGroupsToDisplay,terms:r}),O=e=>8*Math.max(...r.slice(0,e).map(t=>t.frequency))+7,V=T.map(e=>{if(e.addingCircles==0){const a=L(r,e.usingCircles),t=O(e.usingCircles),s=w.parametric(a,t);return()=>s.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&r[0].frequency==0){let a=function(i){return`${n.x*i},${n.y*i}`};const{startTime:t,endTime:s}=e,l=s-t,m=M(t,t+l/2),x=M(t,s),n=k(r[0]);return i=>{const u=x(i),d=a(u),y=m(i),g=a(y);return`M ${d} L ${g}`}}else{const t=.2/Math.max(...r.slice(0,e.usingCircles+e.addingCircles).map(n=>n.frequency)),s=b.makeBoundedLinear(e.startTime,-t,e.endTime,1+t),l=L(r,e.usingCircles),m=L(r,e.addingCircles,e.usingCircles);let x=O(e.usingCircles+e.addingCircles);if(e.usingCircles==0||e.usingCircles==1&&k(r[0])){const n=k(r[0])??{x:0,y:0};return i=>{const u=s(i),d=u-t,y=u+t,g=M(d,y),p=Math.min(1,y);if(p<=0)return`$M${n.x},${n.y} L${n.x},${n.y}`;{let P=function(A){A=A*p;const v=l(A),$=1-g(A);if($==0)return v;{const _=m(A);return{x:v.x+$*_.x,y:v.y+$*_.y}}};const G=Math.ceil(Math.max(x,150)*p);return w.parametric(P,G).rawPath}}}else return n=>{const i=s(n),u=M(i-t,i+t);function d(g){const p=l(g),P=1-u(g);if(P==0)return p;{const G=m(g);return{x:p.x+P*G.x,y:p.y+P*G.y}}}return w.parametric(d,x).rawPath}}}),Q=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,E=e=>{e<0&&(e=0);let a=Q(e);const[,t,s]=/^([0-9]+)\.([0-9]+)$/.exec(a);switch(t.length){case 3:break;case 2:{a=b.FIGURE_SPACE+a;break}case 1:{a=b.FIGURE_SPACE+b.FIGURE_SPACE+a;break}default:throw console.warn({beforeDecimalPoint:t,afterDecimalPoint:s,result:a}),new Error("wtf")}return a+"%"},Z=T.map(e=>({usingAmplitude:E(e.usingAmplitude),addingAmplitude:E(e.addingAmplitude),availableAmplitude:E(e.availableAmplitude)})),q=C("[data-using] [data-circles]",HTMLTableCellElement),H=C("[data-using] [data-amplitude]",HTMLTableCellElement),R=C("[data-adding] [data-circles]",HTMLTableCellElement),B=C("[data-adding] [data-amplitude]",HTMLTableCellElement),N=C("[data-available] [data-circles]",HTMLTableCellElement),U=C("[data-available] [data-amplitude]",HTMLTableCellElement);function j(e){function a(){const n=T.findIndex(({endTime:i})=>e<i);return n==-1?T.length-1:n}const t=a(),s=n=>`${n.toString().padStart(4,b.FIGURE_SPACE)}`,l=T[t];q.innerText=s(l.usingCircles),R.innerText=s(l.addingCircles),N.innerText=s(l.availableCircles),[{value:l.usingCircles,element1:q,element2:H},{value:l.addingCircles,element1:R,element2:B},{value:l.availableCircles,element1:N,element2:U}].forEach(({value:n,element1:i,element2:u})=>{const d=n==0?"0.5":"";i.style.opacity=d,u.style.opacity=d});const m=Z[t];H.innerText=m.usingAmplitude,B.innerText=m.addingAmplitude,U.innerText=m.availableAmplitude;const x=w.cssifyPath(V[t](e));I.style.setProperty("--d",x)}window.showFrame=j}const ie=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,pathString:h.likeShareAndSubscribe,minGoodCircles:10}],["hilbert0",{maxGroupsToDisplay:20,pathString:h.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,pathString:h.hilbert[1],minGoodCircles:13}],["hilbert4",{maxGroupsToDisplay:20,pathString:h.hilbert[4]}],["p0",{maxGroupsToDisplay:20,pathString:h.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,pathString:h.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,pathString:h.peanocurve[2]}],["square",{maxGroupsToDisplay:7,pathString:"M-0.5,-0.667 h 1 v 1 h -1 z"}],["ellipse",{maxGroupsToDisplay:7,pathString:"M1,0 A1,1.25 0 1 1 -1,0 A1,1.25 0 1 1 1,0 z"}],["star7",{maxGroupsToDisplay:8,pathString:J(7,2,"My seed 2025a").rawPath,topText:"Random 7 Pointed Star",bottomText:'makePolygon(7,2, "My seed 2025a")'}]]);ne(ie.get("star7"));setTimeout(()=>{let o=NaN;new D.AnimationLoop(c=>{isNaN(o)&&(o=c);const S=c-o;window.showFrame(S)})},1);
