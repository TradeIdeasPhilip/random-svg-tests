import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as D}from"./client-misc-ZHNZ3-cL.js";import{b,c as J,s as K,g as W,t as v,h as $}from"./fourier-shared-GIP1qG5r.js";import{p as X,P as w}from"./path-shape-n6EbRjvk.js";import{m as F}from"./misc-wGF4FraP.js";import{d as x,g as Y}from"./utility-D2jUDy1w.js";const L=D.getById("scaled",SVGGElement),_=D.getById("reference",SVGPathElement),ee=D.getById("samples",SVGPathElement);function G(r,u){if(r>=u)throw new Error("wtf");const y=F.makeLinear(r,0,u,1);function A(S){if(S<=r)return 0;if(S>=u)return 1;const l=y(S);return Y(l)}return A}function te(r){_.setAttribute("d",r.pathString);const u=X(_.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),y=u.a;L.style.transform=u.toString(),L.style.setProperty("--path-scale",y.toString());const A=J(r.pathString,r.numberOfFourierSamples);let S="";A.forEach(([e,t])=>{S+=`M${e},${t}l0,0`}),ee.setAttribute("d",S);const l=K(A),C=W({addTime:4900,pauseTime:100,maxGroupsToDisplay:r.maxGroupsToDisplay,terms:l}),I=e=>8*Math.max(...l.slice(0,e).map(n=>n.frequency))+7,V=C.map(e=>{if(e.addingCircles==0){const t=v(l,e.usingCircles),n=I(e.usingCircles),a=w.parametric(t,n);return()=>a.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&l[0].frequency==0){let t=function(o){return`${g.x*o},${g.y*o}`};const{startTime:n,endTime:a}=e,s=a-n,d=s*.25,c=s*.5,i=G(n+d,n+d+c),m=G(a-c,a),g=$(l[0]);return o=>{const f=m(o),p=t(f),h=i(o),T=t(h);return`M ${p} L ${T}`}}else{const n=F.makeBoundedLinear(e.startTime,-.05,e.endTime,1.05),a=v(l,e.usingCircles),s=v(l,e.addingCircles,e.usingCircles);let d=I(e.usingCircles+e.addingCircles);if(e.usingCircles==0||e.usingCircles==1&&$(l[0])){const c=$(l[0])??{x:0,y:0};return i=>{const m=n(i),g=m-.05,o=m+.05,f=G(g,o),p=Math.min(1,o);if(p<=0)return`$M${c.x},${c.y} L${c.x},${c.y}`;{let h=function(P){P=P*p;const O=a(P),M=1-f(P);if(M==0)return O;{const q=s(P);return{x:O.x+M*q.x,y:O.y+M*q.y}}};const T=Math.ceil(Math.max(d,150)*p);return w.parametric(h,T).rawPath}}}else return c=>{const i=n(c),m=G(i-.05,i+.05);function g(f){const p=a(f),h=1-m(f);if(h==0)return p;{const T=s(f);return{x:p.x+h*T.x,y:p.y+h*T.y}}}return w.parametric(g,d).rawPath}}}),z=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,E=e=>{e<0&&(e=0);let t=z(e);const[,n,a]=/^([0-9]+)\.([0-9]+)$/.exec(t);switch(n.length){case 3:break;case 2:{t=F.FIGURE_SPACE+t;break}case 1:{t=F.FIGURE_SPACE+F.FIGURE_SPACE+t;break}default:throw console.warn({beforeDecimalPoint:n,afterDecimalPoint:a,result:t}),new Error("wtf")}return t+"%"},Q=C.map(e=>({usingAmplitude:E(e.usingAmplitude),addingAmplitude:E(e.addingAmplitude),availableAmplitude:E(e.availableAmplitude)})),k=x("[data-using] [data-circles]",HTMLTableCellElement),H=x("[data-using] [data-amplitude]",HTMLTableCellElement),B=x("[data-adding] [data-circles]",HTMLTableCellElement),N=x("[data-adding] [data-amplitude]",HTMLTableCellElement),R=x("[data-available] [data-circles]",HTMLTableCellElement),U=x("[data-available] [data-amplitude]",HTMLTableCellElement);function Z(e){function t(){const i=C.findIndex(({endTime:m})=>e<m);return i==-1?C.length-1:i}const n=t(),a=i=>`${i.toString().padStart(4,F.FIGURE_SPACE)}`,s=C[n];k.innerText=a(s.usingCircles),B.innerText=a(s.addingCircles),R.innerText=a(s.availableCircles),[{value:s.usingCircles,element1:k,element2:H},{value:s.addingCircles,element1:B,element2:N},{value:s.availableCircles,element1:R,element2:U}].forEach(({value:i,element1:m,element2:g})=>{const o=i==0?"0.5":"";m.style.opacity=o,g.style.opacity=o});const d=Q[n];H.innerText=d.usingAmplitude,N.innerText=d.addingAmplitude,U.innerText=d.availableAmplitude;const c=w.cssifyPath(V[n](e));L.style.setProperty("--d",c)}window.showFrame=Z}const ne=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,numberOfFourierSamples:1024,pathString:b.likeShareAndSubscribe}],["hilbert0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.hilbert[1]}],["hilbert4",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.hilbert[4]}],["p0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:b.peanocurve[2]}]]);te(ne.get("hilbert1"));setTimeout(()=>{let r=NaN;new D.AnimationLoop(u=>{isNaN(r)&&(r=u);const y=u-r;window.showFrame(y)})},1);
