import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as d,m as c}from"./client-misc-CqK8Npau.js";import{s as L,m as P,a as h}from"./utility-CcMiQaH1.js";import{T as F}from"./letters-more-1pdnNBp8.js";import"./path-shape-BXOkZTxi.js";const g=d("tau",SVGPathElement),u=g.getTotalLength(),w=(()=>{const n=d("main-handwriting",SVGUseElement);n.style.strokeDasharray=`0, ${u+1}, ${u+1},0`;const e=c.makeLinear(0,0,1,-u);function s(t){h(t),n.style.display="",n.style.strokeDashoffset=e(t).toFixed(6)}function i(){n.style.display="none"}return{show:s,hide:i}})(),p=d("dance",SVGGElement),l=4,f=L("#dance line",SVGLineElement,l,l),x=L("#dance circle",SVGCircleElement,l,l),b=(()=>{function n(s){h(s),p.style.display="",f.forEach(t=>t.style.display="none"),c.initializedArray(l,t=>{const o=c.positiveModulo(s*(t+1)/l,1);return g.getPointAtLength(u*o)}).forEach((t,o)=>{const a=x[o];a.cx.baseVal.value=t.x,a.cy.baseVal.value=t.y})}function e(){p.style.display=""}return{show:n,hide:e}})(),v=(()=>{function n(s){h(s),p.style.display="",f.forEach(t=>t.style.display="");const i=c.initializedArray(l,t=>{const o=c.positiveModulo(s+t/l,1);return g.getPointAtLength(u*o)});i.forEach((t,o)=>{const a=f[o],r=x[o];a.x1.baseVal.value=r.cx.baseVal.value=t.x,a.y1.baseVal.value=r.cy.baseVal.value=t.y;const y=i[o+1]??i[0];a.x2.baseVal.value=y.x,a.y2.baseVal.value=y.y})}function e(){p.style.display="none"}return{show:n,hide:e}})(),E=3,S=P(1,1,E);function k(n){h(n),w.hide(),b.hide(),v.hide();const e=S(n);switch(e.index){case 0:{w.show(e.t);break}case 1:{b.show(e.t);break}case 2:{const s=e.t*E%1;v.show(s);break}default:throw new Error("wtf")}}class T{constructor(e){this.parent=e}weight=1;soFar=.01;add(e){const s=e.shape.splitOnMove().map(i=>{const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",i.rawPath),t.style.transform=`translate(${e.x}px, ${e.baseline}px)`,this.parent.appendChild(t);const o=this.soFar,a=t.getTotalLength(),r=o+a;return this.soFar=r,t.style.setProperty("--offset",o.toString()),t.style.setProperty("--length",a.toString()),{element:t,before:o,length:a,after:r}});return this.updateTotalLength(),s}updateTotalLength(){const e=this.soFar;this.parent.style.setProperty("--total-length",e.toString())}}const I=(()=>{const n=d("conversation-handwriting",SVGGElement),e=new T(n),s=new F(40);s.rightMargin=1e3,s.CRLF(),s.baseline+=10;function i(a,r){const y=r=="student"?120:45;s.x=s.leftMargin=y,s.addText(a).forEach(m=>{e.add({baseline:m.baseline,x:m.x,shape:m.description.shape}).forEach(({element:V})=>{V.classList.add(r)})}),s.baseline+=10,s.CRLF()}i("Did you see the latest 3Blue1Brown video?","teacher"),i("Yes.  It looks amazing!","student"),i("Would you like to see something similar with tau instead of pi?","teacher"),i("Of course!","student"),i("I have some real stuff on the way.  I just really â™¡ some of those animations so I had to try them myself.","teacher");const t=c.makeBoundedLinear(.05,0,.8,1);function o(a){n.style.setProperty("--t",t(a).toFixed(6)),h(a)}return o})();function G(n){h(n),k(n),I(n)}{const n=d("time",HTMLInputElement),e=()=>{const s=n.valueAsNumber;G(s)};n.addEventListener("input",e),e()}
