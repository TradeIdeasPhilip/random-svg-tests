import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as C,g as P,i as T,s as I}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as b}from"./utility-D2LlNOtt.js";import{a as O}from"./rough.esm-C_8OcXYf.js";function k(...L){L.forEach(l=>{if(!isFinite(l))throw new Error("wtf")})}const X=" *",E="(-?[0-9]+.?[0-9]*)",$=" *[, ] *",D=new RegExp(`^M${X}${E}${$}${E}(.*)$`),z=new RegExp(`^Q${X}${E}${$}${E}${$}${E}${$}${E}(.*)$`),A=new RegExp(`^C${X}${E}${$}${E}${$}${E}${$}${E}${$}${E}${$}${E}(.*)$`);class p{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(l,s){return new this().M(l,s)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...l){const s=new this;return l.forEach(V=>s.fromString(V)),s.checkInvariants(),s}fromString(l){for(;l=l.replace(/^ */,""),l!="";){let s=D.exec(l);if(s){const V=C(s[1]),d=C(s[2]);if(V===void 0||d===void 0)throw console.error(s,V,d,this),new Error("wtf");this.M(V,d),l=s[3];continue}if(s=z.exec(l),s){const V=C(s[1]),d=C(s[2]),r=C(s[3]),f=C(s[4]);if(V===void 0||d===void 0||r===void 0||f===void 0)throw console.error(s,V,d,r,f,this),new Error("wtf");this.Q(V,d,r,f),l=s[5];continue}if(s=A.exec(l),s){const V=C(s[1]),d=C(s[2]),r=C(s[3]),f=C(s[4]),i=C(s[5]),Q=C(s[6]);if(V===void 0||d===void 0||r===void 0||f===void 0||i===void 0||Q===void 0)throw console.error(s,V,d,r,f,i,Q,this),new Error("wtf");this.C(V,d,r,f,i,Q),l=s[7];continue}throw console.error(l),new Error("wtf")}return this}constructor(){}M(l,s){k(l,s);function V(r,f,i){r.M(l+f,s+i)}function d(r){r.M(l,s)}return this.#t.push({endX:l,endY:s,asString:`M ${l},${s}`,translate:V,toCubic:d}),this}H(l){k(l);function s(f,i,Q){f.H(l+i)}const V=this.endX,d=this.endY;function r(f){f.C(b(V,l,1/3),d,b(V,l,2/3),d,l,d)}return this.#t.push({endX:l,endY:d,asString:`H ${l}`,translate:s,toCubic:r}),this}V(l){k(l);function s(f,i,Q){f.V(l+Q)}const V=this.endX,d=this.endY;function r(f){f.C(V,b(d,l,1/3),V,b(d,l,2/3),V,l)}return this.#t.push({endX:this.endX,endY:l,asString:`V ${l}`,translate:s,toCubic:r}),this}L(l,s){k(l,s);function V(i,Q,c){i.L(l+Q,s+c)}const d=this.endX,r=this.endY;function f(i){i.C(b(d,l,1/3),b(r,s,1/3),b(d,l,2/3),b(r,s,2/3),l,s)}return this.#t.push({endX:l,endY:s,asString:`L ${l},${s}`,translate:V,toCubic:f}),this}Q(l,s,V,d){k(l,s,V,d);function r(c,_,m){c.Q(l+_,s+m,V+_,d+m)}const f=this.endX,i=this.endY;function Q(c){c.C(b(f,l,2/3),b(i,s,2/3),b(V,l,2/3),b(d,s,2/3),V,d)}return this.#t.push({endX:V,endY:d,asString:`Q ${l},${s} ${V},${d}`,translate:r,toCubic:Q}),this}Q_HV(l,s){return this.Q(l,this.endY,l,s)}Q_VH(l,s){return this.Q(this.endX,s,l,s)}C(l,s,V,d,r,f){k(l,s,V,d,r,f);function i(c,_,m){c.C(l+_,s+m,V+_,d+m,r+_,f+m)}function Q(c){c.C(l,s,V,d,r,f)}return this.#t.push({endX:r,endY:f,asString:`C ${l},${s} ${V},${d} ${r},${f}`,translate:i,toCubic:Q}),this}static cssifyPath(l){return`path('${l}')`}get cssPath(){return p.cssifyPath(this.rawPath)}get rawPath(){return this.#t.map(l=>l.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){const l=[];let s=[];return this.#t.forEach(V=>{V.asString[0]=="M"&&s.length>0&&(l.push(s),s=[]),s.push(V)}),l.push(s),l.map(V=>{const d=new p;return d.#t.push(...V),d})}convertToCubics(){const l=new p;return this.#t.forEach(s=>s.toCubic(l)),l.checkInvariants(),l}translate(l,s){const V=new p;return this.#t.forEach(d=>d.translate(V,l,s)),V.checkInvariants(),V}}class W{constructor(l,s=l/10){if(this.fontSize=l,this.strokeWidth=s,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class y{constructor(l,s,V){this.advance=s,this.fontMetrics=V,l instanceof p?this.#t=()=>l:this.#t=l}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}static makeElement(l){const s=document.createElementNS("http://www.w3.org/2000/svg","path");if(s.style.d=l,s.style.d=="")throw console.error(l,s),new Error("wtf");return s}makeElement(){return y.makeElement(this.cssPath)}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:y.makeElement(l.cssPath)}))}}function x(L){const l=new Map;typeof L=="number"&&(L=new W(L));const s=(t,o,e)=>{const n=new y(o,e,L);if(l.has(t))throw new Error("wtf");l.set(t,n)},{aWidth:V,digitWidth:d,capitalTop:r,capitalTopMiddle:f,capitalMiddle:i,capitalBottomMiddle:Q,baseline:c,descender:_,strokeWidth:m}=L,a=0;{const t=d,e=t/2,n=t;{const h=(_-c)*2,u=_,H=u-h,M=r-h/4,g=M+h;if(h<=0||u<=H||H<=g||g<=M)throw new Error("wtf");const w=d*.5;{const v=p.M(w,M);v.Q_HV(0,g),v.V(H),v.Q_VH(w,u),s("(",v,w)}{const v=d*.5,S=p.M(0,M);S.Q_HV(v,g),S.V(H),S.Q_VH(0,u),s(")",S,v)}{const v=p.M(w,M);v.H(0),v.V(u),v.H(w),s("[",v,w)}{const v=p.M(0,M);v.H(w),v.V(u),v.H(0),s("]",v,w)}}{const h=p.M(e,r).Q(n,r,n,f).L(n,Q).Q(n,c,e,c).Q(a,c,a,Q).L(a,f).Q(a,r,e,r);s("0",h,t)}{const h=p.M(a,f).Q(e,f,e,r).L(e,c).M(a,c).L(n,c);s("1",h,t)}{const h=p.M(a,f).Q_VH(e,r).Q_HV(n,f).Q_VH(e,i).Q_HV(a,c).L(n,c);s("2",h,t)}{const h=p.M(a,f).Q_VH(e,r).Q_HV(n,f).Q_VH(e,Q).Q_HV(a,c).L(n,c);s("2a",h,t)}{const h=p.M(a,f).Q_VH(e,r).Q_HV(n,f).Q_VH(e,i).Q_HV(n,Q).Q_VH(e,c).Q_HV(a,Q);s("3",h,t)}{const h=(e+n)/2,u=(e+a)/2,H=p.M(n,i).L(a,i).L(u,r).M(h,r).L(h,c);s("4",H,t)}{const h=p.M(n,r).L(n,c).M(n,i).L(a,i).Q_HV(e,r);s("4a",h,t)}{const h=p.M(n,r).L(n,c).M(n,i).L(a,i).L(a,r);s("4b",h,t)}{const h=p.M(n,r).L(n,c).M(n,i).L(a,i).L((a+e)/2,r);s("4c",h,t)}{const h=(e+n)/2,u=p.M(h,c).L(h,r).L(a,i).L(n,i);s("4d",u,t)}{const h=a+d/5,u=n-d/5,H=(i+Q)/2,M=p.M(u,r).L(h,r).L(a,i).Q_VH(e,f).Q_HV(n,H).Q_VH(e,c).Q_HV(a,Q);s("5",M,t)}{const h=p.M(n,r).Q_HV(a,Q).Q_VH(e,c).Q_HV(n,Q).Q_VH(e,i).Q_HV(a,Q);s("6",h,t)}{const h=p.M(a,r).L(n,r).L(a,c);s("7",h,t)}{const h=p.M(e,r).Q(n,r,n,f).Q(n,i,e,i).Q(a,i,a,Q).Q(a,c,e,c).Q(n,c,n,Q).Q(n,i,e,i).Q(a,i,a,f).Q(a,r,e,r);s("8",h,t)}{const h=p.M(n,f).Q(n,r,e,r).Q(a,r,a,f).Q(a,i,e,i).Q(n,i,n,f).Q(n,c,a,c);s("9",h,t)}{const h=p.M(n,f).Q(n,r,e,r).Q(a,r,a,f).Q(a,i,e,i).Q(n,i,n,f).L(n,c);s("9a",h,t)}{const h=p.M(n,f).Q(n,r,e,r).Q(a,r,a,f).Q(a,i,e,i).Q(n,i,n,f).L(n,Q).Q(n,c,e,c).Q(a,c,a,Q);s("9b",h,t)}{const h=p.M(n,f).Q(n,r,e,r).Q(a,r,a,f).Q(a,i,e,i).Q(n,i,n,f).Q(n,c,e,c).Q(a,c,a,Q);s("9c",h,t)}}{const t=p.M(a,c).L(V/2,r).L(L.aWidth,c).M(L.aWidth/4,i).L(L.aWidth*.75,i);s("A",t,V)}{const t=d,o=f-r;if(o<=0)throw new Error("wtf");const e=(t-o)*(2/3),n=c-Q;if(n<=0)throw new Error("wtf");const h=t-n,u=p.M(a,r).L(a,c).L(h,c).M(Math.max(h,e),i).L(a,i).M(a,r).L(e,r).Q(e+o,r,e+o,r+o).Q(e+o,i,e,i).M(h,i).Q(h+n,i,h+n,c-n).Q(h+n,c,h,c);s("B",u,t)}{const t=d,e=t/2,n=t,h=p.M(n,f).Q(n,r,e,r).Q(a,r,a,f).L(a,Q).Q(a,c,e,c).Q(n,c,n,Q);s("C",h,t)}{const t=d,e=t/2,n=t,h=p.M(a,r).L(a,c).L(e,c).Q(n,c,n,Q).L(n,f).Q(n,r,e,r).L(a,r);s("D",h,t)}{const t=d,o=t*(2/3),e=t,n=p.M(e,r).L(a,r).L(a,c).L(e,c).M(o,i).L(a,i);s("E",n,t)}{const t=d,o=t*(2/3),e=t,n=p.M(e,r).L(a,r).L(a,c).M(o,i).L(a,i);s("F",n,t)}{const t=d,e=t/2,n=t,h=p.M(n,f).Q(n,r,e,r).Q(a,r,a,f).L(a,Q).Q(a,c,e,c).Q(n,c,n,Q).L(n,i).L(e,i);s("G",h,t)}{const t=d,o=t,e=p.M(a,r).L(a,c).M(o,r).L(o,c).M(a,i).L(o,i);s("H",e,t)}{const t=L.mHeight/3,o=t/2,e=t,n=p.M(a,r).L(e,r).M(a,c).L(e,c).M(o,r).L(o,c);s("I",n,t)}{const t=d*.85,e=t/2,n=t,h=p.M(n,r).L(n,Q).Q(n,c,e,c).Q(a,c,a,Q);s("J",h,t)}{const t=d+m,o=(r+c)/2,e=p.M(a,r).L(a,c).M(t,r).L(a+.5,o).L(t,c);s("K",e,t)}{const t=d,o=p.M(a,r).L(a,c).L(t,c);s("L",o,t)}{const t=d*1.5,o=t/2,e=p.M(a,c).L(a,r).L(o,i).L(t,r).L(t,c);s("M",e,t)}{const t=d*1.2,o=p.M(a,c).L(a,r).L(t,c).L(t,r);s("N",o,t)}{const t=d*1.5,o=t/2,e=(r+c)/2,n=p.M(o,r).Q_HV(t,e).Q_VH(o,c).Q_HV(a,e).Q_VH(o,r);s("O",n,t)}{const t=d,o=i-f;if(o<=0)throw new Error("wtf");const e=t-o,n=p.M(a,r).L(a,c).M(a,r).L(e,r).Q_HV(t,f).Q_VH(e,i).L(a,i);s("P",n,t)}{const t=d*1.5,o=t/2,e=(r+c)/2,n=p.M(o,r).Q_HV(t,e).Q_VH(o,c).Q_HV(a,e).Q_VH(o,r).M(t-o*.75,c-o*.75).L(t+o/6,c+o/6);s("Q",n,t)}{const t=d,o=i-f;if(o<=0)throw new Error("wtf");const e=t-o,n=p.M(a,r).L(a,c).M(a,r).L(e,r).Q_HV(t,f).Q_VH(e,i).L(a,i).M(e,i).L(t,c);s("R",n,t)}{const t=d,o=i-f;if(o<=0)throw new Error("wtf");const e=t-o,n=p.M(a,r).L(a,c).M(a,r).L(e,r).Q_HV(t,f).Q_VH(e,i).L(a,i).L(t,c);s("Ra",n,t)}{const t=d,o=d/2,e=d,n=p.M(e,f).Q_VH(o,r).Q_HV(a,f).Q_VH(o,i).Q_HV(e,Q).Q_VH(o,c).Q_HV(a,Q);s("S",n,t)}{const t=d,o=t/2,e=p.M(o,r).L(o,c).M(t,r).L(a,r);s("T",e,t)}{const t=(Q+i)/2,o=Math.abs(t-c)*.85,e=o*2,n=p.M(a,r).V(t).Q_VH(o,c).Q_HV(e,t).V(r);s("U",n,e)}{const t=V,o=t/2,e=p.M(a,r).L(o,c).L(t,r);s("V",e,t)}{const t=V*1.5,o=t/3,e=t/2,n=o*2,h=p.M(a,r).L(o,c).L(e,i).L(n,c).L(t,r);s("W",h,t)}{const t=d,o=p.M(t,r).L(a,c).M(a,r).L(t,c);s("X",o,t)}{const t=m,o=d+t,e=p.M(o,r).L(t,c).M(a,r).L(o/2,i);s("Y",e,o)}{const t=d,o=p.M(a,r).H(t).L(a,c).H(t);s("Z",o,t)}{const t=d,o=m/2,e=t+o,n=t/2,h=p.M(n,i).Q_HV(a,Q).Q_VH(n,c).Q_HV(t,Q).Q_VH(n,i).M(e,i).L(e,c);s("a",h,e)}{const t=d,o=m/2,e=t+o,n=o,h=o+t/2,u=e,H=p.M(a,r).V(c).M(n,Q).Q_VH(h,c).Q_HV(u,Q).Q_VH(h,i).Q_HV(n,Q);s("b",H,e)}{const t=d*.875,o=0,e=d/2,n=t,h=(i+Q)/2,u=(Q+c)/2,H=p.M(n,h).Q_VH(e,i).Q_HV(o,Q).Q_VH(e,c).Q_HV(n,u);s("c",H,t)}{const t=d,o=0,e=t/2,n=t,h=p.M(n,i).H(e).Q_HV(o,Q).Q_VH(e,c).H(n);s("ca",h,t)}{const t=d*.75,o=0,e=d/2,n=t,h=p.M(n,i).H(e).Q_HV(o,Q).Q_VH(e,c).H(n);s("cb",h,t)}{const t=d*.75,o=0,e=d/2,n=t,h=(i+Q)/2,u=(Q+c)/2,H=p.M(n,h).Q_VH(e,i).Q_HV(o,Q).Q_VH(e,c).Q_HV(n,u);s("cc",H,t)}{const t=d,o=0,e=d/2,n=t,h=(i+Q)/2,u=(Q+c)/2,H=p.M(n,h).Q_VH(e,i).Q_HV(o,Q).Q_VH(e,c).Q_HV(n,u);s("cd",H,t)}{const t=d,o=m/2,e=t+o,n=t/2,h=p.M(n,i).Q_HV(a,Q).Q_VH(n,c).Q_HV(t,Q).Q_VH(n,i).M(e,r).L(e,c);s("d",h,e)}const R=d/8;{const t=d,o=d/2,e=t,n=e-R,h=p.M(a,Q).H(e).Q_VH(o,i).Q_HV(a,Q).Q_VH(o,c).H(n);s("e",h,t)}{const t=d,o=d/2,e=t,n=(Q+c)/2,h=p.M(a,Q).H(e).Q_VH(o,i).Q_HV(a,Q).Q_VH(o,c).Q_HV(e,n);s("ea",h,t)}{const t=d*.75,o=t/2,e=t,n=p.M(e,r).Q_HV(o,f).V(c).M(e,i).H(a);s("f",n,t)}{const t=d,o=m/2,e=t+o,n=t/2,h=p.M(n,i).Q_HV(a,Q).Q_VH(n,c).Q_HV(t,Q).Q_VH(n,i).M(e,i).V(c).Q_VH(n,_).H(a+R);s("g",h,e)}{const t=d*.85,o=t/2,e=p.M(a,r).V(c).Q_VH(o,i).Q_HV(t,Q).V(c);s("h",e,t)}{const o=p.M(a,i).V(c).M(a,f).V(f-m/4);s("i",o,0)}{const t=Math.abs(c-_),o=t/2,e=p.M(t,i).V(c).Q_VH(o,_).Q_HV(a,c).M(t,f).V(f-m/4);s("j",e,t)}{const t=Math.abs(c-_)*1.5,o=t/2,e=p.M(t,i).V(c).Q_VH(o,_).Q_HV(a,c).M(t,f).V(f-m/4);s("ja",e,t)}{const t=L.xHeight*2/3,o=d/10,e=t+o,n=p.M(a,r).V(c).M(t,i).L(a,i+t).M(t/2,c-t).L(e,c);s("k",n,e)}{const o=p.M(a,r).V(c);s("l",o,0)}{const t=d*1.5,o=t/4,e=t/2,n=t*3/4,h=t,u=p.M(a,i).V(c).Q_VH(o,i).Q_HV(e,Q).V(c).M(e,Q).Q_VH(n,i).Q_HV(h,Q).V(c);s("m",u,t)}{const t=d*.85,o=t/2,e=p.M(a,i).V(c).Q_VH(o,i).Q_HV(t,Q).V(c);s("n",e,t)}{const t=d,o=0,e=t/2,n=t,h=p.M(e,i).Q_HV(n,Q).Q_VH(e,c).Q_HV(o,Q).Q_VH(e,i);s("o",h,t)}{const t=d,o=m/2,e=t+o,n=o,h=o+t/2,u=e,H=p.M(a,i).V(_).M(n,Q).Q_VH(h,i).Q_HV(u,Q).Q_VH(h,c).Q_HV(n,Q);s("p",H,e)}{const t=d,o=t/2,e=t+m/2,n=Math.abs(c-_),h=e+n/2,u=e+n,H=p.M(o,i).Q_HV(a,Q).Q_VH(o,c).Q_HV(t,Q).Q_VH(o,i).M(e,i).V(c).Q_VH(h,_).Q_HV(u,c);s("q",H,u)}{const t=d,o=t/2,n=t+m/2,h=p.M(o,i).Q_HV(a,Q).Q_VH(o,c).Q_HV(t,Q).Q_VH(o,i).M(n,i).L(n,_);s("qa",h,n)}{const t=d,o=t/2,e=p.M(a,i).V(c).Q_VH(o,i).Q_HV(t,Q);s("r",e,t)}{const t=d,o=t/2,e=Q,n=Q,h=p.M(a,i).V(c).M(a,e).Q(o,f,t,n);s("re",h,t)}{let t=function(M,g,w){const v=1-w;return M*v+g*w};const o=d,e=o/2,n=t(Q,i,.25),h=t(Q,i,.75),H=p.M(a,i).V(c).M(a,n).Q(t(e,a,.5),i,e,i).Q(t(e,o,.75),i,o,h);s("rd",H,o)}{const t=d,o=t/2,e=(Q+i)/2,n=p.M(a,i).V(c).M(a,Q).Q_VH(o,i).Q_HV(t,e);s("rc",n,t)}{const t=d,o=t/2,e=p.M(a,i).V(c).Q_VH(o,i).Q_HV(t,(Q+i)/2);s("rb",e,t)}{const t=L.xHeight*2/3,o=t/2,e=c,n=Q,h=i,u=(e+n)/2,H=(n+h)/2,M=(H+h)/2,g=(e+u)/2,w=p.M(t,M).Q_VH(o,h).Q_HV(a,H).Q_VH(o,n).Q_HV(t,u).Q_VH(o,e).Q_HV(a,g);s("s",w,t)}{const t=L.xHeight*2/3,o=t/2,e=c,n=Q,h=i,u=(e+n)/2,H=(n+h)/2,M=p.M(t,H).Q_VH(o,h).Q_HV(a,H).Q_VH(o,n).Q_HV(t,u).Q_VH(o,e).Q_HV(a,u);s("sb",M,t)}{const t=L.xHeight*2/3,o=t/2,e=c,n=Q,h=i,u=(e+n)/2,H=(n+h)/2,M=p.M(t-R,h).H(o).Q_HV(a,H).Q_VH(o,n).Q_HV(t,u).Q_VH(o,e).H(R);s("sa",M,t)}{const t=d*.75,o=t/2,e=t,n=p.M(o,f).V(Q).Q_VH(e,c).M(e,i).H(a);s("t",n,t)}{const t=d*.85,o=t/2,e=p.M(a,i).V(Q).Q_VH(o,c).Q_HV(t,i).L(t,c);s("u",e,t)}{const t=d,o=t/2,e=p.M(a,i).L(o,c).L(t,i);s("v",e,t)}{const t=L.xHeight*1.5,o=t/3,e=t/2,n=o*2,h=p.M(a,i).L(o,c).L(e,Q).L(n,c).L(t,i);s("w",h,t)}{const t=d,o=p.M(t,i).L(a,c).M(a,i).L(t,c);s("x",o,t)}{const t=d,o=t/2,e=(i+_)/2,n=p.M(t,i).L(a,_).M(a,i).L(o,e);s("y",n,t)}{const t=d,o=p.M(a,i).H(t).L(a,c).H(t);s("z",o,t)}return l}const F=P("main",SVGSVGElement);function B(L){const l=new Map;return L.forEach((s,V)=>{const{advance:d,fontMetrics:r}=s,f=s.shape.convertToCubics(),i=new y(f,d,r);l.set(V,i)}),l}function K(L,l=L*.75){const s=x(L);return x(l).forEach((d,r)=>{const f=r.toLowerCase();f!=r&&s.set(f,d)}),s}function Y(L,l){const s={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},V=O.generator({options:{...s,...l}}),d=new Map;return L.forEach((r,f)=>{const i=()=>{const c=V.path(r.d),m=V.toPaths(c).map(a=>a.d);return p.fromStrings(...m)},Q=new y(i,r.advance,r.fontMetrics);d.set(f,Q)}),d}{let L=function(e){return e.length==1};class l{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(n=1){this.baseline+=this.lineHeight*n}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=x(5);getDescription(n){return this.font.get(n)}makeRoom(n){this.x+n.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(n){this.x+=n.advance+n.fontMetrics.defaultKerning}show1(n){this.makeRoom(n);const h=n.makeElement();F.appendChild(h);const{x:u,baseline:H}=this;return h.style.transform=`translate(${u}px,${H}px)`,this.advance(n),{element:h,x:u,baseline:H}}splitAndShow1(n){this.makeRoom(n);const h=n.makeElements();return h.forEach(({element:u})=>{F.appendChild(u),u.style.transform=`translate(${this.x}px,${this.baseline}px)`}),this.advance(n),h}show(n){const h=new Set,u=[...n].flatMap(H=>{const M=this.getDescription(H);return M?{...this.show1(M),description:M,char:H}:H==" "?(this.showSpace(),[]):(h.add(H),[])});return h.size>0&&console.warn(h),u}splitAndShow(n){const h=new Set,u=[...n].flatMap(H=>{const M=this.getDescription(H);return M?this.splitAndShow1(M):H==" "?(this.showSpace(),[]):(h.add(H),[])});return h.size>0&&console.warn(h),u}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const s=new l;let V="",d=[];s.font.forEach((e,n)=>{L(n)?V+=n:d.push(e)}),s.show(V),s.CRLF(),d.forEach(e=>{s.show1(e).element.classList.add("historical")}),s.CRLF(),s.show(V).forEach(({element:e})=>{e.classList.add("lights")}),s.CRLF();const r=s.splitAndShow(V),f=e=>{if(e==0)return 0;const n=r[e].innerShape,h=r[e-1].innerShape;return Math.hypot(h.endX-n.startX,h.endY-n.startY)},{totalLength:i,maxLength:Q}=r.reduce(({totalLength:e,maxLength:n},{element:h},u)=>{const H=h.getTotalLength();return e+=f(u)+H,n=Math.max(n,H),{totalLength:e,maxLength:n}},{totalLength:0,maxLength:0}),c=Math.ceil(Q)+1,_=`0 ${c} ${c} 0`;async function m(){for(;;){let h=0,u;r.forEach(({element:H},M)=>{const g=H.getTotalLength();h+=f(M);const w=1e3+h/i*2e4;h+=g;const v=g/i*2e4;u=H.animate([{strokeDasharray:_,strokeDashoffset:1e-5},{strokeDasharray:_,strokeDashoffset:-g}],{delay:w,duration:v,fill:"backwards"})}),await u.finished,await I(3e3)}}m(),s.CRLF(),s.font=K(5),s.show("Small  Caps"),s.lineHeight*=1.125;const a=x(new W(6,.5)),R=B(a),t=[.24,.34,.4,.44,.5,.54,.64].map(e=>(s.font=Y(R,{roughness:e}),s.CRLF(),s.show(`Rough Font ${Math.round(e*100)}  [4XxYyZ]`)));{let e=function(){return Math.random()+.5|0};t[6].forEach(h=>{const u=3+e()+e()+e(),H=T(u,()=>({d:h.description.cssPath}));H.push(H[0]);const M=u*1e4/3,g=M/8,w=Math.exp(b(Math.log(g),Math.log(M),Math.random()));h.element.animate(H,{duration:w,iterations:1/0})})}const o=Y(R,{roughness:0});t[5].forEach(n=>{const h=o.get(n.char).cssPath,u=n.element.style.d,H=.03,M=[{offset:0,d:u},{offset:H,d:h},{offset:.5,d:h},{offset:H+.5,d:u},{offset:1,d:u}];n.element.animate(M,{duration:3e3,iterations:1/0})});{const e=t[4];{const h=e.at(-1),u=h.description.fontMetrics,H=u.top+h.baseline-1,M=u.bottom+h.baseline+1,g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.x.baseVal.value=0,g.y.baseVal.value=H,g.width.baseVal.value=100,g.height.baseVal.value=M-H,g.style.fill="hwb(190 10% 0% / 1)",F.insertBefore(g,e[0].element)}e.forEach(n=>{const h=o.get(n.char).cssPath,u=n.element.style.d,H=1/8,M=7/8,g=14e3,w=[{offset:0,strokeWidth:.5},{offset:H,strokeWidth:.5},{offset:M,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],v=[{offset:0,d:h},{offset:H,d:h,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:M,d:u},{offset:1,d:u}],S=[{offset:0,opacity:1},{offset:H,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:M,opacity:0},{offset:1,opacity:0}];n.element.animate(S,{duration:g,iterations:1/0}),n.element.animate(v,{duration:g,iterations:1/0}),n.element.animate(w,{duration:g,iterations:1/0}),n.element.style.stroke="white"})}}
