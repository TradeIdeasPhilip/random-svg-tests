import{m as a}from"./misc-wGF4FraP.js";function p(n,r){const e=a.angleBetween(n,r);return n+e/2}function w(n,r,e=1,t=1/0,o=document){const s=[];if(o.querySelectorAll(n).forEach(i=>{s.push(a.assertClass(i,r))}),s.length<e||s.length>t)throw new Error(`Expecting "${n}" to return [${e} - ${t}] instances of ${r.name}, found ${s.length}.`);return s}function g(n,r,e=document){return w(n,r,1,1,e)[0]}class d{constructor(){throw new Error("wtf")}static sfc32(r,e,t,o){function s(){r|=0,e|=0,t|=0,o|=0;let c=(r+e|0)+o|0;return o=o+1|0,r=e^e>>>9,e=t+(t<<3)|0,t=t<<21|t>>>11,t=t+c|0,(c>>>0)/4294967296}const i=s;return Object.defineProperty(i,"currentSeed",{get(){return JSON.stringify([r,e,t,o])}}),i}static#t=42;static seedIsValid(r){try{return this.create(r),!0}catch{return!1}}static create(r=this.newSeed()){console.info(r);const e=JSON.parse(r);if(!(e instanceof Array))throw new Error("invalid input");if(e.length!=4)throw new Error("invalid input");const[t,o,s,i]=e;if(!(typeof t=="number"&&typeof o=="number"&&typeof s=="number"&&typeof i=="number"))throw new Error("invalid input");return this.sfc32(t,o,s,i)}static newSeed(){const r=[];return r.push(Date.now()|0),r.push(this.#t++|0),r.push(Math.random()*2**31|0),r.push(performance.now()*1e4|0),JSON.stringify(r)}static fromString(r){try{return this.create(r)}catch{return this.create(this.anyStringToSeed(r))}}static anyStringToSeed(r){function e(s,i){return(s<<i|s>>>32-i)>>>0}const t=[2654435769,608135816,2242054355,320440878];return new TextEncoder().encode(r).forEach(s=>{t[0]^=s,t[0]=e(t[0],3),t[1]^=s,t[1]=e(t[1],5),t[2]^=s,t[2]=e(t[2],7),t[3]^=s,t[3]=e(t[3],11)}),t[0]^=e(t[1],7),t[1]^=e(t[2],11),t[2]^=e(t[3],13),t[3]^=e(t[0],17),JSON.stringify(t)}static test(){const t=[this.create()];for(;t.length<=10;){for(let s=0;s<20;s++){const i=t.map(c=>c());for(let c=1;c<i.length;c++)if(i[c]!==i[0]){debugger;throw new Error("wtf")}}const o=a.pick(t).currentSeed;t.forEach(s=>{if(s.currentSeed!=o){debugger;throw new Error("wtf")}}),t.push(this.create(o))}}}window.Random=d;function u(n){if(!(Number.isFinite(n)&&n>=0&&n<=1))throw new Error(`t should be between 0 and 1, inclusive. t == ${n}`)}function E(...n){n.forEach(t=>{if(!(t>=0&&t<Number.MAX_SAFE_INTEGER))throw new Error("wtf")});const r=a.sum(n);if(r==0)throw new Error("wtf");return t=>{u(t),t*=r;for(let o=0;o<n.length;o++){const s=n[o];if(t<=s)return t/=s,{t,index:o};t-=s}throw new Error("wtf")}}function S(n,r,e){const t=n+r+e,o=a.makeBoundedLinear(n/t,0,(n+r)/t,1);return i=>{u(i);const c=o(i)*r,f=Math.min(c|0,r-1),h=c-f;return u(h),{t:h,index:f}}}function y(n){if(n==null)throw new Error("wtf");return n}function N(n){const r=2/(n+1),e=1-r;return o=>e*o*o+r*o}function l(n,r){return r?l(r,n%r):n}function x(n,r){return n*r/l(n,r)}class M{#t;constructor(r=60){if(a.assertFinite(r),r<1||r!=(r|0))throw new Error("wtf");this.#t=r,this.fromMSF=this.fromMSF.bind(this),this.fromString=this.fromString.bind(this),Object.freeze(this)}get framesPerSecond(){return this.#t}fromMSF(r,e,t){return(r*60+e)*this.#t+t}fromString(r){const e=/^([0-9]+):([0-9]+):([0-9]+)$/.exec(r);if(!e)throw new Error("wtf");const t=a.parseIntX(e[1]),o=a.parseIntX(e[2]),s=a.parseIntX(e[3]);if(t===void 0||o===void 0||s===void 0)throw new Error("wtf");return this.fromMSF(t,o,s)}}function b(n){const r=n*Math.PI;return(1-Math.cos(r))/2}export{M as G,d as R,p as a,u as b,N as c,g as d,S as e,y as f,b as g,x as l,E as m,w as s};
