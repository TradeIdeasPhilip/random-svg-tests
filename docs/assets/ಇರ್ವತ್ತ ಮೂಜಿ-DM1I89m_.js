import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as S}from"./client-misc-ZHNZ3-cL.js";import{b as m,c as q,s as V,g as z,t as P}from"./fourier-shared-CpYRrO4w.js";import{p as Q,P as w}from"./path-shape-n6EbRjvk.js";import{m as d}from"./misc-wGF4FraP.js";import{d as p,g as Z}from"./utility-D2jUDy1w.js";const G=S.getById("scaled",SVGGElement),N=S.getById("reference",SVGPathElement),j=S.getById("samples",SVGPathElement);function J(n,r){if(n>=r)throw new Error("wtf");const T=d.makeLinear(n,0,r,1);function b(c){if(c<=n)return 0;if(c>=r)return 1;const l=T(c);return Z(l)}return b}function K(n){N.setAttribute("d",n.pathString);const r=Q(N.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),T=r.a;G.style.transform=r.toString(),G.style.setProperty("--path-scale",T.toString());const b=q(n.pathString,n.numberOfFourierSamples);let c="";b.forEach(([e,t])=>{c+=`M${e},${t}l0,0`}),j.setAttribute("d",c);const l=V(b),u=z({addTime:4900,pauseTime:1100,maxGroupsToDisplay:n.maxGroupsToDisplay,terms:l}),v=e=>8*Math.max(...l.slice(0,e).map(a=>a.frequency))+7,R=u.map(e=>{if(e.addingCircles==0){const t=P(l,e.usingCircles),a=v(e.usingCircles),o=w.parametric(t,a);return()=>o.rawPath}else{const a=d.makeBoundedLinear(e.startTime,-.05,e.endTime,1.05),o=P(l,e.usingCircles),g=P(l,e.addingCircles,e.usingCircles),s=v(e.usingCircles+e.addingCircles);return f=>{const i=a(f),h=J(i-.05,i+.05);function x(y){const A=o(y),E=1-h(y);if(E==0)return A;{const B=g(y);return{x:A.x+E*B.x,y:A.y+E*B.y}}}return w.parametric(x,s).rawPath}}}),U=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,C=e=>{e<0&&(e=0);let t=U(e);const[,a,o]=/^([0-9]+)\.([0-9]+)$/.exec(t);switch(a.length){case 3:break;case 2:{t=d.FIGURE_SPACE+t;break}case 1:{t=d.FIGURE_SPACE+d.FIGURE_SPACE+t;break}default:throw console.warn({beforeDecimalPoint:a,afterDecimalPoint:o,result:t}),new Error("wtf")}return t+"%"},_=u.map(e=>({usingAmplitude:C(e.usingAmplitude),addingAmplitude:C(e.addingAmplitude),availableAmplitude:C(e.availableAmplitude)})),O=p("[data-using] [data-circles]",HTMLTableCellElement),M=p("[data-using] [data-amplitude]",HTMLTableCellElement),k=p("[data-adding] [data-circles]",HTMLTableCellElement),I=p("[data-adding] [data-amplitude]",HTMLTableCellElement),L=p("[data-available] [data-circles]",HTMLTableCellElement),H=p("[data-available] [data-amplitude]",HTMLTableCellElement);function $(e){function t(){const i=u.findIndex(({endTime:h})=>e<h);return i==-1?u.length-1:i}const a=t(),o=w.cssifyPath(R[a](e));G.style.setProperty("--d",o);const g=i=>`${i.toString().padStart(4,d.FIGURE_SPACE)}`,s=u[a];O.innerText=g(s.usingCircles),k.innerText=g(s.addingCircles),L.innerText=g(s.availableCircles),[{value:s.usingCircles,element1:O,element2:M},{value:s.addingCircles,element1:k,element2:I},{value:s.availableCircles,element1:L,element2:H}].forEach(({value:i,element1:h,element2:x})=>{const F=i==0?"0.5":"";h.style.opacity=F,x.style.opacity=F});const f=_[a];M.innerText=f.usingAmplitude,I.innerText=f.addingAmplitude,H.innerText=f.availableAmplitude}window.showFrame=$}const W=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,numberOfFourierSamples:1024,pathString:m.likeShareAndSubscribe}],["hilbert0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.hilbert[1]}],["hilbert4",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.hilbert[4]}],["p0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.peanocurve[2]}]]);K(W.get("likeShareAndSubscribe"));let D=NaN;new S.AnimationLoop(n=>{isNaN(D)&&(D=n);const r=n-D;window.showFrame(r)});
