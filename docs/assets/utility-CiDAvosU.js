import{m as a}from"./misc-CLGTS8fC.js";function w(n,t,o=1,r=1/0){const e=[];if(document.querySelectorAll(n).forEach(s=>{e.push(a.assertClass(s,t))}),e.length<o||e.length>r)throw new Error(`Expecting "${n}" to return [${o} - ${r}] instances of ${t.name}, found ${e.length}.`);return e}function m(n,t){return w(n,t,1,1)[0]}class d{constructor(){throw new Error("wtf")}static sfc32(t,o,r,e){function s(){t|=0,o|=0,r|=0,e|=0;let c=(t+o|0)+e|0;return e=e+1|0,t=o^o>>>9,o=r+(r<<3)|0,r=r<<21|r>>>11,r=r+c|0,(c>>>0)/4294967296}const i=s;return Object.defineProperty(i,"currentSeed",{get(){return JSON.stringify([t,o,r,e])}}),i}static#t=42;static seedIsValid(t){try{return this.create(t),!0}catch{return!1}}static create(t=this.newSeed()){console.info(t);const o=JSON.parse(t);if(!(o instanceof Array))throw new Error("invalid input");if(o.length!=4)throw new Error("invalid input");const[r,e,s,i]=o;if(!(typeof r=="number"&&typeof e=="number"&&typeof s=="number"&&typeof i=="number"))throw new Error("invalid input");return this.sfc32(r,e,s,i)}static newSeed(){const t=[];return t.push(Date.now()|0),t.push(this.#t++|0),t.push(Math.random()*2**31|0),t.push(performance.now()*1e4|0),JSON.stringify(t)}static test(){const r=[this.create()];for(;r.length<=10;){for(let s=0;s<20;s++){const i=r.map(c=>c());for(let c=1;c<i.length;c++)if(i[c]!==i[0]){debugger;throw new Error("wtf")}}const e=a.pick(r).currentSeed;r.forEach(s=>{if(s.currentSeed!=e){debugger;throw new Error("wtf")}}),r.push(this.create(e))}}}window.Random=d;function u(n){if(!(isFinite(n)&&n>=0&&n<=1))throw new Error(`t should be between 0 and 1, inclusive. t == ${n}`)}function E(...n){n.forEach(r=>{if(!(r>=0&&r<Number.MAX_SAFE_INTEGER))throw new Error("wtf")});const t=a.sum(n);if(t==0)throw new Error("wtf");return r=>{u(r),r*=t;for(let e=0;e<n.length;e++){const s=n[e];if(r<=s)return r/=s,{t:r,index:e};r-=s}throw new Error("wtf")}}function g(n,t,o){const r=n+t+o,e=a.makeBoundedLinear(n/r,0,(n+t)/r,1);return i=>{u(i);const c=e(i)*t,f=Math.min(c|0,t-1),l=c-f;return u(l),{t:l,index:f}}}function y(n){const t=2/(n+1),o=1-t;return e=>o*e*e+t*e}function h(n,t){return t?h(t,n%t):n}function S(n,t){return n*t/h(n,t)}export{d as R,u as a,m as b,y as c,g as d,S as l,E as m,w as s};
