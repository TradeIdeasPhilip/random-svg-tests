import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as D}from"./client-misc-ZHNZ3-cL.js";import{b as h,m as W,c as X,s as Y,g as ee,t as L,h as k}from"./fourier-shared-Bhi23H_t.js";import{p as te,P as G}from"./path-shape-n6EbRjvk.js";import{m as b}from"./misc-wGF4FraP.js";import{d as C,g as ae}from"./utility-D2jUDy1w.js";const ne=1024,q=D.getById("scaled",SVGGElement),V=D.getById("reference",SVGPathElement),ie=D.getById("samples",SVGPathElement);function M(i,o){if(i>=o)throw new Error("wtf");const S=b.makeLinear(i,0,o,1);function A(f){if(f<=i)return 0;if(f>=o)return 1;const l=S(f);return ae(l)}return A}function Q(i){V.setAttribute("d",i.pathString);const o=te(V.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),S=o.a;q.style.transform=o.toString(),q.style.setProperty("--path-scale",S.toString());const A=X(i.pathString,ne);let f="";A.forEach(([e,a])=>{f+=`M${e},${a}l0,0`}),ie.setAttribute("d",f);const l=Y(A),T=ee({addTime:6800,pauseTime:200,maxGroupsToDisplay:i.maxGroupsToDisplay,terms:l}),O=e=>8*Math.max(...l.slice(0,e).map(t=>t.frequency))+7,Z=T.map(e=>{if(e.addingCircles==0){const a=L(l,e.usingCircles),t=O(e.usingCircles),r=G.parametric(a,t);return()=>r.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&l[0].frequency==0){let a=function(s){return`${n.x*s},${n.y*s}`};const{startTime:t,endTime:r}=e,c=r-t,m=M(t,t+c/2),x=M(t,r),n=k(l[0]);return s=>{const u=x(s),d=a(u),y=m(s),g=a(y);return`M ${d} L ${g}`}}else{const t=.2/Math.max(...l.slice(0,e.usingCircles+e.addingCircles).map(n=>n.frequency)),r=b.makeBoundedLinear(e.startTime,-t,e.endTime,1+t),c=L(l,e.usingCircles),m=L(l,e.addingCircles,e.usingCircles);let x=O(e.usingCircles+e.addingCircles);if(e.usingCircles==0||e.usingCircles==1&&k(l[0])){const n=k(l[0])??{x:0,y:0};return s=>{const u=r(s),d=u-t,y=u+t,g=M(d,y),p=Math.min(1,y);if(p<=0)return`$M${n.x},${n.y} L${n.x},${n.y}`;{let P=function(w){w=w*p;const v=c(w),$=1-g(w);if($==0)return v;{const z=m(w);return{x:v.x+$*z.x,y:v.y+$*z.y}}};const F=Math.ceil(Math.max(x,150)*p);return G.parametric(P,F).rawPath}}}else return n=>{const s=r(n),u=M(s-t,s+t);function d(g){const p=c(g),P=1-u(g);if(P==0)return p;{const F=m(g);return{x:p.x+P*F.x,y:p.y+P*F.y}}}return G.parametric(d,x).rawPath}}}),j=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,E=e=>{e<0&&(e=0);let a=j(e);const[,t,r]=/^([0-9]+)\.([0-9]+)$/.exec(a);switch(t.length){case 3:break;case 2:{a=b.FIGURE_SPACE+a;break}case 1:{a=b.FIGURE_SPACE+b.FIGURE_SPACE+a;break}default:throw console.warn({beforeDecimalPoint:t,afterDecimalPoint:r,result:a}),new Error("wtf")}return a+"%"},J=T.map(e=>({usingAmplitude:E(e.usingAmplitude),addingAmplitude:E(e.addingAmplitude),availableAmplitude:E(e.availableAmplitude)})),R=C("[data-using] [data-circles]",HTMLTableCellElement),H=C("[data-using] [data-amplitude]",HTMLTableCellElement),B=C("[data-adding] [data-circles]",HTMLTableCellElement),N=C("[data-adding] [data-amplitude]",HTMLTableCellElement),U=C("[data-available] [data-circles]",HTMLTableCellElement),_=C("[data-available] [data-amplitude]",HTMLTableCellElement);function K(e){function a(){const n=T.findIndex(({endTime:s})=>e<s);return n==-1?T.length-1:n}const t=a(),r=n=>`${n.toString().padStart(4,b.FIGURE_SPACE)}`,c=T[t];R.innerText=r(c.usingCircles),B.innerText=r(c.addingCircles),U.innerText=r(c.availableCircles),[{value:c.usingCircles,element1:R,element2:H},{value:c.addingCircles,element1:B,element2:N},{value:c.availableCircles,element1:U,element2:_}].forEach(({value:n,element1:s,element2:u})=>{const d=n==0?"0.5":"";s.style.opacity=d,u.style.opacity=d});const m=J[t];H.innerText=m.usingAmplitude,N.innerText=m.addingAmplitude,_.innerText=m.availableAmplitude;const x=G.cssifyPath(Z[t](e));q.style.setProperty("--d",x)}window.showFrame=K}const I=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,pathString:h.likeShareAndSubscribe,minGoodCircles:10}],["hilbert0",{maxGroupsToDisplay:20,pathString:h.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,pathString:h.hilbert[1],minGoodCircles:13}],["hilbert4",{maxGroupsToDisplay:20,pathString:h.hilbert[4]}],["p0",{maxGroupsToDisplay:20,pathString:h.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,pathString:h.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,pathString:h.peanocurve[2]}],["square",{maxGroupsToDisplay:7,pathString:"M-0.5,-0.667 h 1 v 1 h -1 z"}],["ellipse",{maxGroupsToDisplay:7,pathString:"M1,0 A1,1.25 0 1 1 -1,0 A1,1.25 0 1 1 1,0 z"}],["star7",{maxGroupsToDisplay:8,pathString:W(7,2,"My seed 2025a").rawPath,topText:"Random 7 Pointed Star",bottomText:'makePolygon(7,2, "My seed 2025a")'}]]);{const i=new URLSearchParams(window.location.search).get("script_name");if(i){const o=I.get(i);if(!o)throw console.log(`invalid script name: ${i}`,I),new Error("wtf");Q(o)}else Q(I.get("star7"))}setTimeout(()=>{let i=NaN;new D.AnimationLoop(o=>{isNaN(i)&&(i=o);const S=o-i;window.showFrame(S)})},1);
