import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as E,g as A,i as K,s as N}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as C}from"./utility-D2LlNOtt.js";import{a as j}from"./rough.esm-C_8OcXYf.js";function R(...g){g.forEach(l=>{if(!isFinite(l))throw new Error("wtf")})}const Y=" *",$="(-?[0-9]+.?[0-9]*)",y=" *[, ] *",q=new RegExp(`^M${Y}${$}${y}${$}(.*)$`),G=new RegExp(`^Q${Y}${$}${y}${$}${y}${$}${y}${$}(.*)$`),U=new RegExp(`^C${Y}${$}${y}${$}${y}${$}${y}${$}${y}${$}${y}${$}(.*)$`);class f{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(l,o){return new this().M(l,o)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...l){const o=new this;return l.forEach(V=>o.fromString(V)),o.checkInvariants(),o}fromString(l){for(;l=l.replace(/^ */,""),l!="";){let o=q.exec(l);if(o){const V=E(o[1]),d=E(o[2]);if(V===void 0||d===void 0)throw console.error(o,V,d,this),new Error("wtf");this.M(V,d),l=o[3];continue}if(o=G.exec(l),o){const V=E(o[1]),d=E(o[2]),i=E(o[3]),u=E(o[4]);if(V===void 0||d===void 0||i===void 0||u===void 0)throw console.error(o,V,d,i,u,this),new Error("wtf");this.Q(V,d,i,u),l=o[5];continue}if(o=U.exec(l),o){const V=E(o[1]),d=E(o[2]),i=E(o[3]),u=E(o[4]),r=E(o[5]),p=E(o[6]);if(V===void 0||d===void 0||i===void 0||u===void 0||r===void 0||p===void 0)throw console.error(o,V,d,i,u,r,p,this),new Error("wtf");this.C(V,d,i,u,r,p),l=o[7];continue}throw console.error(l),new Error("wtf")}return this}constructor(){}M(l,o){R(l,o);function V(i,u,r){i.M(l+u,o+r)}function d(i){i.M(l,o)}return this.#t.push({endX:l,endY:o,asString:`M ${l},${o}`,translate:V,toCubic:d}),this}H(l){R(l);function o(u,r,p){u.H(l+r)}const V=this.endX,d=this.endY;function i(u){u.C(C(V,l,1/3),d,C(V,l,2/3),d,l,d)}return this.#t.push({endX:l,endY:d,asString:`H ${l}`,translate:o,toCubic:i}),this}V(l){R(l);function o(u,r,p){u.V(l+p)}const V=this.endX,d=this.endY;function i(u){u.C(V,C(d,l,1/3),V,C(d,l,2/3),V,l)}return this.#t.push({endX:this.endX,endY:l,asString:`V ${l}`,translate:o,toCubic:i}),this}L(l,o){R(l,o);function V(r,p,c){r.L(l+p,o+c)}const d=this.endX,i=this.endY;function u(r){r.C(C(d,l,1/3),C(i,o,1/3),C(d,l,2/3),C(i,o,2/3),l,o)}return this.#t.push({endX:l,endY:o,asString:`L ${l},${o}`,translate:V,toCubic:u}),this}Q(l,o,V,d){R(l,o,V,d);function i(c,m,_){c.Q(l+m,o+_,V+m,d+_)}const u=this.endX,r=this.endY;function p(c){c.C(C(u,l,2/3),C(r,o,2/3),C(V,l,2/3),C(d,o,2/3),V,d)}return this.#t.push({endX:V,endY:d,asString:`Q ${l},${o} ${V},${d}`,translate:i,toCubic:p}),this}Q_HV(l,o){return this.Q(l,this.endY,l,o)}Q_VH(l,o){return this.Q(this.endX,o,l,o)}C(l,o,V,d,i,u){R(l,o,V,d,i,u);function r(c,m,_){c.C(l+m,o+_,V+m,d+_,i+m,u+_)}function p(c){c.C(l,o,V,d,i,u)}return this.#t.push({endX:i,endY:u,asString:`C ${l},${o} ${V},${d} ${i},${u}`,translate:r,toCubic:p}),this}static cssifyPath(l){return`path('${l}')`}get cssPath(){return f.cssifyPath(this.rawPath)}get rawPath(){return this.#t.map(l=>l.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){const l=[];let o=[];return this.#t.forEach(V=>{V.asString[0]=="M"&&o.length>0&&(l.push(o),o=[]),o.push(V)}),l.push(o),l.map(V=>{const d=new f;return d.#t.push(...V),d})}convertToCubics(){const l=new f;return this.#t.forEach(o=>o.toCubic(l)),l.checkInvariants(),l}translate(l,o){const V=new f;return this.#t.forEach(d=>d.translate(V,l,o)),V.checkInvariants(),V}}class D{constructor(l,o=l/10){if(this.fontSize=l,this.strokeWidth=o,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class x{constructor(l,o,V){this.advance=o,this.fontMetrics=V,l instanceof f?this.#t=()=>l:this.#t=l}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}static makeElement(l){const o=document.createElementNS("http://www.w3.org/2000/svg","path");if(o.style.d=l,o.style.d=="")throw console.error(l,o),new Error("wtf");return o}makeElement(){return x.makeElement(this.cssPath)}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:x.makeElement(l.cssPath)}))}}function F(g){const l=new Map;typeof g=="number"&&(g=new D(g));const o=(t,e,n)=>{const s=new x(e,n,g);if(l.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...l].at(-1)[0]}"`);l.set(t,s)},{aWidth:V,digitWidth:d,capitalTop:i,capitalTopMiddle:u,capitalMiddle:r,capitalBottomMiddle:p,baseline:c,descender:m,strokeWidth:_}=g,a=0;{const t=d,n=t/2,s=t;{const h=(m-c)*2,Q=m,H=Q-h,M=i-h/4,w=M+h;if(h<=0||Q<=H||H<=w||w<=M)throw new Error("wtf");const v=d*.5;{const L=f.M(v,M);L.Q_HV(0,w),L.V(H),L.Q_VH(v,Q),o("(",L,v)}{const L=d*.5,S=f.M(0,M);S.Q_HV(L,w),S.V(H),S.Q_VH(0,Q),o(")",S,L)}{const L=f.M(v,M);L.H(0),L.V(Q),L.H(v),o("[",L,v)}{const L=f.M(0,M);L.H(v),L.V(Q),L.H(0),o("]",L,v)}}{const h=f.M(n,i).Q(s,i,s,u).L(s,p).Q(s,c,n,c).Q(a,c,a,p).L(a,u).Q(a,i,n,i).M(s,u).L(a,p);o("0",h,t)}{const h=f.M(a,u).Q(n,u,n,i).L(n,c).M(a,c).L(s,c);o("1",h,t)}{const h=f.M(a,u).Q_VH(n,i).Q_HV(s,u).Q_VH(n,r).Q_HV(a,c).L(s,c);o("2",h,t)}{const h=f.M(a,u).Q_VH(n,i).Q_HV(s,u).Q_VH(n,p).Q_HV(a,c).L(s,c);o("2a",h,t)}{const h=f.M(a,u).Q_VH(n,i).Q_HV(s,u).Q_VH(n,r).Q_HV(s,p).Q_VH(n,c).Q_HV(a,p);o("3",h,t)}{const h=(n+s)/2,Q=(n+a)/2,H=f.M(s,r).L(a,r).L(Q,i).M(h,i).L(h,c);o("4",H,t)}{const h=f.M(s,i).L(s,c).M(s,r).L(a,r).Q_HV(n,i);o("4a",h,t)}{const h=f.M(s,i).L(s,c).M(s,r).L(a,r).L(a,i);o("4b",h,t)}{const h=f.M(s,i).L(s,c).M(s,r).L(a,r).L((a+n)/2,i);o("4c",h,t)}{const h=(n+s)/2,Q=f.M(h,c).L(h,i).L(a,r).L(s,r);o("4d",Q,t)}{const h=a+d/5,Q=s-d/5,H=(r+p)/2,M=f.M(Q,i).L(h,i).L(a,r).Q_VH(n,u).Q_HV(s,H).Q_VH(n,c).Q_HV(a,p);o("5",M,t)}{const h=f.M(s,i).Q_HV(a,p).Q_VH(n,c).Q_HV(s,p).Q_VH(n,r).Q_HV(a,p);o("6",h,t)}{const h=f.M(a,i).L(s,i).L(a,c);o("7",h,t)}{const h=f.M(n,i).Q(s,i,s,u).Q(s,r,n,r).Q(a,r,a,p).Q(a,c,n,c).Q(s,c,s,p).Q(s,r,n,r).Q(a,r,a,u).Q(a,i,n,i);o("8",h,t)}{const h=f.M(s,u).Q(s,i,n,i).Q(a,i,a,u).Q(a,r,n,r).Q(s,r,s,u).Q(s,c,a,c);o("9",h,t)}{const h=f.M(s,u).Q(s,i,n,i).Q(a,i,a,u).Q(a,r,n,r).Q(s,r,s,u).L(s,c);o("9a",h,t)}{const h=f.M(s,u).Q(s,i,n,i).Q(a,i,a,u).Q(a,r,n,r).Q(s,r,s,u).L(s,p).Q(s,c,n,c).Q(a,c,a,p);o("9b",h,t)}{const h=f.M(s,u).Q(s,i,n,i).Q(a,i,a,u).Q(a,r,n,r).Q(s,r,s,u).Q(s,c,n,c).Q(a,c,a,p);o("9c",h,t)}}{const t=f.M(a,c).L(V/2,i).L(g.aWidth,c).M(g.aWidth/4,r).L(g.aWidth*.75,r);o("A",t,V)}{const t=d,e=u-i;if(e<=0)throw new Error("wtf");const n=(t-e)*(2/3),s=c-p;if(s<=0)throw new Error("wtf");const h=t-s,Q=f.M(a,i).L(a,c).L(h,c).M(Math.max(h,n),r).L(a,r).M(a,i).L(n,i).Q(n+e,i,n+e,i+e).Q(n+e,r,n,r).M(h,r).Q(h+s,r,h+s,c-s).Q(h+s,c,h,c);o("B",Q,t)}{const t=d,n=t/2,s=t,h=f.M(s,u).Q(s,i,n,i).Q(a,i,a,u).L(a,p).Q(a,c,n,c).Q(s,c,s,p);o("C",h,t)}{const t=d,n=t/2,s=t,h=f.M(a,i).L(a,c).L(n,c).Q(s,c,s,p).L(s,u).Q(s,i,n,i).L(a,i);o("D",h,t)}{const t=d,e=t*(2/3),n=t,s=f.M(n,i).L(a,i).L(a,c).L(n,c).M(e,r).L(a,r);o("E",s,t)}{const t=d,e=t*(2/3),n=t,s=f.M(n,i).L(a,i).L(a,c).M(e,r).L(a,r);o("F",s,t)}{const t=d,n=t/2,s=t,h=f.M(s,u).Q(s,i,n,i).Q(a,i,a,u).L(a,p).Q(a,c,n,c).Q(s,c,s,p).L(s,r).L(n,r);o("G",h,t)}{const t=d,e=t,n=f.M(a,i).L(a,c).M(e,i).L(e,c).M(a,r).L(e,r);o("H",n,t)}{const t=g.mHeight/3,e=t/2,n=t,s=f.M(a,i).L(n,i).M(a,c).L(n,c).M(e,i).L(e,c);o("I",s,t)}{const t=d*.85,n=t/2,s=t,h=f.M(s,i).L(s,p).Q(s,c,n,c).Q(a,c,a,p);o("J",h,t)}{const t=d+_,e=(i+c)/2,n=f.M(a,i).L(a,c).M(t,i).L(a+.5,e).L(t,c);o("K",n,t)}{const t=d,e=f.M(a,i).L(a,c).L(t,c);o("L",e,t)}{const t=d*1.5,e=t/2,n=f.M(a,c).L(a,i).L(e,r).L(t,i).L(t,c);o("M",n,t)}{const t=d*1.2,e=f.M(a,c).L(a,i).L(t,c).L(t,i);o("N",e,t)}{const t=d*1.5,e=t/2,n=(i+c)/2,s=f.M(e,i).Q_HV(t,n).Q_VH(e,c).Q_HV(a,n).Q_VH(e,i);o("O",s,t)}{const t=d,e=r-u;if(e<=0)throw new Error("wtf");const n=t-e,s=f.M(a,i).L(a,c).M(a,i).L(n,i).Q_HV(t,u).Q_VH(n,r).L(a,r);o("P",s,t)}{const t=d*1.5,e=t/2,n=(i+c)/2,s=f.M(e,i).Q_HV(t,n).Q_VH(e,c).Q_HV(a,n).Q_VH(e,i).M(t-e*.75,c-e*.75).L(t+e/6,c+e/6);o("Q",s,t)}{const t=d,e=r-u;if(e<=0)throw new Error("wtf");const n=t-e,s=f.M(a,i).L(a,c).M(a,i).L(n,i).Q_HV(t,u).Q_VH(n,r).L(a,r).M(n,r).L(t,c);o("R",s,t)}{const t=d,e=r-u;if(e<=0)throw new Error("wtf");const n=t-e,s=f.M(a,i).L(a,c).M(a,i).L(n,i).Q_HV(t,u).Q_VH(n,r).L(a,r).L(t,c);o("Ra",s,t)}{const t=d,e=d/2,n=d,s=f.M(n,u).Q_VH(e,i).Q_HV(a,u).Q_VH(e,r).Q_HV(n,p).Q_VH(e,c).Q_HV(a,p);o("S",s,t)}{const t=d,e=t/2,n=f.M(e,i).L(e,c).M(t,i).L(a,i);o("T",n,t)}{const t=(p+r)/2,e=Math.abs(t-c)*.85,n=e*2,s=f.M(a,i).V(t).Q_VH(e,c).Q_HV(n,t).V(i);o("U",s,n)}{const t=V,e=t/2,n=f.M(a,i).L(e,c).L(t,i);o("V",n,t)}{const t=V*1.5,e=t/3,n=t/2,s=e*2,h=f.M(a,i).L(e,c).L(n,r).L(s,c).L(t,i);o("W",h,t)}{const t=d,e=f.M(t,i).L(a,c).M(a,i).L(t,c);o("X",e,t)}{const t=_,e=d+t,n=f.M(e,i).L(t,c).M(a,i).L(e/2,r);o("Y",n,e)}{const t=d,e=f.M(a,i).H(t).L(a,c).H(t);o("Z",e,t)}{const t=d,e=_/2,n=t+e,s=t/2,h=f.M(s,r).Q_HV(a,p).Q_VH(s,c).Q_HV(t,p).Q_VH(s,r).M(n,r).L(n,c);o("a",h,n)}{const t=d,e=_/2,n=t+e,s=e,h=e+t/2,Q=n,H=f.M(a,i).V(c).M(s,p).Q_VH(h,c).Q_HV(Q,p).Q_VH(h,r).Q_HV(s,p);o("b",H,n)}{const t=d*.875,e=0,n=d/2,s=t,h=(r+p)/2,Q=(p+c)/2,H=f.M(s,h).Q_VH(n,r).Q_HV(e,p).Q_VH(n,c).Q_HV(s,Q);o("c",H,t)}{const t=d,e=0,n=t/2,s=t,h=f.M(s,r).H(n).Q_HV(e,p).Q_VH(n,c).H(s);o("ca",h,t)}{const t=d*.75,e=0,n=d/2,s=t,h=f.M(s,r).H(n).Q_HV(e,p).Q_VH(n,c).H(s);o("cb",h,t)}{const t=d*.75,e=0,n=d/2,s=t,h=(r+p)/2,Q=(p+c)/2,H=f.M(s,h).Q_VH(n,r).Q_HV(e,p).Q_VH(n,c).Q_HV(s,Q);o("cc",H,t)}{const t=d,e=0,n=d/2,s=t,h=(r+p)/2,Q=(p+c)/2,H=f.M(s,h).Q_VH(n,r).Q_HV(e,p).Q_VH(n,c).Q_HV(s,Q);o("cd",H,t)}{const t=d,e=_/2,n=t+e,s=t/2,h=f.M(s,r).Q_HV(a,p).Q_VH(s,c).Q_HV(t,p).Q_VH(s,r).M(n,i).L(n,c);o("d",h,n)}const k=d/8;{const t=d,e=d/2,n=t,s=n-k,h=f.M(a,p).H(n).Q_VH(e,r).Q_HV(a,p).Q_VH(e,c).H(s);o("e",h,t)}{const t=d,e=d/2,n=t,s=(p+c)/2,h=f.M(a,p).H(n).Q_VH(e,r).Q_HV(a,p).Q_VH(e,c).Q_HV(n,s);o("ea",h,t)}{const t=d*.75,e=t/2,n=t,s=f.M(n,i).Q_HV(e,u).V(c).M(n,r).H(a);o("f",s,t)}{const t=d,e=_/2,n=t+e,s=t/2,h=f.M(s,r).Q_HV(a,p).Q_VH(s,c).Q_HV(t,p).Q_VH(s,r).M(n,r).V(c).Q_VH(s,m).H(a+k);o("g",h,n)}{const t=d*.85,e=t/2,n=f.M(a,i).V(c).Q_VH(e,r).Q_HV(t,p).V(c);o("h",n,t)}const b=_/4;{const e=f.M(a,r).V(c).M(a,u).V(u-b);o("i",e,0)}{const t=Math.abs(c-m),e=t/2,n=f.M(t,r).V(c).Q_VH(e,m).Q_HV(a,c).M(t,u).V(u-b);o("j",n,t)}{const t=Math.abs(c-m)*1.5,e=t/2,n=f.M(t,r).V(c).Q_VH(e,m).Q_HV(a,c).M(t,u).V(u-_/4);o("ja",n,t)}{const e=f.M(a,c).V(c-b);o(".",e,0)}{const e=(m-c)/2,n=e/2,s=f.M(a,c-b).V(c).Q_VH(-n,c+e);o(",",s,0)}{const e=(p+r)/2,n=f.M(a,c).V(c-b).M(a,e+b).V(e);o(":",n,0)}{const e=(p+r)/2,n=(m-c)/2,s=n/2,h=f.M(a,c-b).V(c).Q_VH(-s,c+n).M(a,e+b).V(e);o(";",h,0)}{const t=g.xHeight*2/3,e=d/10,n=t+e,s=f.M(a,i).V(c).M(t,r).L(a,r+t).M(t/2,c-t).L(n,c);o("k",s,n)}{const e=f.M(a,i).V(c);o("l",e,0)}{const t=d*1.5,e=t/4,n=t/2,s=t*3/4,h=t,Q=f.M(a,r).V(c).Q_VH(e,r).Q_HV(n,p).V(c).M(n,p).Q_VH(s,r).Q_HV(h,p).V(c);o("m",Q,t)}{const t=d*.85,e=t/2,n=f.M(a,r).V(c).Q_VH(e,r).Q_HV(t,p).V(c);o("n",n,t)}{const t=d,e=0,n=t/2,s=t,h=f.M(n,r).Q_HV(s,p).Q_VH(n,c).Q_HV(e,p).Q_VH(n,r);o("o",h,t)}{const t=d,e=_/2,n=t+e,s=e,h=e+t/2,Q=n,H=f.M(a,r).V(m).M(s,p).Q_VH(h,r).Q_HV(Q,p).Q_VH(h,c).Q_HV(s,p);o("p",H,n)}{const t=d,e=t/2,n=t+_/2,s=Math.abs(c-m),h=n+s/2,Q=n+s,H=f.M(e,r).Q_HV(a,p).Q_VH(e,c).Q_HV(t,p).Q_VH(e,r).M(n,r).V(c).Q_VH(h,m).Q_HV(Q,c);o("q",H,Q)}{const t=d,e=t/2,s=t+_/2,h=f.M(e,r).Q_HV(a,p).Q_VH(e,c).Q_HV(t,p).Q_VH(e,r).M(s,r).L(s,m);o("qa",h,s)}{const t=d,e=t/2,n=f.M(a,r).V(c).Q_VH(e,r).Q_HV(t,p);o("r",n,t)}{const t=d,e=t/2,n=p,s=p,h=f.M(a,r).V(c).M(a,n).Q(e,u,t,s);o("re",h,t)}{let t=function(M,w,v){const L=1-v;return M*L+w*v};const e=d,n=e/2,s=t(p,r,.25),h=t(p,r,.75),H=f.M(a,r).V(c).M(a,s).Q(t(n,a,.5),r,n,r).Q(t(n,e,.75),r,e,h);o("rd",H,e)}{const t=d,e=t/2,n=(p+r)/2,s=f.M(a,r).V(c).M(a,p).Q_VH(e,r).Q_HV(t,n);o("rc",s,t)}{const t=d,e=t/2,n=f.M(a,r).V(c).Q_VH(e,r).Q_HV(t,(p+r)/2);o("rb",n,t)}{const t=g.xHeight*2/3,e=t/2,n=c,s=p,h=r,Q=(n+s)/2,H=(s+h)/2,M=(H+h)/2,w=(n+Q)/2,v=f.M(t,M).Q_VH(e,h).Q_HV(a,H).Q_VH(e,s).Q_HV(t,Q).Q_VH(e,n).Q_HV(a,w);o("s",v,t)}{const t=g.xHeight*2/3,e=t/2,n=c,s=p,h=r,Q=(n+s)/2,H=(s+h)/2,M=f.M(t,H).Q_VH(e,h).Q_HV(a,H).Q_VH(e,s).Q_HV(t,Q).Q_VH(e,n).Q_HV(a,Q);o("sb",M,t)}{const t=g.xHeight*2/3,e=t/2,n=c,s=p,h=r,Q=(n+s)/2,H=(s+h)/2,M=f.M(t-k,h).H(e).Q_HV(a,H).Q_VH(e,s).Q_HV(t,Q).Q_VH(e,n).H(k);o("sa",M,t)}{const t=d*.75,e=t/2,n=t,s=f.M(e,u).V(p).Q_VH(n,c).M(n,r).H(a);o("t",s,t)}{const t=d*.85,e=t/2,n=f.M(a,r).V(p).Q_VH(e,c).Q_HV(t,r).L(t,c);o("u",n,t)}{const t=d,e=t/2,n=f.M(a,r).L(e,c).L(t,r);o("v",n,t)}{const t=g.xHeight*1.5,e=t/3,n=t/2,s=e*2,h=f.M(a,r).L(e,c).L(n,p).L(s,c).L(t,r);o("w",h,t)}{const t=d,e=f.M(t,r).L(a,c).M(a,r).L(t,c);o("x",e,t)}{const t=d,e=t/2,n=(r+m)/2,s=f.M(t,r).L(a,m).M(a,r).L(e,n);o("y",s,t)}{const t=d,e=f.M(a,r).H(t).L(a,c).H(t);o("z",e,t)}return l}const T=A("main",SVGSVGElement);function Z(g){const l=new Map;return g.forEach((o,V)=>{const{advance:d,fontMetrics:i}=o,u=o.shape.convertToCubics(),r=new x(u,d,i);l.set(V,r)}),l}function J(g,l=g*.75){const o=F(g);return F(l).forEach((d,i)=>{const u=i.toLowerCase();u!=i&&o.set(u,d)}),o}function O(g,l){const o={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},V=j.generator({options:{...o,...l}}),d=new Map;return g.forEach((i,u)=>{const r=()=>{const c=V.path(i.d),_=V.toPaths(c).map(a=>a.d);return f.fromStrings(..._)},p=new x(r,i.advance,i.fontMetrics);d.set(u,p)}),d}{let g=function(e){return e.length==1};class l{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(n=1){this.baseline+=this.lineHeight*n}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=F(5);getDescription(n){return this.font.get(n)}makeRoom(n){this.x+n.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(n){this.x+=n.advance+n.fontMetrics.defaultKerning}show1(n){this.makeRoom(n);const s=n.makeElement();T.appendChild(s);const{x:h,baseline:Q}=this;return s.style.transform=`translate(${h}px,${Q}px)`,this.advance(n),{element:s,x:h,baseline:Q}}splitAndShow1(n){this.makeRoom(n);const s=n.makeElements();return s.forEach(({element:h})=>{T.appendChild(h),h.style.transform=`translate(${this.x}px,${this.baseline}px)`}),this.advance(n),s}show(n){const s=new Set,h=[...n].flatMap(Q=>{const H=this.getDescription(Q);return H?{...this.show1(H),description:H,char:Q}:Q==" "?(this.showSpace(),[]):(s.add(Q),[])});return s.size>0&&console.warn(s),h}splitAndShow(n){const s=new Set,h=[...n].flatMap(Q=>{const H=this.getDescription(Q);return H?this.splitAndShow1(H):Q==" "?(this.showSpace(),[]):(s.add(Q),[])});return s.size>0&&console.warn(s),h}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const o=new l;let V="",d=[];o.font.forEach((e,n)=>{g(n)?V+=n:d.push(e)}),o.show(V),o.CRLF(),d.forEach(e=>{o.show1(e).element.classList.add("historical")}),o.CRLF(),o.show(V).forEach(({element:e})=>{e.classList.add("lights")}),o.CRLF();const i=o.splitAndShow(V),u=e=>{if(e==0)return 0;const n=i[e].innerShape,s=i[e-1].innerShape;return Math.hypot(s.endX-n.startX,s.endY-n.startY)},{totalLength:r,maxLength:p}=i.reduce(({totalLength:e,maxLength:n},{element:s},h)=>{const Q=s.getTotalLength();return e+=u(h)+Q,n=Math.max(n,Q),{totalLength:e,maxLength:n}},{totalLength:0,maxLength:0}),c=Math.ceil(p)+1,m=`0 ${c} ${c} 0`;async function _(){for(;;){let s=0,h;i.forEach(({element:Q},H)=>{const M=Q.getTotalLength();s+=u(H);const w=1e3+s/r*2e4;s+=M;const v=M/r*2e4;h=Q.animate([{strokeDasharray:m,strokeDashoffset:1e-5},{strokeDasharray:m,strokeDashoffset:-M}],{delay:w,duration:v,fill:"backwards"})}),await h.finished,await N(3e3)}}_(),o.CRLF(),o.font=J(5),o.show("Small  Caps"),o.lineHeight*=1.125;const a=F(new D(6,.5)),k=Z(a),b=[{roughness:.24},{roughness:.34},{roughness:.4,title:"Heartbeat"},{roughness:.44,title:"Toggle (snap)"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"Do the Wave"},{roughness:.64,title:"Blustery day"}].map(e=>{const{roughness:n,title:s}=e;return o.font=O(k,{roughness:n}),o.CRLF(),o.show(`${Math.round(n*100)} ${s??"Rough Font"} [4XxYyZ]`)}),t=O(k,{roughness:0});{let e=function(){return Math.random()+.5|0};b[6].forEach(s=>{const h=3+e()+e()+e(),Q=K(h,()=>({d:s.description.cssPath}));Q.push(Q[0]);const H=h*1e4/3,M=H/8,w=Math.exp(C(Math.log(M),Math.log(H),Math.random()));s.element.animate(Q,{duration:w,iterations:1/0})})}b[3].forEach(n=>{const s=t.get(n.char).cssPath,h=n.element.style.d,Q=.03,H=[{offset:0,d:h},{offset:Q,d:s},{offset:.5,d:s},{offset:Q+.5,d:h},{offset:1,d:h}];n.element.animate(H,{duration:2e3,iterations:1/0})});{const e=b[5],n=5,s=1,h=8,Q=3,H=e.length,M=H*Q,w=5e3;e.forEach((v,L)=>{const S=t.get(v.char).cssPath,z=v.element.style.d,X=v.element.style.transform,W=X+" scale(1.32)";console.warn({roughTransform:W,smoothTransform:X});const P={d:S,transform:X},I={d:z,transform:W},B=[{offset:0,...P},{offset:n/M,...I},{offset:(n+s)/M,...I},{offset:(n+s+h)/M,...P},{offset:1,...P}];v.element.animate(B,{duration:w,iterationStart:1-L/H,iterations:1/0})})}{const e=b[4];{const s=e.at(-1),h=s.description.fontMetrics,Q=h.top+s.baseline-1,H=h.bottom+s.baseline+1,M=document.createElementNS("http://www.w3.org/2000/svg","rect");M.x.baseVal.value=0,M.y.baseVal.value=Q,M.width.baseVal.value=100,M.height.baseVal.value=H-Q,M.style.fill="hwb(190 10% 0% / 1)",T.insertBefore(M,e[0].element)}e.forEach(n=>{const s=t.get(n.char).cssPath,h=n.element.style.d,Q=1/16,H=15/16,M=14e3,w=[{offset:0,strokeWidth:.5},{offset:Q,strokeWidth:.5},{offset:H,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],v=[{offset:0,d:s},{offset:Q,d:s,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:H,d:h},{offset:1,d:h}],L=[{offset:0,opacity:1},{offset:Q,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:H,opacity:0},{offset:1,opacity:0}];n.element.animate(L,{duration:M,iterations:1/0}),n.element.animate(v,{duration:M,iterations:1/0}),n.element.animate(w,{duration:M,iterations:1/0}),n.element.style.stroke="white"})}b[2].forEach(n=>{const s=t.get(n.char).cssPath,h=n.element.style.d,Q=750,H="cubic-bezier(.55,0,1,.55)";n.element.animate([{offset:0,d:s,easing:H},{offset:.5,d:h,easing:H},{offset:1,d:s}],{duration:Q,iterations:1/0})})}
