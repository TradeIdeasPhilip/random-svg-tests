import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as O,m as ct,i as tt,b as ft,g as Ht,s as gt}from"./client-misc-leadhGo2.js";/* empty css              */import{b as j,l as X,c as Mt,a as et,s as Vt}from"./utility-DcEUXXL7.js";import{a as Qt}from"./rough.esm-C_8OcXYf.js";class pt{constructor(c,e,u){this.x0=c,this.y0=e,this.x=u,j(c,e,u),this.y=e,this.asString=`H ${u}`}y;incomingAngle=NaN;outgoingAngle=NaN;command="H";asString;translate(c,e){return new pt(this.x0+c,this.y0+e,this.x+c)}toCubic(){return new q(this.x0,this.y0,X(this.x0,this.x,1/3),this.y0,X(this.x0,this.x,2/3),this.y0,this.x,this.y0)}}class dt{constructor(c,e,u){this.x0=c,this.y0=e,this.y=u,j(c,e,u),this.x=c,this.asString=`V ${u}`}x;incomingAngle=NaN;outgoingAngle=NaN;command="V";asString;translate(c,e){return new dt(this.x0+c,this.y0+e,this.y+e)}toCubic(){return new q(this.x0,this.y0,this.x0,X(this.y0,this.y,1/3),this.x0,X(this.y0,this.y,2/3),this.x0,this.y)}}class st{constructor(c,e,u,p){this.x0=c,this.y0=e,this.x=u,this.y=p,j(c,e,u,p),this.asString=`L ${u},${p}`}incomingAngle=NaN;outgoingAngle=NaN;command="L";asString;translate(c,e){return new st(this.x0+c,this.y0+e,this.x+c,this.y+e)}toCubic(){return new q(this.x0,this.y0,X(this.x0,this.x,1/3),X(this.y0,this.y,1/3),X(this.x0,this.x,2/3),X(this.y0,this.y,2/3),this.x,this.y)}}class lt{constructor(c,e,u,p,n,m){this.x0=c,this.y0=e,this.x1=u,this.y1=p,this.x=n,this.y=m,j(c,e,u,p,n,m),this.asString=`Q ${u},${p} ${n},${m}`}incomingAngle=NaN;outgoingAngle=NaN;command="Q";asString;translate(c,e){return new lt(this.x0+c,this.y0+e,this.x1+c,this.y1+e,this.x+c,this.y+e)}toCubic(){return new q(this.x0,this.y0,X(this.x0,this.x1,2/3),X(this.y0,this.y1,2/3),X(this.x,this.x1,2/3),X(this.y,this.y1,2/3),this.x,this.y)}}class q{constructor(c,e,u,p,n,m,i,f){this.x0=c,this.y0=e,this.x1=u,this.y1=p,this.x2=n,this.y2=m,this.x=i,this.y=f,j(c,e,u,p,n,m,i,f),this.asString=`C ${u},${p} ${n},${m} ${i},${f}`}reverse(){return new q(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}incomingAngle=NaN;outgoingAngle=NaN;command="C";asString;translate(c,e){return new q(this.x0+c,this.y0+e,this.x1+c,this.y1+e,this.x2+c,this.y2+e,this.x+c,this.y+e)}toCubic(){return this}}class g{get commands(){return this.#t}addCommand(c){this.#t.push(c),this.#e=void 0}addCommands(c){return c.forEach(e=>this.addCommand(e)),this}static fromStrings(c){let e=c.join(" ");const u=[];let p;for(;e=e.replace(/^ */,""),e!="";){let n=St.exec(e);if(n){const m=O(n[1]),i=O(n[2]);if(m===void 0||i===void 0)throw console.error(n,m,i,this),new Error("wtf");p&&u.push(p),p=this.M(m,i),e=n[3];continue}if(p){if(n=_t.exec(e),n){const m=O(n[1]),i=O(n[2]),f=O(n[3]),a=O(n[4]);if(m===void 0||i===void 0||f===void 0||a===void 0)throw console.error(n,m,i,f,a,this),new Error("wtf");p=p.Q(m,i,f,a),e=n[5];continue}if(n=bt.exec(e),n){const m=O(n[1]),i=O(n[2]),f=O(n[3]),a=O(n[4]),$=O(n[5]),E=O(n[6]);if(m===void 0||i===void 0||f===void 0||a===void 0||$===void 0||E===void 0)throw console.error(n,m,i,f,a,$,E,this),new Error("wtf");p=p.C(m,i,f,a,$,E),e=n[7];continue}}throw console.error(e),new Error("wtf")}return p&&u.push(p),u}static M(c,e){const u=new g;return u.M(c,e),u}#t=[];get pathShape(){return new F(this.#t)}#e;M(c,e,u=NaN){return j(c,e),this.#e={x:c,y:e,outgoingAngle:u},this}previous(){return this.#e??this.#t.at(-1)}H(c){const e=this.previous();return this.addCommand(new pt(e.x,e.y,c)),this}V(c){const e=this.previous();return this.addCommand(new dt(e.x,e.y,c)),this}L(c,e){const u=this.previous();return this.addCommand(new st(u.x,u.y,c,e)),this}Q(c,e,u,p){const n=this.previous();return this.addCommand(new lt(n.x,n.y,c,e,u,p)),this}Q_HV(c,e){const u=this.previous();return this.Q(c,u.y,c,e)}Q_VH(c,e){const u=this.previous();return this.Q(u.x,e,c,e)}Q_angles(c,e,u,p){const n=this.previous();if(p??=n.outgoingAngle,p===void 0)throw new Error("wtf");j(p,u);const m=Et({x0:n.x,y0:n.y,slope:Math.tan(p)},{x0:c,y0:e,slope:Math.tan(u)});return m?this.Q(m.x,m.y,c,e):this.L(c,e),this}C(c,e,u,p,n,m){const i=this.previous();return this.addCommand(new q(i.x,i.y,c,e,u,p,n,m)),this}circle(c,e,u="cw"){const p=this.previous(),n=p.x,m=p.y,i=Math.atan2(m-e,n-c),f=Math.hypot(m-e,n-c),a=u=="cw"?1:-1,$=i+Math.PI*2*a,E=ct(0,i,1,$);function r(t){switch(t){case 0:case 1:return p;default:{const s=E(t),o=et(f,s);return{x:c+o.x,y:e+o.y}}}}function K(t){return r(t)}return this.addParametricPath(K,8),this}arc(c,e,u,p,n){const m=this.previous(),i=m.x,f=m.y;let a=Mt(Math.atan2(f-e,i-c),Math.PI*2);const $=Math.hypot(f-e,i-c);let E=Mt(Math.atan2(p-e,u-c),Math.PI*2);const r=Math.hypot(p-e,u-c);n=="cw"?a>E&&(E+=Math.PI*2):a<E&&(a+=Math.PI*2);const K=Math.abs(a-E),P=Math.ceil(K*1.17+1e-4),t=ct(0,$,1,r),s=ct(0,a,1,E);function o(h){switch(h){case 0:return m;case 1:return{x:u,y:p};default:{const d=et(t(h),s(h));return{x:c+d.x,y:e+d.y}}}}return this.addParametricPath(o,P)}addParametricPath(c,e){if(e<=0)throw new Error("wtf");const u=.01/e,p=tt(e+1,m=>{const i=m/e,f=c(i),a=Lt(c,i,u);return{t:i,point:f,direction:a}});return tt(e,m=>({from:p[m],to:p[m+1]})).forEach(m=>{this.Q_angles(m.to.point.x,m.to.point.y,m.to.direction,m.from.direction)}),this}}function Lt(Q,c,e){if(!(c>=0&&c<=1))throw new Error("Expected 0 ≤ t ≤ 1");const u=Math.max(0,c-e),p=Q(u),n=Math.min(1,c+e),m=Q(n),i=m.x-p.x,f=m.y-p.y;return i==0&&f==0?NaN:Math.atan2(f,i)}const mt=" *",Y="(-?[0-9]+.?[0-9]*)",G=" *[, ] *",St=new RegExp(`^M${mt}${Y}${G}${Y}(.*)$`),_t=new RegExp(`^Q${mt}${Y}${G}${Y}${G}${Y}${G}${Y}(.*)$`),bt=new RegExp(`^C${mt}${Y}${G}${Y}${G}${Y}${G}${Y}${G}${Y}${G}${Y}(.*)$`);class F{matchForMorph(c){const e=this.commands.map(i=>i.toCubic()),u=c.commands.map(i=>i.toCubic());if(e.length!=u.length){const{shorter:i,longer:f}=e.length<u.length?{shorter:e,longer:u}:{shorter:u,longer:e};if(i.length==0)throw new Error("can't morph something into nothing");const a=f.length/i.length,$=[];i.forEach((E,r)=>{const K=Math.round((r+1)*a);for(;$.length<K;)$.push(E)}),i.length=0,i.push(...$)}if(e.length!=u.length)throw new Error("wtf");function p(i){return F.cssifyPath(i.map(f=>new F([f]).rawPath).join())}const n=p(e),m=p(u);return[n,m]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(c){const u=g.fromStrings(c).flatMap(n=>n.commands);return new this(u)}constructor(c){this.commands=[...c]}static cssifyPath(c){return`path('${c}')`}get cssPath(){return F.cssifyPath(this.rawPath)}makeElement(){const c=document.createElementNS("http://www.w3.org/2000/svg","path"),e=this.cssPath;if(c.style.d=e,c.style.d=="")throw console.error(e,c),new Error("wtf");return c}static needAnM(c,e){return!c||c.x!=e.x0||c.y!=e.y0}get rawPath(){return this.commands.flatMap((c,e)=>{const u=[],p=this.commands[e-1];return F.needAnM(p,c)&&u.push(`M ${c.x0},${c.y0}`),u.push(c.asString),u}).join(" ")}get cssPaths(){return this.splitOnMove().map(c=>c.cssPath)}get rawPaths(){return this.splitOnMove().map(c=>c.rawPath)}splitOnMove(){const c=[];let e=[];return this.commands.forEach(u=>{F.needAnM(e.at(-1),u)&&(e=[],c.push(e)),e.push(u)}),c.map(u=>new F(u))}static join(c){return new F(c.flatMap(({Δx:e,Δy:u,shape:p})=>p.translate(e,u).commands))}convertToCubics(){return new F(this.commands.map(c=>c.toCubic()))}translate(c,e){return new F(this.commands.map(u=>u.translate(c,e)))}}function Et(Q,c){if(isNaN(Q.slope)||isNaN(c.slope)||Q.slope==c.slope)return;const e=Math.abs(Q.slope)*100>Number.MAX_SAFE_INTEGER,u=Math.abs(c.slope)*100>Number.MAX_SAFE_INTEGER;if(e&&u)return;let p,n;if(e||u){p=e?Q.x0:c.x0;const f=e?c:Q;n=f.slope*(p-f.x0)+f.y0}else p=(c.y0-c.slope*c.x0-Q.y0+Q.slope*Q.x0)/(Q.slope-c.slope),n=Q.slope*(p-Q.x0)+Q.y0;const m=e?Q.x0:u?c.x0:(c.y0-c.slope*c.x0-Q.y0+Q.slope*Q.x0)/(Q.slope-c.slope),i=e?c.slope*(m-c.x0)+c.y0:Q.slope*(m-Q.x0)+Q.y0;return console.log({x:p,oldX:m,y:n,oldY:i,αIsVertical:e,βIsVertical:u,α:Q,β:c}),{x:p,y:n}}class xt{constructor(c,e=c/10){if(this.fontSize=c,this.strokeWidth=e,c<=0||!isFinite(c))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class ut{constructor(c,e,u){this.advance=e,this.fontMetrics=u,c instanceof F?this.#t=()=>c:this.#t=c}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(c=>({innerShape:c,element:c.makeElement()}))}}const wt=0,ot=Math.PI/4,ht=2*ot,Ct=3*ot,vt=4*ot,Rt=5*ot,at=6*ot;function nt(Q){const c=new Map;typeof Q=="number"&&(Q=new xt(Q));const e=(t,s,o)=>{const h=new ut(s,o,Q);if(c.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...c].at(-1)[0]}"`);c.set(t,h)},{aWidth:u,digitWidth:p,capitalTop:n,capitalTopMiddle:m,capitalMiddle:i,capitalBottomMiddle:f,baseline:a,descender:$,strokeWidth:E}=Q,r=0;{const t=p,o=t/2,h=t;{const d=($-a)*2,x=$,L=x-d,_=n-d/4,S=_+d;if(d<=0||x<=L||L<=S||S<=_)throw new Error("wtf");const M=p*.5;{const l=g.M(M,_).Q_HV(0,S).V(L).Q_VH(M,x).pathShape;e("(",l,M)}{const l=p*.5,w=g.M(0,_).Q_HV(l,S).V(L).Q_VH(0,x).pathShape;e(")",w,l)}{const l=g.M(M,_).H(0).V(x).H(M).pathShape;e("[",l,M)}{const l=g.M(0,_).H(M).V(x).H(0).pathShape;e("]",l,M)}}{const d=p*.75,x=d/2,L=g.M(x,i-x).V(i+x).M(r,i).H(d).pathShape;e("+",L,d)}{const d=p*.75,x=g.M(r,i).H(d).pathShape;e("-",x,d)}{const d=p/2*.9,x=5,L=-Math.PI/2,_=(n+a)/2,S=0,M=tt(x,H=>{const b=H*(Math.PI*2)/x+L,C=et(S,b),k=et(d,b);return[C,k]}),l=M.flat(),w=Math.min(...l.map(({x:H})=>H));l.forEach(H=>{H.x-=w,H.y+=_});const y=M.map(([H,b])=>new st(H.x,H.y,b.x,b.y)),v=new F(y),V=Math.max(...l.map(({x:H})=>H));e("*",v,V)}{const d=p*.75,x=g.M(r,i-E*1.25).H(d).M(r,i+E*1.25).H(d).pathShape;e("=",x,d)}{const d=p*1.25,x=a+E,L=g.M(0,x).H(d).pathShape;e("_",L,d)}{const d=p/2,x=3*d,L=d/3,_=n,S=_+d,M=S+d,l=M+d,w=g.M(d+L,_).L(d-L,l).M(2*d+L,_).L(2*d-L,l).M(0,S).H(x).M(0,M).H(x).pathShape;e("#",w,x)}{const d=p/2,x=3*d,L=0,_=d,S=x/2,M=2*d,l=x,w=n+(Q.mHeight-x)/2,y=w+_,v=w+S,V=w+M,H=w+l,b=g.M(M,v).Q_VH(S,y).Q_HV(_,v).Q_VH(S,V).Q_HV(M,v).Q_VH((M+l)/2,V).Q_HV(l,v).V((y+v)/2).Q_VH(S,w).Q_HV(L,v).Q_VH(S,H).H((M+l)/2).pathShape;e("@",b,x)}{const d=g.M(o,n).Q(h,n,h,m).L(h,f).Q(h,a,o,a).Q(r,a,r,f).L(r,m).Q(r,n,o,n).M(h,m).L(r,f).pathShape;e("0",d,t)}{const d=g.M(r,m).Q(o,m,o,n).L(o,a).M(r,a).L(h,a).pathShape;e("1",d,t)}{const d=g.M(r,m).Q_VH(o,n).Q_HV(h,m).Q_VH(o,i).Q_HV(r,a).L(h,a).pathShape;e("2",d,t)}{const d=g.M(r,m).Q_VH(o,n).Q_HV(h,m).Q_VH(o,i).Q_HV(h,f).Q_VH(o,a).Q_HV(r,f).pathShape;e("3",d,t)}{const d=(o+h)/2,x=(o+r)/2,L=g.M(h,i).L(r,i).L(x,n).M(d,n).L(d,a).pathShape;e("4",L,t)}{const d=r+p/5,x=h-p/5,L=(i+f)/2,_=g.M(x,n).L(d,n).L(r,i).Q_VH(o,m).Q_HV(h,L).Q_VH(o,a).Q_HV(r,f).pathShape;e("5",_,t)}{const d=g.M(h,n).Q_HV(r,f).Q_VH(o,a).Q_HV(h,f).Q_VH(o,i).Q_HV(r,f).pathShape;e("6",d,t)}{const d=g.M(r,n).L(h,n).L(r,a).pathShape;e("7",d,t)}{const d=g.M(o,n).Q(h,n,h,m).Q(h,i,o,i).Q(r,i,r,f).Q(r,a,o,a).Q(h,a,h,f).Q(h,i,o,i).Q(r,i,r,m).Q(r,n,o,n).pathShape;e("8",d,t)}{const d=g.M(h,m).Q(h,n,o,n).Q(r,n,r,m).Q(r,i,o,i).Q(h,i,h,m).Q(h,a,r,a).pathShape;e("9",d,t)}}{const t=g.M(r,a).L(u/2,n).L(Q.aWidth,a).M(Q.aWidth/4,i).L(Q.aWidth*.75,i).pathShape;e("A",t,u)}{const t=p,s=m-n;if(s<=0)throw new Error("wtf");const o=(t-s)*(2/3),h=a-f;if(h<=0)throw new Error("wtf");const d=t-h,x=g.M(r,n).L(r,a).L(d,a).M(Math.max(d,o),i).L(r,i).M(r,n).L(o,n).Q(o+s,n,o+s,n+s).Q(o+s,i,o,i).M(d,i).Q(d+h,i,d+h,a-h).Q(d+h,a,d,a).pathShape;e("B",x,t)}{const t=p,o=t/2,h=t,d=g.M(h,m).Q(h,n,o,n).Q(r,n,r,m).L(r,f).Q(r,a,o,a).Q(h,a,h,f).pathShape;e("C",d,t)}{const t=p,o=t/2,h=t,d=g.M(r,n).L(r,a).L(o,a).Q(h,a,h,f).L(h,m).Q(h,n,o,n).L(r,n).pathShape;e("D",d,t)}{const t=p,s=t*(2/3),o=t,h=g.M(o,n).L(r,n).L(r,a).L(o,a).M(s,i).L(r,i).pathShape;e("E",h,t)}{const t=p,s=t*(2/3),o=t,h=g.M(o,n).L(r,n).L(r,a).M(s,i).L(r,i).pathShape;e("F",h,t)}{const t=p,o=t/2,h=t,d=g.M(h,m).Q(h,n,o,n).Q(r,n,r,m).L(r,f).Q(r,a,o,a).Q(h,a,h,f).L(h,i).L(o,i).pathShape;e("G",d,t)}{const t=p,s=t,o=g.M(r,n).L(r,a).M(s,n).L(s,a).M(r,i).L(s,i).pathShape;e("H",o,t)}{const t=Q.mHeight/3,s=t/2,o=t,h=g.M(r,n).L(o,n).M(r,a).L(o,a).M(s,n).L(s,a).pathShape;e("I",h,t)}{const t=p*.85,o=t/2,h=t,d=g.M(h,n).L(h,f).Q(h,a,o,a).Q(r,a,r,f).pathShape;e("J",d,t)}{const t=p+E,s=(n+a)/2,o=g.M(r,n).L(r,a).M(t,n).L(r+.5,s).L(t,a).pathShape;e("K",o,t)}{const t=p,s=g.M(r,n).L(r,a).L(t,a).pathShape;e("L",s,t)}{const t=p*1.5,s=t/2,o=g.M(r,a).L(r,n).L(s,i).L(t,n).L(t,a).pathShape;e("M",o,t)}{const t=p*1.2,s=g.M(r,a).L(r,n).L(t,a).L(t,n).pathShape;e("N",s,t)}{const t=p*1.5,s=t/2,o=(n+a)/2,h=g.M(s,n).Q_HV(t,o).Q_VH(s,a).Q_HV(r,o).Q_VH(s,n).pathShape;e("O",h,t)}{const t=p,s=i-m;if(s<=0)throw new Error("wtf");const o=t-s,h=g.M(r,n).L(r,a).M(r,n).L(o,n).Q_HV(t,m).Q_VH(o,i).L(r,i).pathShape;e("P",h,t)}{const t=p*1.5,s=t/2,o=(n+a)/2,h=g.M(s,n).Q_HV(t,o).Q_VH(s,a).Q_HV(r,o).Q_VH(s,n).M(t-s*.75,a-s*.75).L(t+s/6,a+s/6).pathShape;e("Q",h,t)}{const t=p,s=i-m;if(s<=0)throw new Error("wtf");const o=t-s,h=g.M(r,n).L(r,a).M(r,n).L(o,n).Q_HV(t,m).Q_VH(o,i).L(r,i).M(o,i).L(t,a).pathShape;e("R",h,t)}{const t=p,s=p/2,o=p,h=g.M(o,m).Q_VH(s,n).Q_HV(r,m).Q_VH(s,i).Q_HV(o,f).Q_VH(s,a).Q_HV(r,f).pathShape;e("S",h,t)}{const s=p+E,o=s/2,h=s,d=Q.mHeight/8,x=g.M(h,m).Q_VH(o,n).Q_HV(r,m).Q_VH(o,i).Q_HV(h,f).Q_VH(o,a).Q_HV(r,f).M(o,n-d).V(a+d).pathShape;e("$",x,s)}{const t=p,s=t/2,o=g.M(s,n).L(s,a).M(t,n).L(r,n).pathShape;e("T",o,t)}{const t=(f+i)/2,s=Math.abs(t-a)*.85,o=s*2,h=g.M(r,n).V(t).Q_VH(s,a).Q_HV(o,t).V(n).pathShape;e("U",h,o)}{const t=u,s=t/2,o=g.M(r,n).L(s,a).L(t,n).pathShape;e("V",o,t)}{const t=u*1.5,s=t/3,o=t/2,h=s*2,d=g.M(r,n).L(s,a).L(o,i).L(h,a).L(t,n).pathShape;e("W",d,t)}{const t=p,s=g.M(t,n).L(r,a).M(r,n).L(t,a).pathShape;e("X",s,t)}{const t=E,s=p+t,o=g.M(s,n).L(t,a).M(r,n).L(s/2,i).pathShape;e("Y",o,s)}{const t=p,s=g.M(r,n).H(t).L(r,a).H(t).pathShape;e("Z",s,t)}{const t=p/4,s=p*1.2,o=g.M(t*2,n+t).Q_VH(t,n).Q_HV(0,n+t).Q_VH(t,n+t*2).Q_HV(t*2,n+t),d=o.pathShape.translate(s-t*2,Q.mHeight-t*2);o.addCommands(d.commands),o.M(s,n).L(r,a);const x=o.pathShape;e("%",x,s)}{const t=p,s=g.M(t,n).L(r,a).pathShape;e("/",s,t)}{const t=p,s=g.M(r,n).L(t,a).pathShape;e("\\",s,t)}{const t=p,s=E/2,o=t+s,h=t/2,d=g.M(h,i).Q_HV(r,f).Q_VH(h,a).Q_HV(t,f).Q_VH(h,i).M(o,i).L(o,a).pathShape;e("a",d,o)}{const t=p,s=E/2,o=t+s,h=s,d=s+t/2,x=o,L=g.M(r,n).V(a).M(h,f).Q_VH(d,a).Q_HV(x,f).Q_VH(d,i).Q_HV(h,f).pathShape;e("b",L,o)}{const t=p*.875,s=0,o=p/2,h=t,d=(i+f)/2,x=(f+a)/2,L=g.M(h,d).Q_VH(o,i).Q_HV(s,f).Q_VH(o,a).Q_HV(h,x).pathShape;e("c",L,t)}{const t=p,s=E/2,o=t+s,h=t/2,d=g.M(h,i).Q_HV(r,f).Q_VH(h,a).Q_HV(t,f).Q_VH(h,i).M(o,n).L(o,a).pathShape;e("d",d,o)}const K=p/8;{const t=p,s=p/2,o=t,h=o-K,d=g.M(r,f).H(o).Q_VH(s,i).Q_HV(r,f).Q_VH(s,a).H(h).pathShape;e("e",d,t)}{const t=p*.75,s=t/2,o=t,h=g.M(o,n).Q_HV(s,m).V(a).M(o,i).H(r).pathShape;e("f",h,t)}{const t=p,s=E/2,o=t+s,h=t/2,d=g.M(h,i).Q_HV(r,f).Q_VH(h,a).Q_HV(t,f).Q_VH(h,i).M(o,i).V(a).Q_VH(h,$).H(r+K).pathShape;e("g",d,o)}{const t=p*.85,s=t/2,o=g.M(r,n).V(a).Q_VH(s,i).Q_HV(t,f).V(a).pathShape;e("h",o,t)}const P=E/4;{const s=g.M(r,i).V(a).M(r,m).V(m-P).pathShape;e("i",s,0)}{const t=Math.abs(a-$),s=t/2,o=g.M(t,i).V(a).Q_VH(s,$).Q_HV(r,a).M(t,m).V(m-P).pathShape;e("j",o,t)}{const s=g.M(r,a).V(a-P).pathShape;e(".",s,0)}{const s=g.M(r,n).V(f).M(r,a).V(a-P).pathShape;e("!",s,0)}{const s=($-a)/2,o=s/2,h=g.M(r,a-P).V(a).Q_VH(-o,a+s).pathShape;e(",",h,0)}{const s=i,o=g.M(r,a).V(a-P).M(r,s-P).V(s).pathShape;e(":",o,0)}{const s=i,o=($-a)/2,h=o/2,d=g.M(r,a-P).V(a).Q_VH(-h,a+o).M(r,s-P).V(s).pathShape;e(";",d,0)}{const t=Q.xHeight*2/3,s=p/10,o=t+s,h=g.M(r,n).V(a).M(t,i).L(r,i+t).M(t/2,a-t).L(o,a).pathShape;e("k",h,o)}{const s=g.M(r,n).V(a).pathShape;e("l",s,0)}{const t=p*1.5,s=t/4,o=t/2,h=t*3/4,d=t,x=g.M(r,i).V(a).Q_VH(s,i).Q_HV(o,f).V(a).M(o,f).Q_VH(h,i).Q_HV(d,f).V(a).pathShape;e("m",x,t)}{const t=p*.85,s=t/2,o=g.M(r,i).V(a).Q_VH(s,i).Q_HV(t,f).V(a).pathShape;e("n",o,t)}{const t=p,s=0,o=t/2,h=t,d=g.M(o,i).Q_HV(h,f).Q_VH(o,a).Q_HV(s,f).Q_VH(o,i).pathShape;e("o",d,t)}{const t=p,s=E/2,o=t+s,h=s,d=s+t/2,x=o,L=g.M(r,i).V($).M(h,f).Q_VH(d,i).Q_HV(x,f).Q_VH(d,a).Q_HV(h,f).pathShape;e("p",L,o)}{const t=p,s=t/2,o=t+E/2,h=Math.abs(a-$),d=o+h/2,x=o+h,L=g.M(s,i).Q_HV(r,f).Q_VH(s,a).Q_HV(t,f).Q_VH(s,i).M(o,i).V(a).Q_VH(d,$).Q_HV(x,a).pathShape;e("q",L,x)}{const t=p,s=t/2,o=g.M(r,i).V(a).Q_VH(s,i).Q_HV(t,f).pathShape;e("r",o,t)}{const t=Q.xHeight*2/3,s=t/2,o=a,h=f,d=i,x=(o+h)/2,L=(h+d)/2,_=(L+d)/2,S=(o+x)/2,M=g.M(t,_).Q_VH(s,d).Q_HV(r,L).Q_VH(s,h).Q_HV(t,x).Q_VH(s,o).Q_HV(r,S).pathShape;e("s",M,t)}{const t=p*.75,s=t/2,o=t,h=g.M(s,m).V(f).Q_VH(o,a).M(o,i).H(r).pathShape;e("t",h,t)}{const t=p*.85,s=t/2,o=g.M(r,i).V(f).Q_VH(s,a).Q_HV(t,i).L(t,a).pathShape;e("u",o,t)}{const t=p,s=t/2,o=g.M(r,i).L(s,a).L(t,i).pathShape;e("v",o,t)}{const t=Q.xHeight*1.5,s=t/3,o=t/2,h=s*2,d=g.M(r,i).L(s,a).L(o,f).L(h,a).L(t,i).pathShape;e("w",d,t)}{const t=p,s=g.M(t,i).L(r,a).M(r,i).L(t,a).pathShape;e("x",s,t)}{const t=p,s=t/2,o=(i+$)/2,h=g.M(t,i).L(r,$).M(r,i).L(s,o).pathShape;e("y",h,t)}{const t=p,s=g.M(r,i).H(t).L(r,a).H(t).pathShape;e("z",s,t)}{const t=p/2,s=t/2,o=g.M(s,n).circle(s,n+s,"cw").pathShape;e("°",o,t)}{const t=-n,s=t/2,o=g.M(s,n).circle(s,n+s,"cw").pathShape;e("◯",o,t)}{const t=-n,s=t/2,o=n/2,h=g.M(0,o).arc(s,o,t,o,"cw").pathShape;e("◠",h,t)}{const t=-n,s=t/2,o=n/2,h=g.M(0,o).arc(s,o,t,o,"ccw").pathShape;e("◡",h,t)}{const t=-n,s=t/4,o=n+s,h=g.M(s*2,o).arc(s*3,o,t,o,"cw").Q_angles(s*2,a,Ct,ht).Q_angles(0,o,at,Rt).arc(s,o,s*2,o,"cw").pathShape;e("♡",h,t)}{const t=Q.mHeight,s=t/4,o=s;{const h=t,d=(n+a)/2,x=g.M(o,d-s).L(0,d).L(o,d+s).M(0,d).L(h,d).M(h-o,d-s).L(h,d).L(h-o,d+s);e("↔",x.pathShape,h);const L=new F(x.commands.slice(0,3));e("←",L,h);const _=new F(x.commands.slice(2,5));e("→",_,h)}{const d=s,x=s*2,L=x,_=g.M(0,n+o).L(d,n).L(L,n+o).M(d,n).L(d,a).M(0,a-o).L(d,a).L(L,a-o);e("↕",_.pathShape,x);const S=new F(_.commands.slice(0,3));e("↑",S,x);const M=new F(_.commands.slice(2,5));e("↓",M,x)}}{const t=Q.mHeight,s=0,o=t/2,h=t,d=n,x=a,L=(d+x)/2,_=Math.PI/16,S=g.M(o,d).Q_angles(h,L,wt+_,ht-_).Q_angles(o,x,ht+_,wt-_).Q_angles(s,L,vt+_,at-_).Q_angles(o,d,at+_,vt-_).pathShape;e("✧",S,t)}{let t=function(S,M){const l=S.maxY-S.minY,y=(M.bottom-M.top)/l,V=(S.maxX-S.minX)*y,H=0,b=V,C=ft(S.minX,H,S.maxX,b),k=ft(S.minY,M.top,S.maxY,M.bottom);return{x:C,y:k,advance:b}},s=function(){const S={x:1/0,y:1/0},M={x:-1/0,y:-1/0};x.forEach(v=>{["x","y"].forEach(V=>{S[V]=Math.min(S[V],v[V]),M[V]=Math.max(M[V],v[V])})});const l={minX:S.x,maxX:M.x,minY:S.y,maxY:M.y},y=t(l,{top:n,bottom:a});return x.forEach(v=>{v.x=y.x(v.x),v.y=y.y(v.y)}),y};const d=at,x=tt(5,S=>{const M=d+S*(2*Math.PI)*2/5;return et(1,M)}),L=s(),_=x.map((S,M,l)=>{const w=l.at(M+1-l.length);return new st(S.x,S.y,w.x,w.y)});e("☆",new F(_),L.advance)}return new Map([...c.entries()].sort(([t],[s])=>t<s?-1:t==s?1:0))}const J=Ht("main",SVGSVGElement);function $t(Q){const c=new Map;return Q.forEach((e,u)=>{const{advance:p,fontMetrics:n}=e,m=e.shape.convertToCubics(),i=new ut(m,p,n);c.set(u,i)}),c}function kt(Q,c=Q*.75){const e=nt(Q);return nt(c).forEach((p,n)=>{const m=n.toLowerCase();m!=n&&e.set(m,p)}),e}function rt(Q,c){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},u=Qt.generator({options:{...e,...c}}),p=new Map;return Q.forEach((n,m)=>{const i=()=>{const a=u.path(n.d),E=u.toPaths(a).map(r=>r.d);return F.fromStrings(E)},f=new ut(i,n.advance,n.fontMetrics);p.set(m,f)}),p}{let Q=function(M){return M.length==1},c=function(M){let w=1/0,y=-1/0;M.forEach(b=>{const{description:C,baseline:k}=b,{fontMetrics:D}=C;w=Math.min(w,D.top+k),y=Math.max(y,D.bottom+k)});const v=w-1,V=y+1,H=document.createElementNS("http://www.w3.org/2000/svg","rect");return H.x.baseVal.value=0,H.y.baseVal.value=v,H.width.baseVal.value=100,H.height.baseVal.value=V-v,J.insertBefore(H,M[0].element),H},e=function(M){const l=new u;l.font=P;const w=l.addText(M),y=u.join(w),v=l.x;return{shape:y,advance:v}};class u{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=nt(5);getDescription(l){return this.font.get(l)}static join(l){return new F(l.flatMap(w=>w.description.shape.translate(w.x,w.baseline).commands))}displayText(l){return l.map(w=>{const y=w.description.shape,v=y.makeElement();return J.appendChild(v),v.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...w,shape:y,element:v}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(l){const w=new Set,y=[];for(;;){const v=u.WORD_BREAK.exec(l);if(!v)break;const V=v[1];if(l=v[2],V[0]==`
`)this.carriageReturn(),this.lineFeed(V.length*4/3);else if(V[0]==" ")this.addSpace(V.length);else{let H=0;const b=0,C=[...V].flatMap(k=>{const D=this.getDescription(k);if(D){const I=D.advance+D.fontMetrics.defaultKerning,A={x:H,width:I,baseline:b,description:D,char:k};return H+=I,A}else return w.add(k),[]});this.x+H>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),C.forEach(k=>{k.x+=this.x,k.baseline=this.baseline,y.push(k)}),this.x+=H}}return w.size>0&&console.warn(w),y}addSpace(l=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*l}}class p{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=nt(5);getDescription(l){return this.font.get(l)}makeRoom(l){this.x+l.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(l){this.x+=l.advance+l.fontMetrics.defaultKerning}moveToCursor(l){l.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(l,w){return this.x+w>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),J.appendChild(l),l.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=w,this}show1(l){this.makeRoom(l);const w=l.makeElement();J.appendChild(w);const{x:y,baseline:v}=this;return this.moveToCursor(w),this.advance(l),{element:w,x:y,baseline:v}}splitAndShow1(l){this.makeRoom(l);const w=l.makeElements();return w.forEach(({element:y})=>{J.appendChild(y),this.moveToCursor(y)}),this.advance(l),w}show(l){const w=new Set,y=[...l].flatMap(v=>{const V=this.getDescription(v);return V?{...this.show1(V),description:V,char:v}:v==" "?(this.showSpace(),[]):(w.add(v),[])});return w.size>0&&console.warn(w),y}splitAndShow(l){const w=new Set,y=[...l].flatMap(v=>{const V=this.getDescription(v);return V?this.splitAndShow1(V):v==" "?(this.showSpace(),[]):(w.add(v),[])});return w.size>0&&console.warn(w),y}showSpace(l=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*l,this}}const n=new p;let m="";n.font.forEach((M,l)=>{Q(l)&&(m+=l)}),n.show(m),n.CRLF();{const M=n.show(m);M.forEach(({element:l})=>{l.classList.add("lights")}),c(M).style.fill="black"}n.CRLF();const i=n.splitAndShow(m),f=M=>{if(M==0)return 0;const l=i[M].innerShape,w=i[M-1].innerShape,y=Math.hypot(w.endX-l.startX,w.endY-l.startY);return j(y),y},{totalLength:a,maxLength:$}=i.reduce(({totalLength:M,maxLength:l},{element:w},y)=>{const v=w.getTotalLength();return j(v),M+=f(y)+v,l=Math.max(l,v),{totalLength:M,maxLength:l}},{totalLength:0,maxLength:0}),E=Math.ceil($)+1,r=`0 ${E} ${E} 0`;async function K(){for(;;){let w=0,y;i.forEach(({element:v},V)=>{const H=v.getTotalLength();w+=f(V);const b=1e3+w/a*3e4;w+=H;const C=H/a*3e4;y=v.animate([{strokeDasharray:r,strokeDashoffset:1e-5},{strokeDasharray:r,strokeDashoffset:-H}],{delay:b,duration:C,fill:"backwards"})}),await y.finished,await gt(3e3)}}K(),n.CRLF(),n.font=kt(5,3),n.show("Small  Caps"),n.lineHeight*=1.125;const P=nt(new xt(6,.5)),t=$t(P),s=[{roughness:.4,title:"Heartbeat!"},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting ♡"},{roughness:.54,title:"The Wave *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(M=>{const{roughness:l,title:w}=M;return n.font=rt(t,{roughness:l}),n.CRLF(),n.show(`${Math.round(l*100)} ${w??"Rough Font"} [4XxYyZ]`)}),o=s[0],h=s[1],d=s[2],x=s[3],L=s[4],_=s[5],S=rt(t,{roughness:0});c(L).style.fill="black",L.forEach(({element:M})=>{M.classList.add("lights")}),[L,_].forEach(M=>{M.forEach(l=>{function w(){return Math.random()+.5|0}const y=3+w()+w()+w(),v=tt(y,()=>({d:l.description.cssPath}));v.push(v[0]);const V=y*1e4/3,H=V/8,b=Math.exp(X(Math.log(H),Math.log(V),Math.random()));l.element.animate(v,{duration:b,iterations:1/0})})}),h.forEach(M=>{const l=S.get(M.char).cssPath,w=M.element.style.d,y=.03,v=[{offset:0,d:w},{offset:y,d:l},{offset:.5,d:l},{offset:y+.5,d:w},{offset:1,d:w}];M.element.animate(v,{duration:2e3,iterations:1/0})});{const v=x.length,V=v*3,H=5e3;x.forEach((b,C)=>{const k=S.get(b.char).cssPath,D=b.element.style.d,I=b.element.style.transform,A=I+" scale(1.32)",N={d:k,transform:I},W={d:D,transform:A},R=[{offset:0,...N},{offset:4/V,...W},{offset:6/V,...W},{offset:14/V,...N},{offset:1,...N}];b.element.animate(R,{duration:H,iterationStart:1-C/v,iterations:1/0})})}{const M=d;c(M).style.fill="hwb(190 10% 0% / 1)",M.forEach(l=>{const w=S.get(l.char).cssPath,y=l.element.style.d,v=1/16,V=15/16,H=14e3,b=[{offset:0,strokeWidth:.5},{offset:v,strokeWidth:.5},{offset:V,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],C=[{offset:0,d:w},{offset:v,d:w,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:V,d:y},{offset:1,d:y}],k=[{offset:0,opacity:1},{offset:v,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:V,opacity:0},{offset:1,opacity:0}];l.element.animate(k,{duration:H,iterations:1/0}),l.element.animate(C,{duration:H,iterations:1/0}),l.element.animate(b,{duration:H,iterations:1/0}),l.element.style.stroke="white"})}o.forEach(M=>{const l=S.get(M.char).cssPath,w=M.element.style.d,y=750,v="cubic-bezier(.55,0,1,.55)";M.element.animate([{offset:0,d:l,easing:v},{offset:.5,d:w,easing:v},{offset:1,d:l}],{duration:y,iterations:1/0})});{n.CRLF();const M=.25,l=1.5,w="The more I drink the more I want to tell you what I really think about you.",y=ct(0,M,w.length-1,l),v=[...w].flatMap((I,A)=>(n.font=rt(t,{roughness:y(A)}),n.splitAndShow(I))),V=I=>{if(I==0)return 0;const A=v[I].innerShape,N=v[I-1].innerShape,W=Math.hypot(N.endX-A.startX,N.endY-A.startY);return j(W),W},{totalLength:H,maxLength:b}=v.reduce(({totalLength:I,maxLength:A},{element:N},W)=>{const R=N.getTotalLength();return I+=V(W)+R,A=Math.max(A,R),{totalLength:I,maxLength:A}},{totalLength:0,maxLength:0}),C=Math.ceil(b)+1,k=`0 ${C} ${C} 0`;async function D(){for(;;){let N=0,W;v.forEach(({element:R},T)=>{const z=R.getTotalLength();N+=V(T);const B=1e3+N/H*3e4;N+=z;const U=z/H*3e4;W=R.animate([{strokeDasharray:k,strokeDashoffset:1e-5},{strokeDasharray:k,strokeDashoffset:-z}],{delay:B,duration:U,fill:"backwards"})}),await W.finished,await gt(3e3)}}D()}{n.font=P,n.CRLF();const M=e("Stop°"),l=e("Go◯");n.CRLF();const w=M.shape.makeElement();n.showAndAdvance(w,M.advance),n.showSpace();const y=l.shape.makeElement();n.showAndAdvance(y,l.advance);const v=l.shape.matchForMorph(M.shape),V=v[0],H=v[1],b=M.shape.makeElement();n.showSpace(),n.showAndAdvance(b,M.advance),b.animate([{d:V},{d:V,easing:"ease"},{d:H},{d:H,easing:"ease"},{d:V}],{duration:5e3,iterations:1/0})}{const M=V=>e([...V].join(`
`)).shape,l=M("123"),w=M("ABC"),[y,v]=l.matchForMorph(w);n.CRLF(),tt(7,V=>{const H=l.makeElement();n.showAndAdvance(H,10*(6/7)*.86),H.animate([{d:y},{d:v}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:V/6*.999})}),n.lineFeed(2.5)}{let M=function(H){const b=H[0].makeElement();n.showAndAdvance(b,0);const C=H[0].matchForMorph(H[1]);b.animate([{d:C[0]},{d:C[0],easing:"ease"},{d:C[1]},{d:C[1],easing:"ease"},{d:C[0]}],{duration:5e3,iterations:1/0})},l=function(H){const b=new F(H[1].commands.toReversed());return[H[0],b]},w=function(H){{const R=H.map(T=>!T.commands.length);if(R[0]&&R[1])return H;if(R[0]||R[1])throw new Error("wtf")}function b(R,T){const z=Math.hypot(R.x-T.x,R.y-T.y)+Math.hypot(R.x0-T.x0,R.y0-T.y0),B=Math.hypot(R.x-T.x0,R.y-T.y0)+Math.hypot(R.x0-T.x0,R.y-T.y),U=B<z;return{distance:U?B:z,needToReverse:U}}const C=H.map(R=>R.commands),[k,D]=C[0].length<C[1].length?C:C.toReversed(),I=[...D],A=[],N=Vt([...k]);if(N.forEach(R=>{let T={command:void 0,distance:1/0,index:NaN};I.forEach((B,U)=>{const{distance:Z,needToReverse:it}=b(R,B);Z<T.distance&&(T={command:it?B.toCubic().reverse():B,distance:Z,index:U})});const z=T;A.push(z.command),I.splice(z.index,1)}),N.length!=A.length)throw new Error("wtf");if(I.forEach(R=>{let T={command:void 0,distance:1/0,index:NaN};N.forEach((B,U)=>{const{distance:Z,needToReverse:it}=b(B,R);Z<T.distance&&(T={command:it?B.toCubic().reverse():B,distance:Z,index:U})});const z=T;N.push(z.command),A.push(R)}),N.length!=A.length)throw new Error("wtf");const W=[N,A];return k==C[1]&&W.reverse(),console.log(k),[new F(W[0]),new F(W[1])]};n.CRLF();const y=e(`Round
  and
round!`),v=e(`Circle
  in a
spiral`),V=[y.shape,v.shape];M(V),n.x+=Math.max(y.advance,v.advance),n.showSpace(4),M(w(V)),n.x+=Math.max(y.advance,v.advance),n.showSpace(4),M(l(V)),n.lineFeed(2.5)}n.x>n.rightMargin&&n.CRLF(),J.viewBox.baseVal.height=n.baseline+n.font.get("0").fontMetrics.bottom}
