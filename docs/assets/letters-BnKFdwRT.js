import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as J,i as O,m as Q,s as U}from"./client-misc-leadhGo2.js";/* empty css              */import{d as tt,m as G,F as et,T as P,D as z,W as nt,P as N}from"./letters-more-CT_rZNUp.js";import{a as ot}from"./rough.esm-C_8OcXYf.js";import{b as $,l as st,s as at}from"./utility-DJLNEATl.js";const X=J("main",SVGSVGElement);function it(L){const t=new Map;return L.forEach((y,T)=>{const{advance:b,fontMetrics:S}=y,k=y.shape.convertToCubics(),I=new z(k,b,S);t.set(T,I)}),t}function rt(L,t=L*.75){const y=G(L);return G(t).forEach((b,S)=>{const k=S.toLowerCase();k!=S&&y.set(k,b)}),y}function _(L,t){const y={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},T=ot.generator({options:{...y,...t}}),b=new Map;return L.forEach((S,k)=>{const I=()=>{const W=T.path(S.d),D=T.toPaths(W).map(x=>x.d);return N.fromStrings(D)},A=new z(I,S.advance,S.fontMetrics);b.set(k,A)}),b}{let L=function(e){let a=1/0,i=-1/0;e.forEach(h=>{const{description:m,baseline:g}=h,{fontMetrics:M}=m;a=Math.min(a,M.top+g),i=Math.max(i,M.bottom+g)});const o=a-1,r=i+1,s=document.createElementNS("http://www.w3.org/2000/svg","rect");return s.x.baseVal.value=0,s.y.baseVal.value=o,s.width.baseVal.value=100,s.height.baseVal.value=r-o,X.insertBefore(s,e[0].element),s};const t=new nt(X),{normal:y}=tt(t.font);t.show(y),t.CRLF();{const e=t.show(y);e.forEach(({element:n})=>{n.classList.add("lights")}),L(e).style.fill="black"}t.CRLF();const T=t.splitAndShow(y),b=e=>{if(e==0)return 0;const n=T[e].innerShape,a=T[e-1].innerShape,i=Math.hypot(a.endX-n.startX,a.endY-n.startY);return $(i),i},{totalLength:S,maxLength:k}=T.reduce(({totalLength:e,maxLength:n},{element:a},i)=>{const o=a.getTotalLength();return $(o),e+=b(i)+o,n=Math.max(n,o),{totalLength:e,maxLength:n}},{totalLength:0,maxLength:0}),I=Math.ceil(k)+1,A=`0 ${I} ${I} 0`;async function W(){for(;;){let a=0,i;T.forEach(({element:o},r)=>{const s=o.getTotalLength();a+=b(r);const h=1e3+a/S*3e4;a+=s;const m=s/S*3e4;i=o.animate([{strokeDasharray:A,strokeDashoffset:1e-5},{strokeDasharray:A,strokeDashoffset:-s}],{delay:h,duration:m,fill:"backwards"})}),await i.finished,await U(3e3)}}W(),t.CRLF(),t.font=rt(5,3),t.show("Small  Caps"),t.lineHeight*=1.125;const F=G(new et(6,.5)),D=it(F),x=[{roughness:.4,title:'"Heartbeat!"'},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting ♡"},{roughness:.54,title:"The Wave's *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(e=>{const{roughness:n,title:a}=e;return t.font=_(D,{roughness:n}),t.CRLF(),t.show(`${Math.round(n*100)} ${a??"Rough Font"} [4XxYyZ]`)}),K=x[0],H=x[1],j=x[2],Y=x[3],V=x[4],Z=x[5],C=_(D,{roughness:0});L(V).style.fill="black",V.forEach(({element:e})=>{e.classList.add("lights")}),[V,Z].forEach(e=>{e.forEach(n=>{function a(){return Math.random()+.5|0}const i=3+a()+a()+a(),o=O(i,()=>({d:n.description.cssPath}));o.push(o[0]);const r=i*1e4/3,s=r/8,h=Math.exp(st(Math.log(s),Math.log(r),Math.random()));n.element.animate(o,{duration:h,iterations:1/0})})}),H.forEach(e=>{const n=C.get(e.char).cssPath,a=e.element.style.d,i=.03,o=[{offset:0,d:a},{offset:i,d:n},{offset:.5,d:n},{offset:i+.5,d:a},{offset:1,d:a}];e.element.animate(o,{duration:2e3,iterations:1/0})});{const o=Y.length,r=o*3,s=5e3;Y.forEach((h,m)=>{const g=C.get(h.char).cssPath,M=h.element.style.d,p=h.element.style.transform,d=p+" scale(1.32)",l={d:g,transform:p},u={d:M,transform:d},c=[{offset:0,...l},{offset:4/r,...u},{offset:6/r,...u},{offset:14/r,...l},{offset:1,...l}];h.element.animate(c,{duration:s,iterationStart:1-m/o,iterations:1/0})})}{const e=j;L(e).style.fill="hwb(190 10% 0% / 1)",e.forEach(n=>{const a=C.get(n.char).cssPath,i=n.element.style.d,o=1/16,r=15/16,s=14e3,h=[{offset:0,strokeWidth:.5},{offset:o,strokeWidth:.5},{offset:r,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],m=[{offset:0,d:a},{offset:o,d:a,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:r,d:i},{offset:1,d:i}],g=[{offset:0,opacity:1},{offset:o,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:r,opacity:0},{offset:1,opacity:0}];n.element.animate(g,{duration:s,iterations:1/0}),n.element.animate(m,{duration:s,iterations:1/0}),n.element.animate(h,{duration:s,iterations:1/0}),n.element.style.stroke="white"})}K.forEach(e=>{const n=C.get(e.char).cssPath,a=e.element.style.d,i=750,o="cubic-bezier(.55,0,1,.55)";e.element.animate([{offset:0,d:n,easing:o},{offset:.5,d:a,easing:o},{offset:1,d:n}],{duration:i,iterations:1/0})});{t.CRLF();const e=.25,n=1.5,a="The more I drink the more I want to tell you what I really think about you.",i=Q(0,e,a.length-1,n),o=[...a].flatMap((p,d)=>(t.font=_(D,{roughness:i(d)}),t.splitAndShow(p))),r=p=>{if(p==0)return 0;const d=o[p].innerShape,l=o[p-1].innerShape,u=Math.hypot(l.endX-d.startX,l.endY-d.startY);return $(u),u},{totalLength:s,maxLength:h}=o.reduce(({totalLength:p,maxLength:d},{element:l},u)=>{const c=l.getTotalLength();return p+=r(u)+c,d=Math.max(d,c),{totalLength:p,maxLength:d}},{totalLength:0,maxLength:0}),m=Math.ceil(h)+1,g=`0 ${m} ${m} 0`;async function M(){for(;;){let l=0,u;o.forEach(({element:c},f)=>{const v=c.getTotalLength();l+=r(f);const w=1e3+l/s*3e4;l+=v;const E=v/s*3e4;u=c.animate([{strokeDasharray:g,strokeDashoffset:1e-5},{strokeDasharray:g,strokeDashoffset:-v}],{delay:w,duration:E,fill:"backwards"})}),await u.finished,await U(3e3)}}M()}{t.font=F,t.CRLF();const e=P.textToShape("Stop°",F),n=P.textToShape("Go◯",F);t.CRLF();const a=e.shape.makeElement();t.showAndAdvance(a,e.advance),t.showSpace();const i=n.shape.makeElement();t.showAndAdvance(i,n.advance);const o=n.shape.matchForMorph(e.shape),r=o[0],s=o[1],h=e.shape.makeElement();t.showSpace(),t.showAndAdvance(h,e.advance),h.animate([{d:r},{d:r,easing:"ease"},{d:s},{d:s,easing:"ease"},{d:r}],{duration:5e3,iterations:1/0})}{const e=r=>P.textToShape([...r].join(`
`),F).shape,n=e("123"),a=e("ABC"),[i,o]=n.matchForMorph(a);t.CRLF(),O(7,r=>{const s=n.makeElement();t.showAndAdvance(s,10*(6/7)*.86),s.animate([{d:i},{d:o}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:r/6*.999})}),t.lineFeed(2.5)}{let e=function(s){const h=s[0].makeElement();t.showAndAdvance(h,0);const m=s[0].matchForMorph(s[1]);h.animate([{d:m[0]},{d:m[0],easing:"ease"},{d:m[1]},{d:m[1],easing:"ease"},{d:m[0]}],{duration:5e3,iterations:1/0})},n=function(s){const h=new N(s[1].commands.toReversed());return[s[0],h]},a=function(s){{const c=s.map(f=>!f.commands.length);if(c[0]&&c[1])return s;if(c[0]||c[1])throw new Error("wtf")}function h(c,f){const v=Math.hypot(c.x-f.x,c.y-f.y)+Math.hypot(c.x0-f.x0,c.y0-f.y0),w=Math.hypot(c.x-f.x0,c.y-f.y0)+Math.hypot(c.x0-f.x0,c.y-f.y),E=w<v;return{distance:E?w:v,needToReverse:E}}const m=s.map(c=>c.commands),[g,M]=m[0].length<m[1].length?m:m.toReversed(),p=[...M],d=[],l=at([...g]);if(l.forEach(c=>{let f={command:void 0,distance:1/0,index:NaN};p.forEach((w,E)=>{const{distance:R,needToReverse:B}=h(c,w);R<f.distance&&(f={command:B?w.toCubic().reverse():w,distance:R,index:E})});const v=f;d.push(v.command),p.splice(v.index,1)}),l.length!=d.length)throw new Error("wtf");if(p.forEach(c=>{let f={command:void 0,distance:1/0,index:NaN};l.forEach((w,E)=>{const{distance:R,needToReverse:B}=h(w,c);R<f.distance&&(f={command:B?w.toCubic().reverse():w,distance:R,index:E})});const v=f;l.push(v.command),d.push(c)}),l.length!=d.length)throw new Error("wtf");const u=[l,d];return g==m[1]&&u.reverse(),[new N(u[0]),new N(u[1])]};t.CRLF();const i=P.textToShape(`Round
  and
round!`,F),o=P.textToShape(`Circle
  in a
spiral`,F),r=[i.shape,o.shape];e(r),t.x+=Math.max(i.advance,o.advance),t.showSpace(4),e(a(r)),t.x+=Math.max(i.advance,o.advance),t.showSpace(4),e(n(r)),t.lineFeed(2.5)}t.x>t.rightMargin&&t.CRLF(),X.viewBox.baseVal.height=t.baseline+t.font.get("0").fontMetrics.bottom}
