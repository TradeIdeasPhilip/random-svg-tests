import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as R,g as tt,i as nt,m as et,s as U}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as x}from"./utility-D2LlNOtt.js";import{a as st}from"./rough.esm-C_8OcXYf.js";function A(..._){_.forEach(h=>{if(!isFinite(h))throw new Error("wtf")})}const j=" *",F="(-?[0-9]+.?[0-9]*)",I=" *[, ] *",ot=new RegExp(`^M${j}${F}${I}${F}(.*)$`),at=new RegExp(`^Q${j}${F}${I}${F}${I}${F}${I}${F}(.*)$`),ct=new RegExp(`^C${j}${F}${I}${F}${I}${F}${I}${F}${I}${F}${I}${F}(.*)$`);class u{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(h,n){return new this().M(h,n)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...h){const n=new this;return h.forEach(l=>n.fromString(l)),n.checkInvariants(),n}fromString(h){for(;h=h.replace(/^ */,""),h!="";){let n=ot.exec(h);if(n){const l=R(n[1]),d=R(n[2]);if(l===void 0||d===void 0)throw console.error(n,l,d,this),new Error("wtf");this.M(l,d),h=n[3];continue}if(n=at.exec(h),n){const l=R(n[1]),d=R(n[2]),a=R(n[3]),m=R(n[4]);if(l===void 0||d===void 0||a===void 0||m===void 0)throw console.error(n,l,d,a,m,this),new Error("wtf");this.Q(l,d,a,m),h=n[5];continue}if(n=ct.exec(h),n){const l=R(n[1]),d=R(n[2]),a=R(n[3]),m=R(n[4]),r=R(n[5]),g=R(n[6]);if(l===void 0||d===void 0||a===void 0||m===void 0||r===void 0||g===void 0)throw console.error(n,l,d,a,m,r,g,this),new Error("wtf");this.C(l,d,a,m,r,g),h=n[7];continue}throw console.error(h),new Error("wtf")}return this}constructor(){}M(h,n){A(h,n);function l(a,m,r){a.M(h+m,n+r)}function d(a){a.M(h,n)}return this.#t.push({endX:h,endY:n,asString:`M ${h},${n}`,translate:l,toCubic:d}),this}H(h){A(h);function n(m,r,g){m.H(h+r)}const l=this.endX,d=this.endY;function a(m){m.C(x(l,h,1/3),d,x(l,h,2/3),d,h,d)}return this.#t.push({endX:h,endY:d,asString:`H ${h}`,translate:n,toCubic:a}),this}V(h){A(h);function n(m,r,g){m.V(h+g)}const l=this.endX,d=this.endY;function a(m){m.C(l,x(d,h,1/3),l,x(d,h,2/3),l,h)}return this.#t.push({endX:this.endX,endY:h,asString:`V ${h}`,translate:n,toCubic:a}),this}L(h,n){A(h,n);function l(r,g,o){r.L(h+g,n+o)}const d=this.endX,a=this.endY;function m(r){r.C(x(d,h,1/3),x(a,n,1/3),x(d,h,2/3),x(a,n,2/3),h,n)}return this.#t.push({endX:h,endY:n,asString:`L ${h},${n}`,translate:l,toCubic:m}),this}Q(h,n,l,d){A(h,n,l,d);function a(o,b,E){o.Q(h+b,n+E,l+b,d+E)}const m=this.endX,r=this.endY;function g(o){o.C(x(m,h,2/3),x(r,n,2/3),x(l,h,2/3),x(d,n,2/3),l,d)}return this.#t.push({endX:l,endY:d,asString:`Q ${h},${n} ${l},${d}`,translate:a,toCubic:g}),this}Q_HV(h,n){return this.Q(h,this.endY,h,n)}Q_VH(h,n){return this.Q(this.endX,n,h,n)}C(h,n,l,d,a,m){A(h,n,l,d,a,m);function r(o,b,E){o.C(h+b,n+E,l+b,d+E,a+b,m+E)}function g(o){o.C(h,n,l,d,a,m)}return this.#t.push({endX:a,endY:m,asString:`C ${h},${n} ${l},${d} ${a},${m}`,translate:r,toCubic:g}),this}static cssifyPath(h){return`path('${h}')`}get cssPath(){return u.cssifyPath(this.rawPath)}makeElement(){const h=document.createElementNS("http://www.w3.org/2000/svg","path"),n=this.cssPath;if(h.style.d=n,h.style.d=="")throw console.error(n,h),new Error("wtf");return h}get rawPath(){return this.#t.map(h=>h.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(h=>h.cssPath)}get rawPaths(){return this.splitOnMove().map(h=>h.rawPath)}splitOnMove(){const h=[];let n=[];return this.#t.forEach(l=>{l.asString[0]=="M"&&n.length>0&&(h.push(n),n=[]),n.push(l)}),h.push(n),h.map(l=>{const d=new u;return d.#t.push(...l),d})}static join(h){const n=new u;return h.forEach(({Δx:l,Δy:d,shape:a})=>{a.#t.forEach(m=>m.translate(n,l,d))}),n.checkInvariants(),n}convertToCubics(){const h=new u;return this.#t.forEach(n=>n.toCubic(h)),h.checkInvariants(),h}translate(h,n){const l=new u;return this.#t.forEach(d=>d.translate(l,h,n)),l.checkInvariants(),l}}class G{constructor(h,n=h/10){if(this.fontSize=h,this.strokeWidth=n,h<=0||!isFinite(h))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class N{constructor(h,n,l){this.advance=n,this.fontMetrics=l,h instanceof u?this.#t=()=>h:this.#t=h}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(h=>({innerShape:h,element:h.makeElement()}))}}function B(_){const h=new Map;typeof _=="number"&&(_=new G(_));const n=(t,s,e)=>{const i=new N(s,e,_);if(h.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...h].at(-1)[0]}"`);h.set(t,i)},{aWidth:l,digitWidth:d,capitalTop:a,capitalTopMiddle:m,capitalMiddle:r,capitalBottomMiddle:g,baseline:o,descender:b,strokeWidth:E}=_,c=0;{const t=d,e=t/2,i=t;{const p=(b-o)*2,H=b,M=H-p,f=a-p/4,Q=f+p;if(p<=0||H<=M||M<=Q||Q<=f)throw new Error("wtf");const L=d*.5;{const V=u.M(L,f);V.Q_HV(0,Q),V.V(M),V.Q_VH(L,H),n("(",V,L)}{const V=d*.5,v=u.M(0,f);v.Q_HV(V,Q),v.V(M),v.Q_VH(0,H),n(")",v,V)}{const V=u.M(L,f);V.H(0),V.V(H),V.H(L),n("[",V,L)}{const V=u.M(0,f);V.H(L),V.V(H),V.H(0),n("]",V,L)}}{const p=u.M(e,a).Q(i,a,i,m).L(i,g).Q(i,o,e,o).Q(c,o,c,g).L(c,m).Q(c,a,e,a).M(i,m).L(c,g);n("0",p,t)}{const p=u.M(c,m).Q(e,m,e,a).L(e,o).M(c,o).L(i,o);n("1",p,t)}{const p=u.M(c,m).Q_VH(e,a).Q_HV(i,m).Q_VH(e,r).Q_HV(c,o).L(i,o);n("2",p,t)}{const p=u.M(c,m).Q_VH(e,a).Q_HV(i,m).Q_VH(e,r).Q_HV(i,g).Q_VH(e,o).Q_HV(c,g);n("3",p,t)}{const p=(e+i)/2,H=(e+c)/2,M=u.M(i,r).L(c,r).L(H,a).M(p,a).L(p,o);n("4",M,t)}{const p=c+d/5,H=i-d/5,M=(r+g)/2,f=u.M(H,a).L(p,a).L(c,r).Q_VH(e,m).Q_HV(i,M).Q_VH(e,o).Q_HV(c,g);n("5",f,t)}{const p=u.M(i,a).Q_HV(c,g).Q_VH(e,o).Q_HV(i,g).Q_VH(e,r).Q_HV(c,g);n("6",p,t)}{const p=u.M(c,a).L(i,a).L(c,o);n("7",p,t)}{const p=u.M(e,a).Q(i,a,i,m).Q(i,r,e,r).Q(c,r,c,g).Q(c,o,e,o).Q(i,o,i,g).Q(i,r,e,r).Q(c,r,c,m).Q(c,a,e,a);n("8",p,t)}{const p=u.M(i,m).Q(i,a,e,a).Q(c,a,c,m).Q(c,r,e,r).Q(i,r,i,m).Q(i,o,c,o);n("9",p,t)}}{const t=u.M(c,o).L(l/2,a).L(_.aWidth,o).M(_.aWidth/4,r).L(_.aWidth*.75,r);n("A",t,l)}{const t=d,s=m-a;if(s<=0)throw new Error("wtf");const e=(t-s)*(2/3),i=o-g;if(i<=0)throw new Error("wtf");const p=t-i,H=u.M(c,a).L(c,o).L(p,o).M(Math.max(p,e),r).L(c,r).M(c,a).L(e,a).Q(e+s,a,e+s,a+s).Q(e+s,r,e,r).M(p,r).Q(p+i,r,p+i,o-i).Q(p+i,o,p,o);n("B",H,t)}{const t=d,e=t/2,i=t,p=u.M(i,m).Q(i,a,e,a).Q(c,a,c,m).L(c,g).Q(c,o,e,o).Q(i,o,i,g);n("C",p,t)}{const t=d,e=t/2,i=t,p=u.M(c,a).L(c,o).L(e,o).Q(i,o,i,g).L(i,m).Q(i,a,e,a).L(c,a);n("D",p,t)}{const t=d,s=t*(2/3),e=t,i=u.M(e,a).L(c,a).L(c,o).L(e,o).M(s,r).L(c,r);n("E",i,t)}{const t=d,s=t*(2/3),e=t,i=u.M(e,a).L(c,a).L(c,o).M(s,r).L(c,r);n("F",i,t)}{const t=d,e=t/2,i=t,p=u.M(i,m).Q(i,a,e,a).Q(c,a,c,m).L(c,g).Q(c,o,e,o).Q(i,o,i,g).L(i,r).L(e,r);n("G",p,t)}{const t=d,s=t,e=u.M(c,a).L(c,o).M(s,a).L(s,o).M(c,r).L(s,r);n("H",e,t)}{const t=_.mHeight/3,s=t/2,e=t,i=u.M(c,a).L(e,a).M(c,o).L(e,o).M(s,a).L(s,o);n("I",i,t)}{const t=d*.85,e=t/2,i=t,p=u.M(i,a).L(i,g).Q(i,o,e,o).Q(c,o,c,g);n("J",p,t)}{const t=d+E,s=(a+o)/2,e=u.M(c,a).L(c,o).M(t,a).L(c+.5,s).L(t,o);n("K",e,t)}{const t=d,s=u.M(c,a).L(c,o).L(t,o);n("L",s,t)}{const t=d*1.5,s=t/2,e=u.M(c,o).L(c,a).L(s,r).L(t,a).L(t,o);n("M",e,t)}{const t=d*1.2,s=u.M(c,o).L(c,a).L(t,o).L(t,a);n("N",s,t)}{const t=d*1.5,s=t/2,e=(a+o)/2,i=u.M(s,a).Q_HV(t,e).Q_VH(s,o).Q_HV(c,e).Q_VH(s,a);n("O",i,t)}{const t=d,s=r-m;if(s<=0)throw new Error("wtf");const e=t-s,i=u.M(c,a).L(c,o).M(c,a).L(e,a).Q_HV(t,m).Q_VH(e,r).L(c,r);n("P",i,t)}{const t=d*1.5,s=t/2,e=(a+o)/2,i=u.M(s,a).Q_HV(t,e).Q_VH(s,o).Q_HV(c,e).Q_VH(s,a).M(t-s*.75,o-s*.75).L(t+s/6,o+s/6);n("Q",i,t)}{const t=d,s=r-m;if(s<=0)throw new Error("wtf");const e=t-s,i=u.M(c,a).L(c,o).M(c,a).L(e,a).Q_HV(t,m).Q_VH(e,r).L(c,r).M(e,r).L(t,o);n("R",i,t)}{const t=d,s=d/2,e=d,i=u.M(e,m).Q_VH(s,a).Q_HV(c,m).Q_VH(s,r).Q_HV(e,g).Q_VH(s,o).Q_HV(c,g);n("S",i,t)}{const t=d,s=t/2,e=u.M(s,a).L(s,o).M(t,a).L(c,a);n("T",e,t)}{const t=(g+r)/2,s=Math.abs(t-o)*.85,e=s*2,i=u.M(c,a).V(t).Q_VH(s,o).Q_HV(e,t).V(a);n("U",i,e)}{const t=l,s=t/2,e=u.M(c,a).L(s,o).L(t,a);n("V",e,t)}{const t=l*1.5,s=t/3,e=t/2,i=s*2,p=u.M(c,a).L(s,o).L(e,r).L(i,o).L(t,a);n("W",p,t)}{const t=d,s=u.M(t,a).L(c,o).M(c,a).L(t,o);n("X",s,t)}{const t=E,s=d+t,e=u.M(s,a).L(t,o).M(c,a).L(s/2,r);n("Y",e,s)}{const t=d,s=u.M(c,a).H(t).L(c,o).H(t);n("Z",s,t)}{const t=d,s=E/2,e=t+s,i=t/2,p=u.M(i,r).Q_HV(c,g).Q_VH(i,o).Q_HV(t,g).Q_VH(i,r).M(e,r).L(e,o);n("a",p,e)}{const t=d,s=E/2,e=t+s,i=s,p=s+t/2,H=e,M=u.M(c,a).V(o).M(i,g).Q_VH(p,o).Q_HV(H,g).Q_VH(p,r).Q_HV(i,g);n("b",M,e)}{const t=d*.875,s=0,e=d/2,i=t,p=(r+g)/2,H=(g+o)/2,M=u.M(i,p).Q_VH(e,r).Q_HV(s,g).Q_VH(e,o).Q_HV(i,H);n("c",M,t)}{const t=d,s=E/2,e=t+s,i=t/2,p=u.M(i,r).Q_HV(c,g).Q_VH(i,o).Q_HV(t,g).Q_VH(i,r).M(e,a).L(e,o);n("d",p,e)}const W=d/8;{const t=d,s=d/2,e=t,i=e-W,p=u.M(c,g).H(e).Q_VH(s,r).Q_HV(c,g).Q_VH(s,o).H(i);n("e",p,t)}{const t=d*.75,s=t/2,e=t,i=u.M(e,a).Q_HV(s,m).V(o).M(e,r).H(c);n("f",i,t)}{const t=d,s=E/2,e=t+s,i=t/2,p=u.M(i,r).Q_HV(c,g).Q_VH(i,o).Q_HV(t,g).Q_VH(i,r).M(e,r).V(o).Q_VH(i,b).H(c+W);n("g",p,e)}{const t=d*.85,s=t/2,e=u.M(c,a).V(o).Q_VH(s,r).Q_HV(t,g).V(o);n("h",e,t)}const k=E/4;{const s=u.M(c,r).V(o).M(c,m).V(m-k);n("i",s,0)}{const t=Math.abs(o-b),s=t/2,e=u.M(t,r).V(o).Q_VH(s,b).Q_HV(c,o).M(t,m).V(m-k);n("j",e,t)}{const s=u.M(c,o).V(o-k);n(".",s,0)}{const s=(b-o)/2,e=s/2,i=u.M(c,o-k).V(o).Q_VH(-e,o+s);n(",",i,0)}{const s=(g+r)/2,e=u.M(c,o).V(o-k).M(c,s+k).V(s);n(":",e,0)}{const s=(g+r)/2,e=(b-o)/2,i=e/2,p=u.M(c,o-k).V(o).Q_VH(-i,o+e).M(c,s+k).V(s);n(";",p,0)}{const t=_.xHeight*2/3,s=d/10,e=t+s,i=u.M(c,a).V(o).M(t,r).L(c,r+t).M(t/2,o-t).L(e,o);n("k",i,e)}{const s=u.M(c,a).V(o);n("l",s,0)}{const t=d*1.5,s=t/4,e=t/2,i=t*3/4,p=t,H=u.M(c,r).V(o).Q_VH(s,r).Q_HV(e,g).V(o).M(e,g).Q_VH(i,r).Q_HV(p,g).V(o);n("m",H,t)}{const t=d*.85,s=t/2,e=u.M(c,r).V(o).Q_VH(s,r).Q_HV(t,g).V(o);n("n",e,t)}{const t=d,s=0,e=t/2,i=t,p=u.M(e,r).Q_HV(i,g).Q_VH(e,o).Q_HV(s,g).Q_VH(e,r);n("o",p,t)}{const t=d,s=E/2,e=t+s,i=s,p=s+t/2,H=e,M=u.M(c,r).V(b).M(i,g).Q_VH(p,r).Q_HV(H,g).Q_VH(p,o).Q_HV(i,g);n("p",M,e)}{const t=d,s=t/2,e=t+E/2,i=Math.abs(o-b),p=e+i/2,H=e+i,M=u.M(s,r).Q_HV(c,g).Q_VH(s,o).Q_HV(t,g).Q_VH(s,r).M(e,r).V(o).Q_VH(p,b).Q_HV(H,o);n("q",M,H)}{const t=d,s=t/2,e=u.M(c,r).V(o).Q_VH(s,r).Q_HV(t,g);n("r",e,t)}{const t=_.xHeight*2/3,s=t/2,e=o,i=g,p=r,H=(e+i)/2,M=(i+p)/2,f=(M+p)/2,Q=(e+H)/2,L=u.M(t,f).Q_VH(s,p).Q_HV(c,M).Q_VH(s,i).Q_HV(t,H).Q_VH(s,e).Q_HV(c,Q);n("s",L,t)}{const t=d*.75,s=t/2,e=t,i=u.M(s,m).V(g).Q_VH(e,o).M(e,r).H(c);n("t",i,t)}{const t=d*.85,s=t/2,e=u.M(c,r).V(g).Q_VH(s,o).Q_HV(t,r).L(t,o);n("u",e,t)}{const t=d,s=t/2,e=u.M(c,r).L(s,o).L(t,r);n("v",e,t)}{const t=_.xHeight*1.5,s=t/3,e=t/2,i=s*2,p=u.M(c,r).L(s,o).L(e,g).L(i,o).L(t,r);n("w",p,t)}{const t=d,s=u.M(t,r).L(c,o).M(c,r).L(t,o);n("x",s,t)}{const t=d,s=t/2,e=(r+b)/2,i=u.M(t,r).L(c,b).M(c,r).L(s,e);n("y",i,t)}{const t=d,s=u.M(c,r).H(t).L(c,o).H(t);n("z",s,t)}return h}const O=tt("main",SVGSVGElement);function it(_){const h=new Map;return _.forEach((n,l)=>{const{advance:d,fontMetrics:a}=n,m=n.shape.convertToCubics(),r=new N(m,d,a);h.set(l,r)}),h}function rt(_,h=_*.75){const n=B(_);return B(h).forEach((d,a)=>{const m=a.toLowerCase();m!=a&&n.set(m,d)}),n}function K(_,h){const n={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},l=st.generator({options:{...n,...h}}),d=new Map;return _.forEach((a,m)=>{const r=()=>{const o=l.path(a.d),E=l.toPaths(o).map(c=>c.d);return u.fromStrings(...E)},g=new N(r,a.advance,a.fontMetrics);d.set(m,g)}),d}{let _=function(M){return M.length==1},h=function(M){let Q=1/0,L=-1/0;M.forEach(C=>{const{description:$,baseline:X}=C,{fontMetrics:P}=$;Q=Math.min(Q,P.top+X),L=Math.max(L,P.bottom+X)});const V=Q-1,v=L+1,w=document.createElementNS("http://www.w3.org/2000/svg","rect");return w.x.baseVal.value=0,w.y.baseVal.value=V,w.width.baseVal.value=100,w.height.baseVal.value=v-V,O.insertBefore(w,M[0].element),w};class n{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(f=1){this.baseline+=this.lineHeight*f}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=B(5);getDescription(f){return this.font.get(f)}makeRoom(f){this.x+f.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(f){this.x+=f.advance+f.fontMetrics.defaultKerning}moveToCursor(f){f.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(f,Q){this.x+Q>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),O.appendChild(f),f.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=Q}show1(f){this.makeRoom(f);const Q=f.makeElement();O.appendChild(Q);const{x:L,baseline:V}=this;return this.moveToCursor(Q),this.advance(f),{element:Q,x:L,baseline:V}}splitAndShow1(f){this.makeRoom(f);const Q=f.makeElements();return Q.forEach(({element:L})=>{O.appendChild(L),this.moveToCursor(L)}),this.advance(f),Q}show(f){const Q=new Set,L=[...f].flatMap(V=>{const v=this.getDescription(V);return v?{...this.show1(v),description:v,char:V}:V==" "?(this.showSpace(),[]):(Q.add(V),[])});return Q.size>0&&console.warn(Q),L}splitAndShow(f){const Q=new Set,L=[...f].flatMap(V=>{const v=this.getDescription(V);return v?this.splitAndShow1(v):V==" "?(this.showSpace(),[]):(Q.add(V),[])});return Q.size>0&&console.warn(Q),L}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const l=new n;let d="";l.font.forEach((M,f)=>{_(f)&&(d+=f)}),l.show(d),l.CRLF();{const M=l.show(d);M.forEach(({element:f})=>{f.classList.add("lights")}),h(M).style.fill="black"}l.CRLF();const a=l.splitAndShow(d),m=M=>{if(M==0)return 0;const f=a[M].innerShape,Q=a[M-1].innerShape;return Math.hypot(Q.endX-f.startX,Q.endY-f.startY)},{totalLength:r,maxLength:g}=a.reduce(({totalLength:M,maxLength:f},{element:Q},L)=>{const V=Q.getTotalLength();return M+=m(L)+V,f=Math.max(f,V),{totalLength:M,maxLength:f}},{totalLength:0,maxLength:0}),o=Math.ceil(g)+1,b=`0 ${o} ${o} 0`;async function E(){for(;;){let Q=0,L;a.forEach(({element:V},v)=>{const w=V.getTotalLength();Q+=m(v);const C=1e3+Q/r*2e4;Q+=w;const $=w/r*2e4;L=V.animate([{strokeDasharray:b,strokeDashoffset:1e-5},{strokeDasharray:b,strokeDashoffset:-w}],{delay:C,duration:$,fill:"backwards"})}),await L.finished,await U(3e3)}}E(),l.CRLF(),l.font=rt(5,3),l.show("Small  Caps"),l.lineHeight*=1.125;const c=B(new G(6,.5)),W=it(c),k=[{roughness:.4,title:"Heartbeat"},{roughness:.44,title:"Toggle (snap)"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"Do the Wave"},{roughness:.64,title:"Blustery day"}].map(M=>{const{roughness:f,title:Q}=M;return l.font=K(W,{roughness:f}),l.CRLF(),l.show(`${Math.round(f*100)} ${Q??"Rough Font"} [4XxYyZ]`)}),t=k[0],s=k[1],e=k[2],i=k[3],p=k[4],H=K(W,{roughness:0});p.forEach(M=>{function f(){return Math.random()+.5|0}const Q=3+f()+f()+f(),L=nt(Q,()=>({d:M.description.cssPath}));L.push(L[0]);const V=Q*1e4/3,v=V/8,w=Math.exp(x(Math.log(v),Math.log(V),Math.random()));M.element.animate(L,{duration:w,iterations:1/0})}),s.forEach(M=>{const f=H.get(M.char).cssPath,Q=M.element.style.d,L=.03,V=[{offset:0,d:Q},{offset:L,d:f},{offset:.5,d:f},{offset:L+.5,d:Q},{offset:1,d:Q}];M.element.animate(V,{duration:2e3,iterations:1/0})});{const V=i.length,v=V*3,w=5e3;i.forEach((C,$)=>{const X=H.get(C.char).cssPath,P=C.element.style.d,y=C.element.style.transform,T=y+" scale(1.32)",S={d:X,transform:y},Y={d:P,transform:T},D=[{offset:0,...S},{offset:4/v,...Y},{offset:6/v,...Y},{offset:14/v,...S},{offset:1,...S}];C.element.animate(D,{duration:w,iterationStart:1-$/V,iterations:1/0})})}{const M=e;h(M).style.fill="hwb(190 10% 0% / 1)",M.forEach(f=>{const Q=H.get(f.char).cssPath,L=f.element.style.d,V=1/16,v=15/16,w=14e3,C=[{offset:0,strokeWidth:.5},{offset:V,strokeWidth:.5},{offset:v,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],$=[{offset:0,d:Q},{offset:V,d:Q,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:v,d:L},{offset:1,d:L}],X=[{offset:0,opacity:1},{offset:V,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:v,opacity:0},{offset:1,opacity:0}];f.element.animate(X,{duration:w,iterations:1/0}),f.element.animate($,{duration:w,iterations:1/0}),f.element.animate(C,{duration:w,iterations:1/0}),f.element.style.stroke="white"})}t.forEach(M=>{const f=H.get(M.char).cssPath,Q=M.element.style.d,L=750,V="cubic-bezier(.55,0,1,.55)";M.element.animate([{offset:0,d:f,easing:V},{offset:.5,d:Q,easing:V},{offset:1,d:f}],{duration:L,iterations:1/0})});{l.CRLF();const M=.25,f=1.5,Q="The more I drink the more I want to tell you what I really think about you.",L=et(0,M,Q.length-1,f),V=[...Q].flatMap((y,T)=>(l.font=K(W,{roughness:L(T)}),l.splitAndShow(y))),v=y=>{if(y==0)return 0;const T=V[y].innerShape,S=V[y-1].innerShape;return Math.hypot(S.endX-T.startX,S.endY-T.startY)},{totalLength:w,maxLength:C}=V.reduce(({totalLength:y,maxLength:T},{element:S},Y)=>{const D=S.getTotalLength();return y+=v(Y)+D,T=Math.max(T,D),{totalLength:y,maxLength:T}},{totalLength:0,maxLength:0}),$=Math.ceil(C)+1,X=`0 ${$} ${$} 0`;async function P(){for(;;){let S=0,Y;V.forEach(({element:D},q)=>{const z=D.getTotalLength();S+=v(q);const Z=1e3+S/w*3e4;S+=z;const J=z/w*3e4;Y=D.animate([{strokeDasharray:X,strokeDashoffset:1e-5},{strokeDasharray:X,strokeDashoffset:-z}],{delay:Z,duration:J,fill:"backwards"})}),await Y.finished,await U(3e3)}}P()}{let M=function(w){let C=0;const $=0,X=w.map(({shape:P,advance:y,fontMetrics:T})=>{const S={Δx:C,Δy:$,shape:P};return C+=y+T.defaultKerning,S});return{shape:u.join(X),advance:C}};l.font=c,l.CRLF();const f=[l.show("Stop "),l.show("Go")];console.log(f.map(w=>w.map(C=>[...C.element.style.d].filter($=>$.toLowerCase()!=$)).flat().join("")));const Q=M(f[0].map(({description:w})=>w)),L=M(f[1].map(({description:w})=>w));l.CRLF();const V=Q.shape.makeElement();l.showAndAdvance(V,Q.advance),l.showSpace();const v=L.shape.makeElement();l.showAndAdvance(v,L.advance)}}
