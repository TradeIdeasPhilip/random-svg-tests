import{c as R,m as G,i as j,b as tt}from"./client-misc-leadhGo2.js";import{b as I,l as A,c as st,a as O}from"./utility-DcEUXXL7.js";class J{constructor(o,s,l){this.x0=o,this.y0=s,this.x=l,I(o,s,l),this.y=s,this.asString=`H ${l}`}y;incomingAngle=NaN;outgoingAngle=NaN;command="H";asString;translate(o,s){return new J(this.x0+o,this.y0+s,this.x+o)}toCubic(){return new k(this.x0,this.y0,A(this.x0,this.x,1/3),this.y0,A(this.x0,this.x,2/3),this.y0,this.x,this.y0)}}class U{constructor(o,s,l){this.x0=o,this.y0=s,this.y=l,I(o,s,l),this.x=o,this.asString=`V ${l}`}x;incomingAngle=NaN;outgoingAngle=NaN;command="V";asString;translate(o,s){return new U(this.x0+o,this.y0+s,this.y+s)}toCubic(){return new k(this.x0,this.y0,this.x0,A(this.y0,this.y,1/3),this.x0,A(this.y0,this.y,2/3),this.x0,this.y)}}class W{constructor(o,s,l,r){this.x0=o,this.y0=s,this.x=l,this.y=r,I(o,s,l,r),this.asString=`L ${l},${r}`}incomingAngle=NaN;outgoingAngle=NaN;command="L";asString;translate(o,s){return new W(this.x0+o,this.y0+s,this.x+o,this.y+s)}toCubic(){return new k(this.x0,this.y0,A(this.x0,this.x,1/3),A(this.y0,this.y,1/3),A(this.x0,this.x,2/3),A(this.y0,this.y,2/3),this.x,this.y)}}class X{constructor(o,s,l,r,n,u){this.x0=o,this.y0=s,this.x1=l,this.y1=r,this.x=n,this.y=u,I(o,s,l,r,n,u),this.asString=`Q ${l},${r} ${n},${u}`}static angles(o,s,l,r,n,u){I(o,s,l,r,n,u);const p=pt({x0:o,y0:s,slope:Math.tan(l)},{x0:r,y0:n,slope:Math.tan(u)});return p?new this(o,s,p.x,p.y,r,n):new W(o,s,r,n)}incomingAngle=NaN;outgoingAngle=NaN;command="Q";asString;translate(o,s){return new X(this.x0+o,this.y0+s,this.x1+o,this.y1+s,this.x+o,this.y+s)}toCubic(){return new k(this.x0,this.y0,A(this.x0,this.x1,2/3),A(this.y0,this.y1,2/3),A(this.x,this.x1,2/3),A(this.y,this.y1,2/3),this.x,this.y)}}class k{constructor(o,s,l,r,n,u,p,g){this.x0=o,this.y0=s,this.x1=l,this.y1=r,this.x2=n,this.y2=u,this.x=p,this.y=g,I(o,s,l,r,n,u,p,g),this.asString=`C ${l},${r} ${n},${u} ${p},${g}`}reverse(){return new k(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}incomingAngle=NaN;outgoingAngle=NaN;command="C";asString;translate(o,s){return new k(this.x0+o,this.y0+s,this.x1+o,this.y1+s,this.x2+o,this.y2+s,this.x+o,this.y+s)}toCubic(){return this}}class m{get commands(){return this.#t}addCommand(o){this.#t.push(o),this.#s=void 0}addCommands(o){return o.forEach(s=>this.addCommand(s)),this}static fromStrings(o){let s=o.join(" ");const l=[];let r;for(;s=s.replace(/^ */,""),s!="";){let n=it.exec(s);if(n){const u=R(n[1]),p=R(n[2]);if(u===void 0||p===void 0)throw console.error(n,u,p,this),new Error("wtf");r&&l.push(r),r=this.M(u,p),s=n[3];continue}if(r){if(n=ht.exec(s),n){const u=R(n[1]),p=R(n[2]),g=R(n[3]),c=R(n[4]);if(u===void 0||p===void 0||g===void 0||c===void 0)throw console.error(n,u,p,g,c,this),new Error("wtf");r=r.Q(u,p,g,c),s=n[5];continue}if(n=rt.exec(s),n){const u=R(n[1]),p=R(n[2]),g=R(n[3]),c=R(n[4]),w=R(n[5]),x=R(n[6]);if(u===void 0||p===void 0||g===void 0||c===void 0||w===void 0||x===void 0)throw console.error(n,u,p,g,c,w,x,this),new Error("wtf");r=r.C(u,p,g,c,w,x),s=n[7];continue}}throw console.error(s),new Error("wtf")}return r&&l.push(r),l}static M(o,s){const l=new m;return l.M(o,s),l}#t=[];get pathShape(){return new L(this.#t)}#s;M(o,s,l=NaN){return I(o,s),this.#s={x:o,y:s,outgoingAngle:l},this}previous(){return this.#s??this.#t.at(-1)}H(o){const s=this.previous();return this.addCommand(new J(s.x,s.y,o)),this}V(o){const s=this.previous();return this.addCommand(new U(s.x,s.y,o)),this}L(o,s){const l=this.previous();return this.addCommand(new W(l.x,l.y,o,s)),this}Q(o,s,l,r){const n=this.previous();return this.addCommand(new X(n.x,n.y,o,s,l,r)),this}Q_HV(o,s){const l=this.previous();return this.Q(o,l.y,o,s)}Q_VH(o,s){const l=this.previous();return this.Q(l.x,s,o,s)}Q_angles(o,s,l,r){const n=this.previous();if(r??=n.outgoingAngle,r===void 0)throw new Error("wtf");return this.addCommand(X.angles(n.x,n.y,r,o,s,l)),this}C(o,s,l,r,n,u){const p=this.previous();return this.addCommand(new k(p.x,p.y,o,s,l,r,n,u)),this}circle(o,s,l="cw"){const r=this.previous(),n=r.x,u=r.y,p=Math.atan2(u-s,n-o),g=Math.hypot(u-s,n-o),c=l=="cw"?1:-1,w=p+Math.PI*2*c,x=G(0,p,1,w);function h(t){switch(t){case 0:case 1:return r;default:{const a=x(t),e=O(g,a);return{x:o+e.x,y:s+e.y}}}}function b(t){return h(t)}return this.addParametricPath(b,8),this}arc(o,s,l,r,n){const u=this.previous(),p=u.x,g=u.y;let c=st(Math.atan2(g-s,p-o),Math.PI*2);const w=Math.hypot(g-s,p-o);let x=st(Math.atan2(r-s,l-o),Math.PI*2);const h=Math.hypot(r-s,l-o);n=="cw"?c>x&&(x+=Math.PI*2):c<x&&(c+=Math.PI*2);const b=Math.abs(c-x),T=Math.ceil(b*1.17+1e-4),t=G(0,w,1,h),a=G(0,c,1,x);function e(i){switch(i){case 0:return u;case 1:return{x:l,y:r};default:{const d=O(t(i),a(i));return{x:o+d.x,y:s+d.y}}}}return this.addParametricPath(e,T)}addParametricPath(o,s){if(s<=0)throw new Error("wtf");const l=.01/s,r=j(s+1,u=>{const p=u/s,g=o(p),c=ct(o,p,l);return{t:p,point:g,direction:c}});return j(s,u=>({from:r[u],to:r[u+1]})).forEach(u=>{this.Q_angles(u.to.point.x,u.to.point.y,u.to.direction,u.from.direction)}),this}}function ct(V,o,s){if(!(o>=0&&o<=1))throw new Error("Expected 0 ≤ t ≤ 1");const l=Math.max(0,o-s),r=V(l),n=Math.min(1,o+s),u=V(n),p=u.x-r.x,g=u.y-r.y;return p==0&&g==0?NaN:Math.atan2(g,p)}const Z=" *",N="(-?[0-9]+.?[0-9]*)",P=" *[, ] *",it=new RegExp(`^M${Z}${N}${P}${N}(.*)$`),ht=new RegExp(`^Q${Z}${N}${P}${N}${P}${N}${P}${N}(.*)$`),rt=new RegExp(`^C${Z}${N}${P}${N}${P}${N}${P}${N}${P}${N}${P}${N}(.*)$`);class L{matchForMorph(o){const s=this.commands.map(p=>p.toCubic()),l=o.commands.map(p=>p.toCubic());if(s.length!=l.length){const{shorter:p,longer:g}=s.length<l.length?{shorter:s,longer:l}:{shorter:l,longer:s};if(p.length==0)throw new Error("can't morph something into nothing");const c=g.length/p.length,w=[];p.forEach((x,h)=>{const b=Math.round((h+1)*c);for(;w.length<b;)w.push(x)}),p.length=0,p.push(...w)}if(s.length!=l.length)throw new Error("wtf");function r(p){return L.cssifyPath(p.map(g=>new L([g]).rawPath).join())}const n=r(s),u=r(l);return[n,u]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(o){const l=m.fromStrings(o).flatMap(n=>n.commands);return new this(l)}constructor(o){this.commands=[...o]}static cssifyPath(o){return`path('${o}')`}get cssPath(){return L.cssifyPath(this.rawPath)}makeElement(){const o=document.createElementNS("http://www.w3.org/2000/svg","path"),s=this.cssPath;if(o.style.d=s,o.style.d=="")throw console.error(s,o),new Error("wtf");return o}static needAnM(o,s){return!o||o.x!=s.x0||o.y!=s.y0}get rawPath(){return this.commands.flatMap((o,s)=>{const l=[],r=this.commands[s-1];return L.needAnM(r,o)&&l.push(`M ${o.x0},${o.y0}`),l.push(o.asString),l}).join(" ")}get cssPaths(){return this.splitOnMove().map(o=>o.cssPath)}get rawPaths(){return this.splitOnMove().map(o=>o.rawPath)}splitOnMove(){const o=[];let s=[];return this.commands.forEach(l=>{L.needAnM(s.at(-1),l)&&(s=[],o.push(s)),s.push(l)}),o.map(l=>new L(l))}static join(o){return new L(o.flatMap(({Δx:s,Δy:l,shape:r})=>r.translate(s,l).commands))}convertToCubics(){return new L(this.commands.map(o=>o.toCubic()))}translate(o,s){return new L(this.commands.map(l=>l.translate(o,s)))}}function pt(V,o){if(isNaN(V.slope)||isNaN(o.slope)||V.slope==o.slope)return;const s=Math.abs(V.slope)*100>Number.MAX_SAFE_INTEGER,l=Math.abs(o.slope)*100>Number.MAX_SAFE_INTEGER;if(!(s&&l))if(s||l){const r=s?V.x0:o.x0,n=s?o:V,u=n.slope*(r-n.x0)+n.y0;return{x:r,y:u}}else{const r=(o.y0-o.slope*o.x0-V.y0+V.slope*V.x0)/(V.slope-o.slope),n=V.slope*(r-V.x0)+V.y0;return{x:r,y:n}}}class dt{constructor(o,s=o/10){if(this.fontSize=o,this.strokeWidth=s,o<=0||!isFinite(o))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class lt{constructor(o,s,l){this.advance=s,this.fontMetrics=l,o instanceof L?this.#t=()=>o:this.#t=o}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(o=>({innerShape:o,element:o.makeElement()}))}}const nt=0,D=Math.PI/4,q=2*D,ut=3*D,et=4*D,mt=5*D,Y=6*D;function at(V){const o=new Map;typeof V=="number"&&(V=new dt(V));const s=(t,a,e)=>{const i=new lt(a,e,V);if(o.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...o].at(-1)[0]}"`);o.set(t,i)},{aWidth:l,digitWidth:r,capitalTop:n,capitalTopMiddle:u,capitalMiddle:p,capitalBottomMiddle:g,baseline:c,descender:w,strokeWidth:x}=V,h=0,b=x/4;{const t=r,e=t/2,i=t;{const d=(w-c)*2,M=w,Q=M-d,f=n-d/4,_=f+d;if(d<=0||M<=Q||Q<=_||_<=f)throw new Error("wtf");const H=r*.5;{const v=m.M(H,f).Q_HV(0,_).V(Q).Q_VH(H,M).pathShape;s("(",v,H)}{const v=r*.5,y=m.M(0,f).Q_HV(v,_).V(Q).Q_VH(0,M).pathShape;s(")",y,v)}{const v=m.M(H,f).H(0).V(M).H(H).pathShape;s("[",v,H)}{const v=m.M(0,f).H(H).V(M).H(0).pathShape;s("]",v,H)}}{const d=r*.75,M=d/2,Q=m.M(M,p-M).V(p+M).M(h,p).H(d).pathShape;s("+",Q,d)}{const d=r*.75,M=m.M(h,p).H(d).pathShape;s("-",M,d)}{const d=r/2*.9,M=5,Q=-Math.PI/2,f=(n+c)/2,_=0,H=j(M,S=>{const F=S*(Math.PI*2)/M+Q,B=O(_,F),K=O(d,F);return[B,K]}),v=H.flat(),y=Math.min(...v.map(({x:S})=>S));v.forEach(S=>{S.x-=y,S.y+=f});const C=H.map(([S,F])=>new W(S.x,S.y,F.x,F.y)),E=new L(C),$=Math.max(...v.map(({x:S})=>S));s("*",E,$)}{const d=r*.75,M=m.M(h,p-x*1.25).H(d).M(h,p+x*1.25).H(d).pathShape;s("=",M,d)}{const d=r*1.25,M=c+x,Q=m.M(0,M).H(d).pathShape;s("_",Q,d)}{const d=r/2,M=3*d,Q=d/3,f=n,_=f+d,H=_+d,v=H+d,y=m.M(d+Q,f).L(d-Q,v).M(2*d+Q,f).L(2*d-Q,v).M(0,_).H(M).M(0,H).H(M).pathShape;s("#",y,M)}{const d=r/2,M=3*d,Q=0,f=d,_=M/2,H=2*d,v=M,y=n+(V.mHeight-M)/2,C=y+f,E=y+_,$=y+H,S=y+v,F=m.M(H,E).Q_VH(_,C).Q_HV(f,E).Q_VH(_,$).Q_HV(H,E).Q_VH((H+v)/2,$).Q_HV(v,E).V((C+E)/2).Q_VH(_,y).Q_HV(Q,E).Q_VH(_,S).H((H+v)/2).pathShape;s("@",F,M)}{const d=m.M(e,n).Q(i,n,i,u).L(i,g).Q(i,c,e,c).Q(h,c,h,g).L(h,u).Q(h,n,e,n).M(i,u).L(h,g).pathShape;s("0",d,t)}{const d=m.M(h,u).Q(e,u,e,n).L(e,c).M(h,c).L(i,c).pathShape;s("1",d,t)}{const d=m.M(h,u).Q_VH(e,n).Q_HV(i,u).Q_VH(e,p).Q_HV(h,c).L(i,c).pathShape;s("2",d,t)}{const d=m.M(h,u).Q_VH(e,n).Q_HV(i,u).Q_VH(e,p).Q_HV(i,g).Q_VH(e,c).Q_HV(h,g).pathShape;s("3",d,t)}{const d=(e+i)/2,M=(e+h)/2,Q=m.M(i,p).L(h,p).L(M,n).M(d,n).L(d,c).pathShape;s("4",Q,t)}{const d=h+r/5,M=i-r/5,Q=(p+g)/2,f=m.M(M,n).L(d,n).L(h,p).Q_VH(e,u).Q_HV(i,Q).Q_VH(e,c).Q_HV(h,g).pathShape;s("5",f,t)}{const d=m.M(i,n).Q_HV(h,g).Q_VH(e,c).Q_HV(i,g).Q_VH(e,p).Q_HV(h,g).pathShape;s("6",d,t)}{const d=m.M(h,n).L(i,n).L(h,c).pathShape;s("7",d,t)}{const d=m.M(e,n).Q(i,n,i,u).Q(i,p,e,p).Q(h,p,h,g).Q(h,c,e,c).Q(i,c,i,g).Q(i,p,e,p).Q(h,p,h,u).Q(h,n,e,n).pathShape;s("8",d,t)}{const d=m.M(i,u).Q(i,n,e,n).Q(h,n,h,u).Q(h,p,e,p).Q(i,p,i,u).Q(i,c,h,c).pathShape;s("9",d,t)}}{const t=m.M(h,c).L(l/2,n).L(V.aWidth,c).M(V.aWidth/4,p).L(V.aWidth*.75,p).pathShape;s("A",t,l)}{const t=r,a=u-n;if(a<=0)throw new Error("wtf");const e=(t-a)*(2/3),i=c-g;if(i<=0)throw new Error("wtf");const d=t-i,M=m.M(h,n).L(h,c).L(d,c).M(Math.max(d,e),p).L(h,p).M(h,n).L(e,n).Q(e+a,n,e+a,n+a).Q(e+a,p,e,p).M(d,p).Q(d+i,p,d+i,c-i).Q(d+i,c,d,c).pathShape;s("B",M,t)}{const t=r,e=t/2,i=t,d=m.M(i,u).Q(i,n,e,n).Q(h,n,h,u).L(h,g).Q(h,c,e,c).Q(i,c,i,g).pathShape;s("C",d,t)}{const t=r,e=t/2,i=t,d=m.M(h,n).L(h,c).L(e,c).Q(i,c,i,g).L(i,u).Q(i,n,e,n).L(h,n).pathShape;s("D",d,t)}{const t=r,a=t*(2/3),e=t,i=m.M(e,n).L(h,n).L(h,c).L(e,c).M(a,p).L(h,p).pathShape;s("E",i,t)}{const t=r,a=t*(2/3),e=t,i=m.M(e,n).L(h,n).L(h,c).M(a,p).L(h,p).pathShape;s("F",i,t)}{const t=r,e=t/2,i=t,d=m.M(i,u).Q(i,n,e,n).Q(h,n,h,u).L(h,g).Q(h,c,e,c).Q(i,c,i,g).L(i,p).L(e,p).pathShape;s("G",d,t)}{const t=r,a=t,e=m.M(h,n).L(h,c).M(a,n).L(a,c).M(h,p).L(a,p).pathShape;s("H",e,t)}{const t=V.mHeight/3,a=t/2,e=t,i=m.M(h,n).L(e,n).M(h,c).L(e,c).M(a,n).L(a,c).pathShape;s("I",i,t)}{const t=r*.85,e=t/2,i=t,d=m.M(i,n).L(i,g).Q(i,c,e,c).Q(h,c,h,g).pathShape;s("J",d,t)}{const t=r+x,a=(n+c)/2,e=m.M(h,n).L(h,c).M(t,n).L(h+.5,a).L(t,c).pathShape;s("K",e,t)}{const t=r,a=m.M(h,n).L(h,c).L(t,c).pathShape;s("L",a,t)}{const t=r*1.5,a=t/2,e=m.M(h,c).L(h,n).L(a,p).L(t,n).L(t,c).pathShape;s("M",e,t)}{const t=r*1.2,a=m.M(h,c).L(h,n).L(t,c).L(t,n).pathShape;s("N",a,t)}{const t=r*1.5,a=t/2,e=(n+c)/2,i=m.M(a,n).Q_HV(t,e).Q_VH(a,c).Q_HV(h,e).Q_VH(a,n).pathShape;s("O",i,t)}{const t=r,a=p-u;if(a<=0)throw new Error("wtf");const e=t-a,i=m.M(h,n).L(h,c).M(h,n).L(e,n).Q_HV(t,u).Q_VH(e,p).L(h,p).pathShape;s("P",i,t)}{const t=r*1.5,a=t/2,e=(n+c)/2,i=m.M(a,n).Q_HV(t,e).Q_VH(a,c).Q_HV(h,e).Q_VH(a,n).M(t-a*.75,c-a*.75).L(t+a/6,c+a/6).pathShape;s("Q",i,t)}{const t=r,a=p-u;if(a<=0)throw new Error("wtf");const e=t-a,i=m.M(h,n).L(h,c).M(h,n).L(e,n).Q_HV(t,u).Q_VH(e,p).L(h,p).M(e,p).L(t,c).pathShape;s("R",i,t)}{const t=r,a=r/2,e=r,i=m.M(e,u).Q_VH(a,n).Q_HV(h,u).Q_VH(a,p).Q_HV(e,g).Q_VH(a,c).Q_HV(h,g).pathShape;s("S",i,t)}{const a=r+x,e=a/2,i=a,d=V.mHeight/8,M=m.M(i,u).Q_VH(e,n).Q_HV(h,u).Q_VH(e,p).Q_HV(i,g).Q_VH(e,c).Q_HV(h,g).M(e,n-d).V(c+d).pathShape;s("$",M,a)}{const t=r,a=t/2,e=m.M(a,n).L(a,c).M(t,n).L(h,n).pathShape;s("T",e,t)}{const t=(g+p)/2,a=Math.abs(t-c)*.85,e=a*2,i=m.M(h,n).V(t).Q_VH(a,c).Q_HV(e,t).V(n).pathShape;s("U",i,e)}{const t=l,a=t/2,e=m.M(h,n).L(a,c).L(t,n).pathShape;s("V",e,t)}{const t=l*1.5,a=t/3,e=t/2,i=a*2,d=m.M(h,n).L(a,c).L(e,p).L(i,c).L(t,n).pathShape;s("W",d,t)}{const t=r,a=m.M(t,n).L(h,c).M(h,n).L(t,c).pathShape;s("X",a,t)}{const t=x,a=r+t,e=m.M(a,n).L(t,c).M(h,n).L(a/2,p).pathShape;s("Y",e,a)}{const t=r,a=m.M(h,n).H(t).L(h,c).H(t).pathShape;s("Z",a,t)}{const t=r/4,a=r*1.2,e=m.M(t*2,n+t).Q_VH(t,n).Q_HV(0,n+t).Q_VH(t,n+t*2).Q_HV(t*2,n+t),d=e.pathShape.translate(a-t*2,V.mHeight-t*2);e.addCommands(d.commands),e.M(a,n).L(h,c);const M=e.pathShape;s("%",M,a)}{const t=r,a=m.M(t,n).L(h,c).pathShape;s("/",a,t)}{const t=r,a=m.M(h,n).L(t,c).pathShape;s("\\",a,t)}{const t=r,a=x/2,e=t+a,i=t/2,d=m.M(i,p).Q_HV(h,g).Q_VH(i,c).Q_HV(t,g).Q_VH(i,p).M(e,p).L(e,c).pathShape;s("a",d,e)}{const t=r,a=x/2,e=t+a,i=a,d=a+t/2,M=e,Q=m.M(h,n).V(c).M(i,g).Q_VH(d,c).Q_HV(M,g).Q_VH(d,p).Q_HV(i,g).pathShape;s("b",Q,e)}{const t=r*.875,a=0,e=r/2,i=t,d=(p+g)/2,M=(g+c)/2,Q=m.M(i,d).Q_VH(e,p).Q_HV(a,g).Q_VH(e,c).Q_HV(i,M).pathShape;s("c",Q,t)}{const t=r,a=x/2,e=t+a,i=t/2,d=m.M(i,p).Q_HV(h,g).Q_VH(i,c).Q_HV(t,g).Q_VH(i,p).M(e,n).L(e,c).pathShape;s("d",d,e)}const T=r/8;{const t=r,a=r/2,e=t,i=e-T,d=m.M(h,g).H(e).Q_VH(a,p).Q_HV(h,g).Q_VH(a,c).H(i).pathShape;s("e",d,t)}{const t=r*.75,a=t/2,e=t,i=m.M(e,n).Q_HV(a,u).V(c).M(e,p).H(h).pathShape;s("f",i,t)}{const t=r,a=x/2,e=t+a,i=t/2,d=m.M(i,p).Q_HV(h,g).Q_VH(i,c).Q_HV(t,g).Q_VH(i,p).M(e,p).V(c).Q_VH(i,w).H(h+T).pathShape;s("g",d,e)}{const t=r*.85,a=t/2,e=m.M(h,n).V(c).Q_VH(a,p).Q_HV(t,g).V(c).pathShape;s("h",e,t)}{const a=m.M(h,p).V(c).M(h,u).V(u-b).pathShape;s("i",a,0)}{const t=Math.abs(c-w),a=t/2,e=m.M(t,p).V(c).Q_VH(a,w).Q_HV(h,c).M(t,u).V(u-b).pathShape;s("j",e,t)}{const a=m.M(h,c).V(c-b).pathShape;s(".",a,0)}{const a=m.M(h,n).V(g).M(h,c).V(c-b).pathShape;s("!",a,0)}{const a=(w-c)/2,e=a/2,i=m.M(h,c-b).V(c).Q_VH(-e,c+a).pathShape;s(",",i,0)}{const e=(w-c)/2+b,i=new L([new W(h,n,h,n+e)]);s("'",i,0)}{const a=(w-c)/2+b,e=a,i=a,d=new L([new W(i,n,h,n+a)]);s("`",d,e)}{const t=x*2,e=(w-c)/2+b,i=new L([new W(h,n,h,n+e),new W(t,n,t,n+e)]);s('"',i,t)}{const a=p,e=m.M(h,c).V(c-b).M(h,a-b).V(a).pathShape;s(":",e,0)}{const a=new L([new W(h,n,h,c)]);s("|",a,0)}{const a=p,e=(w-c)/2,i=e/2,d=m.M(h,c-b).V(c).Q_VH(-i,c+e).M(h,a-b).V(a).pathShape;s(";",d,0)}{const t=V.xHeight*2/3,a=r/10,e=t+a,i=m.M(h,n).V(c).M(t,p).L(h,p+t).M(t/2,c-t).L(e,c).pathShape;s("k",i,e)}{const a=m.M(h,n).V(c).pathShape;s("l",a,0)}{const t=r*1.5,a=t/4,e=t/2,i=t*3/4,d=t,M=m.M(h,p).V(c).Q_VH(a,p).Q_HV(e,g).V(c).M(e,g).Q_VH(i,p).Q_HV(d,g).V(c).pathShape;s("m",M,t)}{const t=r*.85,a=t/2,e=m.M(h,p).V(c).Q_VH(a,p).Q_HV(t,g).V(c).pathShape;s("n",e,t)}{const t=r,a=0,e=t/2,i=t,d=m.M(e,p).Q_HV(i,g).Q_VH(e,c).Q_HV(a,g).Q_VH(e,p).pathShape;s("o",d,t)}{const t=r,a=x/2,e=t+a,i=a,d=a+t/2,M=e,Q=m.M(h,p).V(w).M(i,g).Q_VH(d,p).Q_HV(M,g).Q_VH(d,c).Q_HV(i,g).pathShape;s("p",Q,e)}{const t=r,a=t/2,e=t+x/2,i=Math.abs(c-w),d=e+i/2,M=e+i,Q=m.M(a,p).Q_HV(h,g).Q_VH(a,c).Q_HV(t,g).Q_VH(a,p).M(e,p).V(c).Q_VH(d,w).Q_HV(M,c).pathShape;s("q",Q,M)}{const t=r,a=t/2,e=m.M(h,p).V(c).Q_VH(a,p).Q_HV(t,g).pathShape;s("r",e,t)}{const t=V.xHeight*2/3,a=t/2,e=c,i=g,d=p,M=(e+i)/2,Q=(i+d)/2,f=(Q+d)/2,_=(e+M)/2,H=m.M(t,f).Q_VH(a,d).Q_HV(h,Q).Q_VH(a,i).Q_HV(t,M).Q_VH(a,e).Q_HV(h,_).pathShape;s("s",H,t)}{const t=r*.75,a=t/2,e=t,i=m.M(a,u).V(g).Q_VH(e,c).M(e,p).H(h).pathShape;s("t",i,t)}{const t=r*.85,a=t/2,e=m.M(h,p).V(g).Q_VH(a,c).Q_HV(t,p).L(t,c).pathShape;s("u",e,t)}{const t=r,a=t/2,e=m.M(h,p).L(a,c).L(t,p).pathShape;s("v",e,t)}{const t=V.xHeight*1.5,a=t/3,e=t/2,i=a*2,d=m.M(h,p).L(a,c).L(e,g).L(i,c).L(t,p).pathShape;s("w",d,t)}{const t=r,a=m.M(t,p).L(h,c).M(h,p).L(t,c).pathShape;s("x",a,t)}{const t=r,a=t/2,e=(p+w)/2,i=m.M(t,p).L(h,w).M(h,p).L(a,e).pathShape;s("y",i,t)}{const t=r,a=m.M(h,p).H(t).L(h,c).H(t).pathShape;s("z",a,t)}{const t=r/2,a=t/2,e=m.M(a,n).circle(a,n+a,"cw").pathShape;s("°",e,t)}{const t=-n,a=t/2,e=m.M(a,n).circle(a,n+a,"cw").pathShape;s("◯",e,t)}{const t=-n,a=t/2,e=n/2,i=m.M(0,e).arc(a,e,t,e,"cw").pathShape;s("◠",i,t)}{const t=-n,a=t/2,e=n/2,i=m.M(0,e).arc(a,e,t,e,"ccw").pathShape;s("◡",i,t)}{const t=-n,a=t/4,e=n+a,i=m.M(a*2,e).arc(a*3,e,t,e,"cw").Q_angles(a*2,c,ut,q).Q_angles(0,e,Y,mt).arc(a,e,a*2,e,"cw").pathShape;s("♡",i,t)}{const t=V.mHeight,a=t/4,e=a;{const i=t,d=(n+c)/2,M=m.M(e,d-a).L(0,d).L(e,d+a).M(0,d).L(i,d).M(i-e,d-a).L(i,d).L(i-e,d+a);s("↔",M.pathShape,i);const Q=new L(M.commands.slice(0,3));s("←",Q,i);const f=new L(M.commands.slice(2,5));s("→",f,i)}{const d=a,M=a*2,Q=M,f=m.M(0,n+e).L(d,n).L(Q,n+e).M(d,n).L(d,c).M(0,c-e).L(d,c).L(Q,c-e);s("↕",f.pathShape,M);const _=new L(f.commands.slice(0,3));s("↑",_,M);const H=new L(f.commands.slice(2,5));s("↓",H,M)}}{const t=V.mHeight,a=0,e=t/2,i=t,d=n,M=c,Q=(d+M)/2,f=Math.PI/16,_=m.M(e,d).Q_angles(i,Q,nt+f,q-f).Q_angles(e,M,q+f,nt-f).Q_angles(a,Q,et+f,Y-f).Q_angles(e,d,Y+f,et-f).pathShape;s("✧",_,t)}{let t=function(H,v){const y=H.maxY-H.minY,E=(v.bottom-v.top)/y,S=(H.maxX-H.minX)*E,F=0,B=S,K=tt(H.minX,F,H.maxX,B),ot=tt(H.minY,v.top,H.maxY,v.bottom);return{x:K,y:ot,advance:B}},a=function(){const H={x:1/0,y:1/0},v={x:-1/0,y:-1/0};M.forEach($=>{["x","y"].forEach(S=>{H[S]=Math.min(H[S],$[S]),v[S]=Math.max(v[S],$[S])})});const y={minX:H.x,maxX:v.x,minY:H.y,maxY:v.y},E=t(y,{top:n,bottom:c});return M.forEach($=>{$.x=E.x($.x),$.y=E.y($.y)}),E};const d=Y,M=j(5,H=>{const v=d+H*(2*Math.PI)*2/5;return O(1,v)}),Q=a(),f=M.map((H,v,y)=>{const C=y.at(v+1-y.length);return new W(H.x,H.y,C.x,C.y)});s("☆",new L(f),Q.advance);const _=M.map((H,v,y)=>{const C=y.at(v+1-y.length),E=Math.atan2(C.y-H.y,C.x-H.x),$=.175;return X.angles(H.x,H.y,E+$,C.x,C.y,E-$)});s("⭒",new L(_),Q.advance)}return new Map([...o.entries()].sort(([t],[a])=>t<a?-1:t==a?1:0))}class z{restart(o=5,s=this.lineHeight){this.leftMargin=o,this.x=o,this.baseline=s}leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=at(5);getDescription(o){return this.font.get(o)}static join(o){return new L(o.flatMap(s=>s.description.shape.translate(s.x,s.baseline).commands))}displayText(o,s){return o.map(l=>{const r=l.description.shape,n=r.makeElement();return s.appendChild(n),n.style.transform=`translate(${l.x}px,${l.baseline}px)`,{...l,shape:r,element:n}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(o){const s=new Set,l=[];for(;;){const r=z.WORD_BREAK.exec(o);if(!r)break;const n=r[1];if(o=r[2],n[0]==`
`)this.carriageReturn(),this.lineFeed(n.length*4/3);else if(n[0]==" ")this.addSpace(n.length);else{let u=0;const p=0,g=[...n].flatMap(c=>{const w=this.getDescription(c);if(w){const x=w.advance+w.fontMetrics.defaultKerning,h={x:u,width:x,baseline:p,description:w,char:c};return u+=x,h}else return s.add(c),[]});this.x+u>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),g.forEach(c=>{c.x+=this.x,c.baseline=this.baseline,l.push(c)}),this.x+=u}}return s.size>0&&console.warn(s),l}addSpace(o=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*o}static textToShape(o,s){const l=new z;l.font=s;const r=l.addText(o),n=z.join(r),u=l.x;return{shape:n,advance:u}}}class Ht{constructor(o){this.element=o}leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=at(5);getDescription(o){return this.font.get(o)}makeRoom(o){this.x+o.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(o){this.x+=o.advance+o.fontMetrics.defaultKerning}moveToCursor(o){o.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(o,s){return this.x+s>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),this.element.appendChild(o),o.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=s,this}show1(o){this.makeRoom(o);const s=o.makeElement();this.element.appendChild(s);const{x:l,baseline:r}=this;return this.moveToCursor(s),this.advance(o),{element:s,x:l,baseline:r}}splitAndShow1(o){this.makeRoom(o);const s=o.makeElements();return s.forEach(({element:l})=>{this.element.appendChild(l),this.moveToCursor(l)}),this.advance(o),s}show(o){const s=new Set,l=[...o].flatMap(r=>{const n=this.getDescription(r);return n?{...this.show1(n),description:n,char:r}:r==" "?(this.showSpace(),[]):(s.add(r),[])});return s.size>0&&console.warn(s),l}splitAndShow(o){const s=new Set,l=[...o].flatMap(r=>{const n=this.getDescription(r);return n?this.splitAndShow1(n):r==" "?(this.showSpace(),[]):(s.add(r),[])});return s.size>0&&console.warn(s),l}showSpace(o=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*o,this}}export{lt as D,dt as F,L as P,z as T,Ht as W,at as m};
