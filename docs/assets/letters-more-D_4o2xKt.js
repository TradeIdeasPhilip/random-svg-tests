import{m as P}from"./client-misc-CqK8Npau.js";import{P as E,Q as W,b as d,L as T}from"./path-shape-BXOkZTxi.js";class j{constructor(H,h=H/10){if(this.fontSize=H,this.strokeWidth=h,H<=0||!isFinite(H))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class q{constructor(H,h,_){this.advance=h,this.fontMetrics=_,H instanceof E?this.#t=()=>H:this.#t=H}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(H=>({innerShape:H,element:H.makeElement()}))}}function tt(S){function H(r){return r.length==1}let h="",_=[];return S.forEach((r,o)=>{H(o)?h+=o:_.push(r)}),{normal:h,special:_}}const O=0,F=Math.PI/4,B=2*F,G=3*F,$=4*F,J=5*F,I=6*F,Y=7*F;function K(S){const H=new Map;typeof S=="number"&&(S=new j(S));const h=(t,e,n)=>{const s=new q(e,n,S);if(H.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...H].at(-1)[0]}"`);H.set(t,s)},{aWidth:_,digitWidth:r,capitalTop:o,capitalTopMiddle:m,capitalMiddle:p,capitalBottomMiddle:M,baseline:a,descender:b,strokeWidth:k}=S,c=0,w=k/3;{const t=S.mHeight,e=.5803571598560251*t,n=[];n.push(W.controlPoints(.5803571598560251*t,-.011904772996231272*t,.1993461912459357*t,-.4845653833822309*t,.15178572549774305*t,-.5833333559985097*t)),n.push(W.controlPoints(.15178572549774305*t,-.5833333559985097*t,.07142858010885174*t,-.7502096094253163*t,.07142858010885174*t,-.8809523915616125*t)),n.push(W.controlPoints(.07142858010885174*t,-.8809523915616125*t,.07142858010885174*t,-1*t,.18154763484090689*t,-1*t)),n.push(W.controlPoints(.18154763484090689*t,-1*t,.3125000278492327*t,-1*t,.3125000278492327*t,-.8809523857747589*t)),n.push(W.controlPoints(.3125000278492327*t,-.8809523857747589*t,.3125000278492327*t,-.795672021064033*t,.14880952935525849*t,-.5863095347804337*t)),n.push(W.controlPoints(.14880952935525849*t,-.5863095347804337*t,0*t,-.39598002063544424*t,0*t,-.23511904966855834*t)),n.push(W.controlPoints(0*t,-.23511904966855834*t,0*t,0*t,.16369048113341364*t,0*t)),n.push(W.controlPoints(.16369048113341364*t,0*t,.31699631330709954*t,0*t,.45535713019840074*t,-.4583333263408854*t)),h("&",new E(n),e)}{const t=r,e=t/2*Math.sqrt(3),n=(a+o)/2,s=n-t/2,i=s+t,l=0,Q=e;h("<",new E([W.line4(Q,s,l,n),W.line4(l,n,Q,i)]),e),h(">",new E([W.line4(l,s,Q,n),W.line4(Q,n,l,i)]),e)}{const t=r*.9,e=t/2,n=t/2,s=n*Math.SQRT1_2,i=d.M(c,o+n);i.arc(e,o+n,e+s,o+n+s,"cw"),i.Q_angles(e,M,B),i.M(e,a-w),i.L(e,a),h("?",i.pathShape,t)}{const t=r*7/8,e=t/2,n=t,s=t/2,i=S.mHeight/8,l=o-i,Q=a+i;if(Q-l<s*4)throw new Error("wtf");const V=(l+Q)/2,L=d.M(n,l).arc(n,l+s,e,l+s,"ccw").L(e,V-s).arc(c,V-s,c,V,"cw").arc(c,V+s,e,V+s,"cw").L(e,Q-s).arc(n,Q-s,n,Q,"ccw").pathShape;h("{",L,t);const g=d.M(c,l).arc(c,l+s,e,l+s,"cw").L(e,V-s).arc(n,V-s,n,V,"ccw").arc(n,V+s,e,V+s,"ccw").L(e,Q-s).arc(c,Q-s,c,Q,"cw").pathShape;h("}",g,t)}{const t=r,n=t/2,s=t;{const i=(b-a)*2,l=b,Q=l-i,V=o-i/4,L=V+i;if(i<=0||l<=Q||Q<=L||L<=V)throw new Error("wtf");const g=r*.5;{const u=d.M(g,V).Q_HV(0,L).V(Q).Q_VH(g,l).pathShape;h("(",u,g)}{const u=r*.5,f=d.M(0,V).Q_HV(u,L).V(Q).Q_VH(0,l).pathShape;h(")",f,u)}{const u=d.M(g,V).H(0).V(l).H(g).pathShape;h("[",u,g)}{const u=d.M(0,V).H(g).V(l).H(0).pathShape;h("]",u,g)}}{const i=r*.4,l=r*.3,Q=c,V=Q+i,L=V+l,g=L+l,u=g+i,f=u,R=r*.25,x=p,y=x-R,v=x+R,C=d.M(Q,x).Q_angles(V,y,O,Y).Q_angles(L,x,(B+F)/2).Q_angles(g,v,O).Q_angles(u,x,Y).pathShape;h("~",C,f)}{const i=r*.75,l=i/2,Q=d.M(l,p-l).V(p+l).M(c,p).H(i).pathShape;h("+",Q,i)}{const i=r*.75,l=d.M(c,p).H(i).pathShape;h("-",l,i)}{const i=r/2*.9,l=5,Q=-Math.PI/2,V=(o+a)/2,L=0,g=P.initializedArray(l,v=>{const C=v*(Math.PI*2)/l+Q,D=P.polarToRectangular(L,C),z=P.polarToRectangular(i,C);return[D,z]}),u=g.flat(),f=Math.min(...u.map(({x:v})=>v));u.forEach(v=>{v.x-=f,v.y+=V});const R=g.map(([v,C])=>new T(v.x,v.y,C.x,C.y)),x=new E(R),y=Math.max(...u.map(({x:v})=>v));h("*",x,y)}{const i=r*.75,l=d.M(c,p-k*1.25).H(i).M(c,p+k*1.25).H(i).pathShape;h("=",l,i)}{const i=r*1.25,l=a+k,Q=d.M(0,l).H(i).pathShape;h("_",Q,i)}{const i=r/2,l=3*i,Q=i/3,V=o,L=V+i,g=L+i,u=g+i,f=d.M(i+Q,V).L(i-Q,u).M(2*i+Q,V).L(2*i-Q,u).M(0,L).H(l).M(0,g).H(l).pathShape;h("#",f,l)}{const i=r/2,l=3*i,Q=0,V=i,L=l/2,g=2*i,u=l,f=o+(S.mHeight-l)/2,R=f+V,x=f+L,y=f+g,v=f+u,C=d.M(g,x).Q_VH(L,R).Q_HV(V,x).Q_VH(L,y).Q_HV(g,x).Q_VH((g+u)/2,y).Q_HV(u,x).V((R+x)/2).Q_VH(L,f).Q_HV(Q,x).Q_VH(L,v).H((g+u)/2).pathShape;h("@",C,l)}{const i=d.M(n,o).Q(s,o,s,m).L(s,M).Q(s,a,n,a).Q(c,a,c,M).L(c,m).Q(c,o,n,o).M(s,m).L(c,M).pathShape;h("0",i,t)}{const i=d.M(c,m).Q(n,m,n,o).L(n,a).M(c,a).L(s,a).pathShape;h("1",i,t)}{const i=d.M(c,m).Q_VH(n,o).Q_HV(s,m).Q_VH(n,p).Q_HV(c,a).L(s,a).pathShape;h("2",i,t)}{const i=d.M(c,m).Q_VH(n,o).Q_HV(s,m).Q_VH(n,p).Q_HV(s,M).Q_VH(n,a).Q_HV(c,M).pathShape;h("3",i,t)}{const i=(n+s)/2,l=(n+c)/2,Q=d.M(s,p).L(c,p).L(l,o).M(i,o).L(i,a).pathShape;h("4",Q,t)}{const i=c+r/5,l=s-r/5,Q=(p+M)/2,V=d.M(l,o).L(i,o).L(c,p).Q_VH(n,m).Q_HV(s,Q).Q_VH(n,a).Q_HV(c,M).pathShape;h("5",V,t)}{const i=d.M(s,o).Q_HV(c,M).Q_VH(n,a).Q_HV(s,M).Q_VH(n,p).Q_HV(c,M).pathShape;h("6",i,t)}{const i=d.M(c,o).L(s,o).L(c,a).pathShape;h("7",i,t)}{const i=d.M(n,o).Q(s,o,s,m).Q(s,p,n,p).Q(c,p,c,M).Q(c,a,n,a).Q(s,a,s,M).Q(s,p,n,p).Q(c,p,c,m).Q(c,o,n,o).pathShape;h("8",i,t)}{const i=d.M(s,m).Q(s,o,n,o).Q(c,o,c,m).Q(c,p,n,p).Q(s,p,s,m).Q(s,a,c,a).pathShape;h("9",i,t)}}{const t=d.M(c,a).L(_/2,o).L(S.aWidth,a).M(S.aWidth/4,p).L(S.aWidth*.75,p).pathShape;h("A",t,_)}{const t=r,e=m-o;if(e<=0)throw new Error("wtf");const n=(t-e)*(2/3),s=a-M;if(s<=0)throw new Error("wtf");const i=t-s,l=d.M(c,a).L(c,o).L(n,o).Q_HV(n+e,o+e).Q(n+e,p,n,p).L(c,p).M(Math.max(i,n),p).Q_HV(i+s,a-s).Q_VH(i,a).L(c,a).pathShape;h("B",l,t)}{const t=r,n=t/2,s=t,i=d.M(s,m).Q(s,o,n,o).Q(c,o,c,m).L(c,M).Q(c,a,n,a).Q(s,a,s,M).pathShape;h("C",i,t)}{const t=r,n=t/2,s=t,i=d.M(c,o).L(c,a).L(n,a).Q(s,a,s,M).L(s,m).Q(s,o,n,o).L(c,o).pathShape;h("D",i,t)}{const t=r,e=t*(2/3),n=t,s=d.M(n,o).L(c,o).L(c,a).L(n,a).M(e,p).L(c,p).pathShape;h("E",s,t)}{const t=r,e=t*(2/3),n=t,s=d.M(n,o).L(c,o).L(c,a).M(e,p).L(c,p).pathShape;h("F",s,t)}{const t=r,n=t/2,s=t,i=d.M(s,m).Q(s,o,n,o).Q(c,o,c,m).L(c,M).Q(c,a,n,a).Q(s,a,s,M).L(s,p).L(n,p).pathShape;h("G",i,t)}{const t=r,e=t,n=d.M(c,o).L(c,a).M(e,o).L(e,a).M(c,p).L(e,p).pathShape;h("H",n,t)}{const t=S.mHeight/3,e=t/2,n=t,s=d.M(c,o).L(n,o).M(c,a).L(n,a).M(e,o).L(e,a).pathShape;h("I",s,t)}{const t=r*.85,n=t/2,s=t,i=d.M(s,o).L(s,M).Q(s,a,n,a).Q(c,a,c,M).pathShape;h("J",i,t)}{const t=r+k,e=(o+a)/2,n=d.M(c,o).L(c,a).M(t,o).L(c+.5,e).L(t,a).pathShape;h("K",n,t)}{const t=r,e=d.M(c,o).L(c,a).L(t,a).pathShape;h("L",e,t)}{const t=r*1.5,e=t/2,n=d.M(c,a).L(c,o).L(e,p).L(t,o).L(t,a).pathShape;h("M",n,t)}{const t=r*1.2,e=d.M(c,a).L(c,o).L(t,a).L(t,o).pathShape;h("N",e,t)}{const t=r*1.5,e=t/2,n=(o+a)/2,s=d.M(e,o).Q_HV(t,n).Q_VH(e,a).Q_HV(c,n).Q_VH(e,o).pathShape;h("O",s,t)}{const t=r,e=p-m;if(e<=0)throw new Error("wtf");const n=t-e,s=d.M(c,o).L(c,a).M(c,o).L(n,o).Q_HV(t,m).Q_VH(n,p).L(c,p).pathShape;h("P",s,t)}{const t=r*1.5,e=t/2,n=(o+a)/2,s=d.M(e,o).Q_HV(t,n).Q_VH(e,a).Q_HV(c,n).Q_VH(e,o).M(t-e*.75,a-e*.75).L(t+e/6,a+e/6).pathShape;h("Q",s,t)}{const t=r,e=p-m;if(e<=0)throw new Error("wtf");const n=t-e,s=d.M(c,o).L(c,a).M(c,o).L(n,o).Q_HV(t,m).Q_VH(n,p).L(c,p).M(n,p).L(t,a).pathShape;h("R",s,t)}{const t=r,e=r/2,n=r,s=d.M(n,m).Q_VH(e,o).Q_HV(c,m).Q_VH(e,p).Q_HV(n,M).Q_VH(e,a).Q_HV(c,M).pathShape;h("S",s,t)}{const e=r+k,n=e/2,s=e,i=S.mHeight/8,l=d.M(s,m).Q_VH(n,o).Q_HV(c,m).Q_VH(n,p).Q_HV(s,M).Q_VH(n,a).Q_HV(c,M).M(n,o-i).V(a+i).pathShape;h("$",l,e)}{const t=r,e=t/2,n=d.M(e,o).L(e,a).M(t,o).L(c,o).pathShape;h("T",n,t)}{const t=(M+p)/2,e=Math.abs(t-a)*.85,n=e*2,s=d.M(c,o).V(t).Q_VH(e,a).Q_HV(n,t).V(o).pathShape;h("U",s,n)}{const t=_,e=t/2,n=d.M(c,o).L(e,a).L(t,o).pathShape;h("V",n,t)}{const t=_*1.5,e=t/3,n=t/2,s=e*2,i=d.M(c,o).L(e,a).L(n,p).L(s,a).L(t,o).pathShape;h("W",i,t)}{const t=r,e=d.M(t,o).L(c,a).M(c,o).L(t,a).pathShape;h("X",e,t)}{const t=k,e=r+t,n=d.M(e,o).L(t,a).M(c,o).L(e/2,p).pathShape;h("Y",n,e)}{const t=r,e=d.M(c,o).H(t).L(c,a).H(t).pathShape;h("Z",e,t)}{const t=r/4,e=r*1.2,n=d.M(t*2,o+t).Q_VH(t,o).Q_HV(0,o+t).Q_VH(t,o+t*2).Q_HV(t*2,o+t),i=n.pathShape.translate(e-t*2,S.mHeight-t*2);n.addCommands(i.commands),n.M(e,o).L(c,a);const l=n.pathShape;h("%",l,e)}{const t=r,e=d.M(t,o).L(c,a).pathShape;h("/",e,t)}{const t=r,e=d.M(c,o).L(t,a).pathShape;h("\\",e,t)}{const t=r,e=t*.05,n=t+e,s=t/2,i=d.M(t,M).Q_VH(s,p).Q_HV(c,M).Q_VH(s,a).Q_HV(n,p).V(a).pathShape;h("a",i,n)}{const t=r,e=t*.05,n=t+e,s=e,i=e+t/2,l=n,Q=d.M(s,M).Q_VH(i,a).Q_HV(l,M).Q_VH(i,p).Q_HV(c,a).V(o).pathShape;h("b",Q,n)}{const t=r*.875,e=0,n=r/2,s=t,i=(p+M)/2,l=(M+a)/2,Q=d.M(s,i).Q_VH(n,p).Q_HV(e,M).Q_VH(n,a).Q_HV(s,l).pathShape;h("c",Q,t)}{const t=r,e=t*.05,n=t+e,s=t/2,i=d.M(n,o).L(n,a).Q_VH(s,p).Q_HV(c,M).Q_VH(s,a).Q_HV(t,M).pathShape;h("d",i,n)}const A=r/8;{const t=r,e=r/2,n=t,s=n-A,i=d.M(c,M).H(n).Q_VH(e,p).Q_HV(c,M).Q_VH(e,a).H(s).pathShape;h("e",i,t)}{const t=r*.75,e=t/2,n=t,s=d.M(n,o).Q_HV(e,m).V(a).M(n,p).H(c).pathShape;h("f",s,t)}{const t=r,e=t*.05,n=t+e,s=t/2,i=d.M(t,M).Q_VH(s,p).Q_HV(c,M).Q_VH(s,a).Q_HV(n,p).V(a).Q_VH(s,b).H(c+A).pathShape;h("g",i,n)}{const t=r*.85,e=t/2,n=d.M(c,o).V(a).Q_VH(e,p).Q_HV(t,M).V(a).pathShape;h("h",n,t)}{const e=d.M(c,p).V(a).M(c,m).V(m-w).pathShape;h("i",e,0)}{const t=Math.abs(a-b),e=t/2,n=d.M(t,p).V(a).Q_VH(e,b).Q_HV(c,a).M(t,m).V(m-w).pathShape;h("j",n,t)}{const e=d.M(c,a).V(a-w).pathShape;h(".",e,0)}{const e=d.M(c,o).V(M).M(c,a).V(a-w).pathShape;h("!",e,0)}{const e=(b-a)/2,n=e/2,s=d.M(c,a-w).V(a).Q_VH(-n,a+e).pathShape;h(",",s,0)}{const n=(b-a)/2+w,s=new E([new T(c,o,c,o+n)]);h("'",s,0)}{const e=(b-a)/2+w,n=e,s=e,i=new E([new T(c,o,s,o+e)]);h("`",i,n)}{const e=(b-a)/2+w,n=e,s=e*2,i=s,l=o,Q=o+e,V=d.M(c,Q).L(n,l).L(i,Q).pathShape;h("^",V,s)}{const t=k*2,n=(b-a)/2+w,s=new E([new T(c,o,c,o+n),new T(t,o,t,o+n)]);h('"',s,t)}{const e=p,n=d.M(c,a).V(a-w).M(c,e-w).V(e).pathShape;h(":",n,0)}{const e=new E([new T(c,o,c,a)]);h("|",e,0)}{const e=p,n=(b-a)/2,s=n/2,i=d.M(c,a-w).V(a).Q_VH(-s,a+n).M(c,e-w).V(e).pathShape;h(";",i,0)}{const t=S.xHeight*2/3,e=r/10,n=t+e,s=d.M(c,o).V(a).M(t,p).L(c,p+t).M(t/2,a-t).L(n,a).pathShape;h("k",s,n)}{const e=d.M(c,o).V(a).pathShape;h("l",e,0)}{const t=r*1.5,e=t/4,n=t/2,s=t*3/4,i=t,l=d.M(c,p).V(a).Q_VH(e,p).Q_HV(n,M).V(a).M(n,M).Q_VH(s,p).Q_HV(i,M).V(a).pathShape;h("m",l,t)}{const t=r*.85,e=t/2,n=d.M(c,p).V(a).Q_VH(e,p).Q_HV(t,M).V(a).pathShape;h("n",n,t)}{const t=r,e=0,n=t/2,s=t,i=d.M(n,p).Q_HV(s,M).Q_VH(n,a).Q_HV(e,M).Q_VH(n,p).pathShape;h("o",i,t)}{const t=r,e=r*.05,n=t+e,s=e,i=e+t/2,l=n,Q=d.M(s,M).Q_VH(i,p).Q_HV(l,M).Q_VH(i,a).Q_HV(c,p).V(b).pathShape;h("p",Q,n)}{const t=r,e=t/2,n=r*.05,s=t+n,i=Math.abs(a-b),l=s+i/2,Q=s+i,V=d.M(t,M).Q_VH(e,p).Q_HV(c,M).Q_VH(e,a).Q_HV(s,p).V(a).Q_VH(l,b).Q_HV(Q,a).pathShape;h("q",V,Q)}{const t=r,e=t/2,n=d.M(c,p).V(a).Q_VH(e,p).Q_HV(t,M).pathShape;h("r",n,t)}{const t=S.xHeight*2/3,e=t/2,n=a,s=M,i=p,l=(n+s)/2,Q=(s+i)/2,V=(Q+i)/2,L=(n+l)/2,g=d.M(t,V).Q_VH(e,i).Q_HV(c,Q).Q_VH(e,s).Q_HV(t,l).Q_VH(e,n).Q_HV(c,L).pathShape;h("s",g,t)}{const t=r*.75,e=t/2,n=t,s=d.M(e,m).V(M).Q_VH(n,a).M(n,p).H(c).pathShape;h("t",s,t)}{const t=r*.85,e=t/2,n=d.M(c,p).V(M).Q_VH(e,a).Q_HV(t,p).L(t,a).pathShape;h("u",n,t)}{const t=r,e=t/2,n=d.M(c,p).L(e,a).L(t,p).pathShape;h("v",n,t)}{const t=S.xHeight*1.5,e=t/3,n=t/2,s=e*2,i=d.M(c,p).L(e,a).L(n,M).L(s,a).L(t,p).pathShape;h("w",i,t)}{const t=r,e=d.M(t,p).L(c,a).M(c,p).L(t,a).pathShape;h("x",e,t)}{const t=r,e=t/2,n=(p+b)/2,s=d.M(t,p).L(c,b).M(c,p).L(e,n).pathShape;h("y",s,t)}{const t=r,e=d.M(c,p).H(t).L(c,a).H(t).pathShape;h("z",e,t)}{const t=r/2,e=t/2,n=d.M(e,o).circle(e,o+e,"cw").pathShape;h("°",n,t)}{const t=-o,e=t/2,n=d.M(e,o).circle(e,o+e,"cw").pathShape;h("◯",n,t)}{const t=-o,e=t/2,n=o/2,s=d.M(0,n).arc(e,n,t,n,"cw").pathShape;h("◠",s,t)}{const t=-o,e=t/2,n=o/2,s=d.M(0,n).arc(e,n,t,n,"ccw").pathShape;h("◡",s,t)}{const t=-o,e=t/4,n=o+e,s=d.M(e*2,n).arc(e*3,n,t,n,"cw").Q_angles(e*2,a,G,B).Q_angles(0,n,I,J).arc(e,n,e*2,n,"cw").pathShape;h("♡",s,t)}{const t=S.mHeight,e=t/4,n=e;{const s=t,i=(o+a)/2,l=d.M(n,i-e).L(0,i).L(n,i+e).M(0,i).L(s,i).M(s-n,i-e).L(s,i).L(s-n,i+e);h("↔",l.pathShape,s);const Q=new E(l.commands.slice(0,3));h("←",Q,s);const V=new E(l.commands.slice(2,5));h("→",V,s)}{const i=e,l=e*2,Q=l,V=d.M(0,o+n).L(i,o).L(Q,o+n).M(i,o).L(i,a).M(0,a-n).L(i,a).L(Q,a-n);h("↕",V.pathShape,l);const L=new E(V.commands.slice(0,3));h("↑",L,l);const g=new E(V.commands.slice(2,5));h("↓",g,l)}}{const t=S.mHeight,e=0,n=t/2,s=t,i=o,l=a,Q=(i+l)/2,V=Math.PI/16,L=d.M(n,i).Q_angles(s,Q,O+V,B-V).Q_angles(n,l,B+V,$-V).Q_angles(e,Q,$+V,I-V).Q_angles(n,i,I+V,O-V).pathShape;h("✧",L,t)}{let t=function(g,u){const f=g.maxY-g.minY,x=(u.bottom-u.top)/f,v=(g.maxX-g.minX)*x,C=0,D=v,z=P.makeBoundedLinear(g.minX,C,g.maxX,D),N=P.makeBoundedLinear(g.minY,u.top,g.maxY,u.bottom);return{x:z,y:N,advance:D}},e=function(){const g={x:1/0,y:1/0},u={x:-1/0,y:-1/0};l.forEach(y=>{["x","y"].forEach(v=>{g[v]=Math.min(g[v],y[v]),u[v]=Math.max(u[v],y[v])})});const f={minX:g.x,maxX:u.x,minY:g.y,maxY:u.y},x=t(f,{top:o,bottom:a});return l.forEach(y=>{y.x=x.x(y.x),y.y=x.y(y.y)}),x};const i=I,l=P.initializedArray(5,g=>{const u=i+g*(2*Math.PI)*2/5;return P.polarToRectangular(1,u)}),Q=e(),V=l.map((g,u,f)=>{const R=f.at(u+1-f.length);return new T(g.x,g.y,R.x,R.y)});h("☆",new E(V),Q.advance);const L=l.map((g,u,f)=>{const R=f.at(u+1-f.length),x=Math.atan2(R.y-g.y,R.x-g.x),y=.175;return W.angles(g.x,g.y,x+y,R.x,R.y,x-y)});h("⭒",new E(L),Q.advance)}return new Map([...H.entries()].sort(([t],[e])=>t<e?-1:t==e?1:0))}class X{restart(H=5,h=this.lineHeight){this.leftMargin=H,this.x=H,this.baseline=h}leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(H=1){this.baseline+=this.lineHeight*H}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=K(5);getDescription(H){return this.font.get(H)}static join(H){return new E(H.flatMap(h=>h.description.shape.translate(h.x,h.baseline).commands))}displayText(H,h){return H.map(_=>{const r=_.description.shape,o=r.makeElement();return h.appendChild(o),o.style.transform=`translate(${_.x}px,${_.baseline}px)`,{..._,shape:r,element:o}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(H,h="left"){const _=new Set,r=[],o=[...r],m=()=>{if(h!="left"){const p=this.rightMargin-this.x;if(p>0){const M=h=="right"?p:p/2;o.forEach(a=>a.x+=M)}}o.length=0};for(;;){const p=X.WORD_BREAK.exec(H);if(!p)break;const M=p[1];if(H=p[2],M[0]==`
`)m(),this.carriageReturn(),this.lineFeed(M.length*4/3);else if(M[0]==" ")this.addSpace(M.length);else{let a=0;const b=0,k=[...M].flatMap(c=>{const w=this.getDescription(c);if(w){const A=w.advance+w.fontMetrics.defaultKerning,t={char:c,x:a,width:A,baseline:b,description:w};return a+=A,t}else return _.add(c),[]});this.x+a>this.rightMargin&&this.x>this.leftMargin&&(m(),this.carriageReturn(),this.lineFeed()),k.forEach(c=>{c.x+=this.x,c.baseline=this.baseline,r.push(c),o.push(c)}),this.x+=a}}return m(),_.size>0&&console.warn(_),r}addSpace(H=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*H}static textToShape(H,h){const _=new X;_.font=h;const r=_.addText(H),o=X.join(r),m=_.x;return{shape:o,advance:m}}}class nt{constructor(H){this.element=H}leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(H=1){this.baseline+=this.lineHeight*H}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=K(5);getDescription(H){return this.font.get(H)}makeRoom(H){this.x+H.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(H){this.x+=H.advance+H.fontMetrics.defaultKerning}moveToCursor(H){H.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(H,h){return this.x+h>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),this.element.appendChild(H),H.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=h,this}show1(H){this.makeRoom(H);const h=H.makeElement();this.element.appendChild(h);const{x:_,baseline:r}=this;return this.moveToCursor(h),this.advance(H),{element:h,x:_,baseline:r}}splitAndShow1(H){this.makeRoom(H);const h=H.makeElements();return h.forEach(({element:_})=>{this.element.appendChild(_),this.moveToCursor(_)}),this.advance(H),h}show(H){const h=new Set,_=[...H].flatMap(r=>{const o=this.getDescription(r);return o?{...this.show1(o),description:o,char:r}:r==" "?(this.showSpace(),[]):(h.add(r),[])});return h.size>0&&console.warn(h),_}splitAndShow(H){const h=new Set,_=[...H].flatMap(r=>{const o=this.getDescription(r);return o?this.splitAndShow1(o):r==" "?(this.showSpace(),[]):(h.add(r),[])});return h.size>0&&console.warn(h),_}showSpace(H=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*H,this}}export{q as D,j as F,X as T,nt as W,tt as d,K as m};
