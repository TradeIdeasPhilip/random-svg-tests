import{r as C}from"./misc-CMfj6Nfj.js";var c={},d;function M(){if(d)return c;d=1,Object.defineProperty(c,"__esModule",{value:!0}),c.AnimationLoop=void 0,c.getById=h,c.selectorQueryAll=l,c.querySelectorAll=u,c.selectorQuery=m,c.querySelector=f,c.loadDateTimeLocal=g,c.getBlobFromCanvas=p,c.getAudioBalanceControl=w,c.getHashInfo=E,c.createElementFromHTML=v,c.download=y,c.getDataUrl=k;const s=C();function h(n,e){const t=document.getElementById(n);if(!t)throw new Error("Could not find element with id "+n+".  Expected type:  "+e.name);if(t instanceof e)return t;throw new Error("Element with id "+n+" has type "+t.constructor.name+".  Expected type:  "+e.name)}function l(n,e,t=1,o=1/0,r=document){const a=[];if(r.querySelectorAll(n).forEach(i=>{a.push((0,s.assertClass)(i,e))}),a.length<t||a.length>o)throw new Error(`Expecting "${n}" to return [${t} - ${o}] instances of ${e.name}, found ${a.length}.`);return a}function u(n,e,t=1,o=1/0,r=document){const a=[];if(r.querySelectorAll(n).forEach(i=>{a.push((0,s.assertClass)(i,e))}),a.length<t||a.length>o)throw new Error(`Expecting "${n}" to return [${t} - ${o}] instances of ${e.name}, found ${a.length}.`);return a}function m(n,e,t=document){return l(n,e,1,1,t)[0]}function f(n,e,t=document){return u(n,e,1,1,t)[0]}function g(n,e,t="milliseconds"){let o;switch(t){case"minutes":{o=e.getSeconds()*1e3+e.getMilliseconds();break}case"seconds":{o=e.getMilliseconds();break}case"milliseconds":{o=0;break}default:throw new Error("wtf")}n.valueAsNumber=+e-e.getTimezoneOffset()*6e4-o}function p(n){const{reject:e,resolve:t,promise:o}=(0,s.makePromise)();return n.toBlob(r=>{r?t(r):e(new Error("blob is null!"))}),o}function w(n){const e=new AudioContext,t=e.createMediaElementSource(n),o=new StereoPannerNode(e,{pan:0});return t.connect(o).connect(e.destination),r=>{o.pan.value=r}}function E(){const n=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(o=>{const r=o.split("=",2);if(r.length==2){const a=decodeURIComponent(r[0]),i=decodeURIComponent(r[1]);n.set(a,i)}}),n}function v(n,e){var t=document.createElement("div");return t.innerHTML=n.trim(),(0,s.assertClass)(t.firstChild,e,"createElementFromHTML:")}function y(n,e){var t=document.createElement("a");if(t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",n),document.createEvent){var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),t.dispatchEvent(o)}else t.click()}class b{onWake;constructor(e){this.onWake=e,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#e=!1;cancel(){this.#e=!0}callback(e){this.#e||(requestAnimationFrame(this.callback),this.onWake(e))}}c.AnimationLoop=b;async function k(n){const e=document.createElement("img");e.src=n,await e.decode();const t=e.naturalHeight,o=e.naturalWidth;if(t==0||o==0)throw new Error("problem with image");const r=document.createElement("canvas");r.width=o,r.height=t;const a=r.getContext("2d");if(!a)throw new Error("wtf");return a.drawImage(e,0,0,r.width,r.height),r.toDataURL()}return c}var q=M();export{q as c};
