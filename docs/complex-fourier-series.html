<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <link rel="icon" type="image/svg+xml" href="/moon.svg" /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Complex Fourier Series</title>
    <script type="module" crossorigin src="./assets/ҩажәа-d8RWG8B2.js"></script>
    <link rel="modulepreload" crossorigin href="./assets/modulepreload-polyfill-B5Qt9EMX.js">
    <link rel="modulepreload" crossorigin href="./assets/misc-wGF4FraP.js">
    <link rel="modulepreload" crossorigin href="./assets/client-misc-ZHNZ3-cL.js">
    <link rel="modulepreload" crossorigin href="./assets/path-shape-fljILaqi.js">
    <link rel="modulepreload" crossorigin href="./assets/utility-D9E8BDCl.js">
    <link rel="stylesheet" crossorigin href="./assets/ҩажәа-KbPSJIq1.css">
    <link rel="stylesheet" crossorigin href="./assets/style-DQ03UEvS.css">
  </head>
  <body>
    <div class="error">
      Warning!&nbsp; This is a <b>very</b> rough prototype. The proof of concept
      is buried in here somewhere, but most of the GUI is just leftover from the
      page I cloned to make this page.
    </div>
    <h1>Function</h1>
    <p>
      What do you want to graph? Create a parametric function in JavaScript. For
      each input value <code>t</code>, between 0 and 1, return an object with
      <code>x</code> and <code>y</code> parameters, both numbers.
    </p>
    <div style="display: flex; flex-direction: column">
      <div>
        <code>function (t /* A value between 0 and 1, inclusive. */,</code>
      </div>
      <div>
        <code style="margin-left: 10ch">support) {</code>
      </div>
      <div>
        <code style="margin-left: 2ch">"use strict";</code>
      </div>
      <textarea
        id="source"
        style="
          margin-left: 1.66667rem;
          min-height: 5lh;
          height: 50vh;
          font-size: inherit;
          text-wrap: nowrap;
        "
        autocorrect="off"
        spellcheck="off"
      >
// Lissajous Curves
// Change this formula and hit the “Go” button to see something different.

const a = 1; // Amplitude in x-direction
const b = 1; // Amplitude in y-direction
const freqX = 3; // Frequency in x-direction
const freqY = 2; // Frequency in y-direction
const phase = Math.PI / 2; // Phase difference
const angle = t * 2 * Math.PI;
const x = a * Math.sin(freqX * angle + phase);
const y = b * Math.sin(freqY * angle);

// This works well with my approximations.
// There are only two inflection points and they are both in regions where the path is almost linear.</textarea
      >
      <div>
        <code style="margin-left: 2ch">return { x, y };</code>
      </div>
      <div><code>}</code></div>
    </div>
    <button id="go">Go</button>
    <select id="sampleCode">
      <option>Error</option>
      <option>Check console for details.</option>
    </select>
    <button id="nextSample">Next Sample</button>
    <h2 data-hide>Precision</h2>
    <p data-hide>
      This software will make a path approximating your function. This software
      takes samples at n evenly spread values of t. At each t, this software
      will record the position of your function and its derivative. Each segment
      is made of a part of a parabola chosen to best match the samples at either
      end.
    </p>
    <p data-hide>
      If you plan to smoothly morph between two paths, make sure this parameter
      is the same when you create each path. The rest should work itself out
      automatically.
    </p>
    <div id="segmentCountHolder" class="has-slider">
      <span> Number of segments: </span>
      <input
        id="segmentCountInput"
        type="range"
        min="10"
        max="500"
        step="1"
        value="20"
      />
      <span id="segmentCountSpan"></span>
    </div>
    <h2 data-hide>Inputs</h2>
    <div id="inputsGroup">
      <p data-hide>
        You can access these sliders from inside your code. The name of each
        slider is written next to it <code>in blue</code>. The samples will
        update immediately as you move the slider.
      </p>
      <div id="inputs"></div>
      <button data-hide>Add Another Input</button>
    </div>
    <div id="error" class="error"></div>
    <h2 data-hide>Output Samples</h2>
    <label style="display: flex; align-items: center"
      ><input type="checkbox" id="hide-text" />&nbsp;Hide Text</label
    >
    <p data-hide>
      The output from this program is a css path, a string. That path can be
      used a lot of different ways. Here are a few examples.
    </p>
    <svg
      class="outlineSample"
      id="distanceVsT"
      data-sample
      viewBox="0 0 100 10"
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="xMidYMid meet"
      style="border: thin lightgreen solid"
    >
      <circle data-distance></circle>
      <path></path>
      <circle data-t></circle>
    </svg>

    <svg
      class="outlineSample"
      id="requestedVsReconstructed"
      data-sample
      viewBox="0 0 100 10"
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="xMidYMid meet"
      style="border: thin lightgreen solid"
    >
      <path></path>
      <path></path>
    </svg>

    <table id="progress">
      <tr>
        <td></td>
        <th>Circles</th>
        <th>Amplitude</th>
      </tr>
      <tr data-using>
        <th>Using</th>
        <td data-circles class="numbers"></td>
        <td data-amplitude class="numbers"></td>
      </tr>
      <tr data-adding>
        <th>Adding</th>
        <td data-circles class="numbers"></td>
        <td data-amplitude class="numbers"></td>
      </tr>
      <tr data-available>
        <th>Available</th>
        <td data-circles class="numbers"></td>
        <td data-amplitude class="numbers"></td>
      </tr>
    </table>

    <h1>More Information</h1>
    <p>
      Desmos can draw your equations very well. But what if you want to display
      your results somewhere else? A path can be used in so many places so you
      can integrate your results with a bigger project. This code's been around
      for a while, but I just built this user interface to let you poke around
      without any serious programming.
    </p>
    <p>
      <a href="https://youtu.be/aJKVHNAOACU">This video</a> will show you how to
      use this page, and it will discuss the origins of this page and this
      project. You can find general information about this project
      <a href="https://github.com/TradeIdeasPhilip/random-svg-tests/tree/master"
        >here</a
      >.
    </p>
  </body>
</html>
