import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as y}from"./client-misc-ZHNZ3-cL.js";import{b as p,c as V,s as z,g as Q,t as G,h as Z}from"./fourier-shared-BOl4jmHa.js";import{p as j,P as D}from"./path-shape-n6EbRjvk.js";import{m as S}from"./misc-wGF4FraP.js";import{d as b,g as J}from"./utility-D2jUDy1w.js";const E=y.getById("scaled",SVGGElement),N=y.getById("reference",SVGPathElement),K=y.getById("samples",SVGPathElement);function v(n,m){if(n>=m)throw new Error("wtf");const A=S.makeLinear(n,0,m,1);function F(g){if(g<=n)return 0;if(g>=m)return 1;const l=A(g);return J(l)}return F}function W(n){N.setAttribute("d",n.pathString);const m=j(N.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),A=m.a;E.style.transform=m.toString(),E.style.setProperty("--path-scale",A.toString());const F=V(n.pathString,n.numberOfFourierSamples);let g="";F.forEach(([e,t])=>{g+=`M${e},${t}l0,0`}),K.setAttribute("d",g);const l=z(F),f=Q({addTime:4900,pauseTime:1100,maxGroupsToDisplay:n.maxGroupsToDisplay,terms:l}),L=e=>8*Math.max(...l.slice(0,e).map(a=>a.frequency))+7,R=f.map(e=>{if(e.addingCircles==0){const t=G(l,e.usingCircles),a=L(e.usingCircles),i=D.parametric(t,a);return()=>i.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&l[0].frequency==0){let t=function(o){return`${h.x*o},${h.y*o}`};const{startTime:a,endTime:i}=e,c=i-a,s=c*.25,u=c*.5,r=v(a+s,a+s+u),d=v(i-u,i),h=Z(l[0]);return o=>{const T=d(o),C=t(T),x=r(o),P=t(x);return`M ${C} L ${P}`}}else{const a=S.makeBoundedLinear(e.startTime,-.05,e.endTime,1.05),i=G(l,e.usingCircles),c=G(l,e.addingCircles,e.usingCircles),s=L(e.usingCircles+e.addingCircles);return u=>{const r=a(u),d=v(r-.05,r+.05);function h(T){const C=i(T),x=1-d(T);if(x==0)return C;{const P=c(T);return{x:C.x+x*P.x,y:C.y+x*P.y}}}return D.parametric(h,s).rawPath}}}),U=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,w=e=>{e<0&&(e=0);let t=U(e);const[,a,i]=/^([0-9]+)\.([0-9]+)$/.exec(t);switch(a.length){case 3:break;case 2:{t=S.FIGURE_SPACE+t;break}case 1:{t=S.FIGURE_SPACE+S.FIGURE_SPACE+t;break}default:throw console.warn({beforeDecimalPoint:a,afterDecimalPoint:i,result:t}),new Error("wtf")}return t+"%"},q=f.map(e=>({usingAmplitude:w(e.usingAmplitude),addingAmplitude:w(e.addingAmplitude),availableAmplitude:w(e.availableAmplitude)})),M=b("[data-using] [data-circles]",HTMLTableCellElement),I=b("[data-using] [data-amplitude]",HTMLTableCellElement),k=b("[data-adding] [data-circles]",HTMLTableCellElement),$=b("[data-adding] [data-amplitude]",HTMLTableCellElement),H=b("[data-available] [data-circles]",HTMLTableCellElement),B=b("[data-available] [data-amplitude]",HTMLTableCellElement);function _(e){function t(){const r=f.findIndex(({endTime:d})=>e<d);return r==-1?f.length-1:r}const a=t(),i=D.cssifyPath(R[a](e));E.style.setProperty("--d",i);const c=r=>`${r.toString().padStart(4,S.FIGURE_SPACE)}`,s=f[a];M.innerText=c(s.usingCircles),k.innerText=c(s.addingCircles),H.innerText=c(s.availableCircles),[{value:s.usingCircles,element1:M,element2:I},{value:s.addingCircles,element1:k,element2:$},{value:s.availableCircles,element1:H,element2:B}].forEach(({value:r,element1:d,element2:h})=>{const o=r==0?"0.5":"";d.style.opacity=o,h.style.opacity=o});const u=q[a];I.innerText=u.usingAmplitude,$.innerText=u.addingAmplitude,B.innerText=u.availableAmplitude}window.showFrame=_}const X=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,numberOfFourierSamples:1024,pathString:p.likeShareAndSubscribe}],["hilbert0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:p.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:p.hilbert[1]}],["hilbert4",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:p.hilbert[4]}],["p0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:p.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:p.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:p.peanocurve[2]}]]);W(X.get("p1"));let O=NaN;new y.AnimationLoop(n=>{isNaN(O)&&(O=n);const m=n-O;window.showFrame(m)});
