import{c as R,m as G,i as K,b as U}from"./client-misc-leadhGo2.js";import{b as O,l as k,c as Z,a as N}from"./utility-DcEUXXL7.js";class A{constructor(o,s,l,r){this.x0=o,this.y0=s,this.x=l,this.y=r,O(o,s,l,r),this.asString=`L ${l},${r}`,this.outgoingAngle=this.incomingAngle=Math.atan2(r-s,l-o)}incomingAngle;outgoingAngle;command="L";asString;translate(o,s){return new A(this.x0+o,this.y0+s,this.x+o,this.y+s)}toCubic(){return new I(this.x0,this.y0,k(this.x0,this.x,1/3),k(this.y0,this.y,1/3),k(this.x0,this.x,2/3),k(this.y0,this.y,2/3),this.x,this.y)}}class X{constructor(o,s,l,r,a,m){this.x0=o,this.y0=s,this.x1=l,this.y1=r,this.x=a,this.y=m,O(o,s,l,r,a,m),this.asString=`Q ${l},${r} ${a},${m}`}static angles(o,s,l,r,a,m){O(o,s,l,r,a,m);const p=it({x0:o,y0:s,slope:Math.tan(l)},{x0:r,y0:a,slope:Math.tan(m)});return p?new this(o,s,p.x,p.y,r,a):(console.warn("Line instead of Q"),new this(o,s,(o-r)/2,(s+a)/2,r,a))}get incomingAngle(){return Math.atan2(this.y1-this.y0,this.x1-this.x0)}get outgoingAngle(){return Math.atan2(this.y-this.y1,this.x-this.x1)}command="Q";asString;translate(o,s){return new X(this.x0+o,this.y0+s,this.x1+o,this.y1+s,this.x+o,this.y+s)}toCubic(){return new I(this.x0,this.y0,k(this.x0,this.x1,2/3),k(this.y0,this.y1,2/3),k(this.x,this.x1,2/3),k(this.y,this.y1,2/3),this.x,this.y)}}class I{constructor(o,s,l,r,a,m,p,M){this.x0=o,this.y0=s,this.x1=l,this.y1=r,this.x2=a,this.y2=m,this.x=p,this.y=M,O(o,s,l,r,a,m,p,M),this.asString=`C ${l},${r} ${a},${m} ${p},${M}`}reverse(){return new I(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}get incomingAngle(){return Math.atan2(this.y1-this.y0,this.x1-this.x0)}get outgoingAngle(){return Math.atan2(this.y-this.y2,this.x-this.x2)}command="C";asString;translate(o,s){return new I(this.x0+o,this.y0+s,this.x1+o,this.y1+s,this.x2+o,this.y2+s,this.x+o,this.y+s)}toCubic(){return this}}class u{get commands(){return this.#t}addCommand(o){this.#t.push(o),this.#s=void 0}addCommands(o){return o.forEach(s=>this.addCommand(s)),this}static fromStrings(o){let s=o.join(" ");const l=[];let r;for(;s=s.replace(/^ */,""),s!="";){let a=ot.exec(s);if(a){const m=R(a[1]),p=R(a[2]);if(m===void 0||p===void 0)throw console.error(a,m,p,this),new Error("wtf");r&&l.push(r),r=this.M(m,p),s=a[3];continue}if(r){if(a=ct.exec(s),a){const m=R(a[1]),p=R(a[2]),M=R(a[3]),c=R(a[4]);if(m===void 0||p===void 0||M===void 0||c===void 0)throw console.error(a,m,p,M,c,this),new Error("wtf");r=r.Q(m,p,M,c),s=a[5];continue}if(a=ht.exec(s),a){const m=R(a[1]),p=R(a[2]),M=R(a[3]),c=R(a[4]),w=R(a[5]),x=R(a[6]);if(m===void 0||p===void 0||M===void 0||c===void 0||w===void 0||x===void 0)throw console.error(a,m,p,M,c,w,x,this),new Error("wtf");r=r.C(m,p,M,c,w,x),s=a[7];continue}}throw console.error(s),new Error("wtf")}return r&&l.push(r),l}static M(o,s){const l=new u;return l.M(o,s),l}#t=[];get pathShape(){return new _(this.#t)}#s;M(o,s,l=NaN){return O(o,s),this.#s={x:o,y:s,outgoingAngle:l},this}previous(){return this.#s??this.#t.at(-1)}H(o){const s=this.previous();return this.addCommand(new A(s.x,s.y,o,s.y)),this}V(o){const s=this.previous();return this.addCommand(new A(s.x,s.y,s.x,o)),this}L(o,s){const l=this.previous();return this.addCommand(new A(l.x,l.y,o,s)),this}Q(o,s,l,r){const a=this.previous();return this.addCommand(new X(a.x,a.y,o,s,l,r)),this}Q_HV(o,s){const l=this.previous();return this.Q(o,l.y,o,s)}Q_VH(o,s){const l=this.previous();return this.Q(l.x,s,o,s)}Q_angles(o,s,l,r){const a=this.previous();if(r??=a.outgoingAngle,r===void 0)throw new Error("wtf");return this.addCommand(X.angles(a.x,a.y,r,o,s,l)),this}C(o,s,l,r,a,m){const p=this.previous();return this.addCommand(new I(p.x,p.y,o,s,l,r,a,m)),this}circle(o,s,l="cw"){const r=this.previous(),a=r.x,m=r.y,p=Math.atan2(m-s,a-o),M=Math.hypot(m-s,a-o),c=l=="cw"?1:-1,w=p+Math.PI*2*c,x=G(0,p,1,w);function i(t){switch(t){case 0:case 1:return r;default:{const n=x(t),e=N(M,n);return{x:o+e.x,y:s+e.y}}}}function b(t){return i(t)}return this.addParametricPath(b,8),this}arc(o,s,l,r,a){const m=this.previous(),p=m.x,M=m.y;let c=Z(Math.atan2(M-s,p-o),Math.PI*2);const w=Math.hypot(M-s,p-o);let x=Z(Math.atan2(r-s,l-o),Math.PI*2);const i=Math.hypot(r-s,l-o);a=="cw"?c>x&&(x+=Math.PI*2):c<x&&(c+=Math.PI*2);const b=Math.abs(c-x),T=Math.ceil(b*1.17+1e-4),t=G(0,w,1,i),n=G(0,c,1,x);function e(h){switch(h){case 0:return m;case 1:return{x:l,y:r};default:{const d=N(t(h),n(h));return{x:o+d.x,y:s+d.y}}}}return this.addParametricPath(e,T)}addParametricPath(o,s){if(s<=0)throw new Error("wtf");const l=.01/s,r=K(s+1,m=>{const p=m/s,M=o(p),c=at(o,p,l);return{t:p,point:M,direction:c}});return K(s,m=>({from:r[m],to:r[m+1]})).forEach(m=>{this.Q_angles(m.to.point.x,m.to.point.y,m.to.direction,m.from.direction)}),this}}function at(V,o,s){if(!(o>=0&&o<=1))throw new Error("Expected 0 ≤ t ≤ 1");const l=Math.max(0,o-s),r=V(l),a=Math.min(1,o+s),m=V(a),p=m.x-r.x,M=m.y-r.y;return p==0&&M==0?NaN:Math.atan2(M,p)}const J=" *",W="(-?[0-9]+.?[0-9]*)",P=" *[, ] *",ot=new RegExp(`^M${J}${W}${P}${W}(.*)$`),ct=new RegExp(`^Q${J}${W}${P}${W}${P}${W}${P}${W}(.*)$`),ht=new RegExp(`^C${J}${W}${P}${W}${P}${W}${P}${W}${P}${W}${P}${W}(.*)$`);class _{matchForMorph(o){const s=this.commands.map(p=>p.toCubic()),l=o.commands.map(p=>p.toCubic());if(s.length!=l.length){const{shorter:p,longer:M}=s.length<l.length?{shorter:s,longer:l}:{shorter:l,longer:s};if(p.length==0)throw new Error("can't morph something into nothing");const c=M.length/p.length,w=[];p.forEach((x,i)=>{const b=Math.round((i+1)*c);for(;w.length<b;)w.push(x)}),p.length=0,p.push(...w)}if(s.length!=l.length)throw new Error("wtf");function r(p){return _.cssifyPath(p.map(M=>new _([M]).rawPath).join())}const a=r(s),m=r(l);return[a,m]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(o){const l=u.fromStrings(o).flatMap(a=>a.commands);return new this(l)}constructor(o){this.commands=[...o]}static cssifyPath(o){return`path('${o}')`}get cssPath(){return _.cssifyPath(this.rawPath)}makeElement(){const o=document.createElementNS("http://www.w3.org/2000/svg","path"),s=this.cssPath;if(o.style.d=s,o.style.d=="")throw console.error(s,o),new Error("wtf");return o}static needAnM(o,s){return!o||o.x!=s.x0||o.y!=s.y0}get rawPath(){return this.commands.flatMap((o,s)=>{const l=[],r=this.commands[s-1];return _.needAnM(r,o)&&l.push(`M ${o.x0},${o.y0}`),l.push(o.asString),l}).join(" ")}get cssPaths(){return this.splitOnMove().map(o=>o.cssPath)}get rawPaths(){return this.splitOnMove().map(o=>o.rawPath)}splitOnMove(){const o=[];let s=[];return this.commands.forEach(l=>{_.needAnM(s.at(-1),l)&&(s=[],o.push(s)),s.push(l)}),o.map(l=>new _(l))}static join(o){return new _(o.flatMap(({Δx:s,Δy:l,shape:r})=>r.translate(s,l).commands))}convertToCubics(){return new _(this.commands.map(o=>o.toCubic()))}translate(o,s){return new _(this.commands.map(l=>l.translate(o,s)))}}function it(V,o){if(isNaN(V.slope)||isNaN(o.slope)||V.slope==o.slope)return;const s=Math.abs(V.slope)*100>Number.MAX_SAFE_INTEGER,l=Math.abs(o.slope)*100>Number.MAX_SAFE_INTEGER;if(!(s&&l))if(s||l){const r=s?V.x0:o.x0,a=s?o:V,m=a.slope*(r-a.x0)+a.y0;return{x:r,y:m}}else{const r=(o.y0-o.slope*o.x0-V.y0+V.slope*V.x0)/(V.slope-o.slope),a=V.slope*(r-V.x0)+V.y0;return{x:r,y:a}}}class rt{constructor(o,s=o/10){if(this.fontSize=o,this.strokeWidth=s,o<=0||!isFinite(o))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class pt{constructor(o,s,l){this.advance=s,this.fontMetrics=l,o instanceof _?this.#t=()=>o:this.#t=o}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(o=>({innerShape:o,element:o.makeElement()}))}}function Mt(V){function o(r){return r.length==1}let s="",l=[];return V.forEach((r,a)=>{o(a)?s+=a:l.push(r)}),{normal:s,special:l}}const tt=0,B=Math.PI/4,Y=2*B,dt=3*B,st=4*B,lt=5*B,z=6*B;function nt(V){const o=new Map;typeof V=="number"&&(V=new rt(V));const s=(t,n,e)=>{const h=new pt(n,e,V);if(o.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...o].at(-1)[0]}"`);o.set(t,h)},{aWidth:l,digitWidth:r,capitalTop:a,capitalTopMiddle:m,capitalMiddle:p,capitalBottomMiddle:M,baseline:c,descender:w,strokeWidth:x}=V,i=0,b=x/3;{const t=r*.9,n=t/2,e=t/2,h=e*Math.SQRT1_2,d=u.M(i,a+e);d.arc(n,a+e,n+h,a+e+h,"cw"),d.Q_angles(n,M,Y),d.M(n,c-b),d.L(n,c),s("?",d.pathShape,t)}{const t=r*7/8,n=t/2,e=t,h=t/2,d=V.mHeight/8,g=a-d,H=c+d;if(H-g<h*4)throw new Error("wtf");const f=(g+H)/2,L=u.M(e,g).arc(e,g+h,n,g+h,"ccw").L(n,f-h).arc(i,f-h,i,f,"cw").arc(i,f+h,n,f+h,"cw").L(n,H-h).arc(e,H-h,e,H,"ccw").pathShape;s("{",L,t);const Q=u.M(i,g).arc(i,g+h,n,g+h,"cw").L(n,f-h).arc(e,f-h,e,f,"ccw").arc(e,f+h,n,f+h,"ccw").L(n,H-h).arc(i,H-h,i,H,"cw").pathShape;s("}",Q,t)}{const t=r,e=t/2,h=t;{const d=(w-c)*2,g=w,H=g-d,f=a-d/4,L=f+d;if(d<=0||g<=H||H<=L||L<=f)throw new Error("wtf");const Q=r*.5;{const v=u.M(Q,f).Q_HV(0,L).V(H).Q_VH(Q,g).pathShape;s("(",v,Q)}{const v=r*.5,y=u.M(0,f).Q_HV(v,L).V(H).Q_VH(0,g).pathShape;s(")",y,v)}{const v=u.M(Q,f).H(0).V(g).H(Q).pathShape;s("[",v,Q)}{const v=u.M(0,f).H(Q).V(g).H(0).pathShape;s("]",v,Q)}}{const d=r*.75,g=d/2,H=u.M(g,p-g).V(p+g).M(i,p).H(d).pathShape;s("+",H,d)}{const d=r*.75,g=u.M(i,p).H(d).pathShape;s("-",g,d)}{const d=r/2*.9,g=5,H=-Math.PI/2,f=(a+c)/2,L=0,Q=K(g,S=>{const F=S*(Math.PI*2)/g+H,D=N(L,F),q=N(d,F);return[D,q]}),v=Q.flat(),y=Math.min(...v.map(({x:S})=>S));v.forEach(S=>{S.x-=y,S.y+=f});const $=Q.map(([S,F])=>new A(S.x,S.y,F.x,F.y)),E=new _($),C=Math.max(...v.map(({x:S})=>S));s("*",E,C)}{const d=r*.75,g=u.M(i,p-x*1.25).H(d).M(i,p+x*1.25).H(d).pathShape;s("=",g,d)}{const d=r*1.25,g=c+x,H=u.M(0,g).H(d).pathShape;s("_",H,d)}{const d=r/2,g=3*d,H=d/3,f=a,L=f+d,Q=L+d,v=Q+d,y=u.M(d+H,f).L(d-H,v).M(2*d+H,f).L(2*d-H,v).M(0,L).H(g).M(0,Q).H(g).pathShape;s("#",y,g)}{const d=r/2,g=3*d,H=0,f=d,L=g/2,Q=2*d,v=g,y=a+(V.mHeight-g)/2,$=y+f,E=y+L,C=y+Q,S=y+v,F=u.M(Q,E).Q_VH(L,$).Q_HV(f,E).Q_VH(L,C).Q_HV(Q,E).Q_VH((Q+v)/2,C).Q_HV(v,E).V(($+E)/2).Q_VH(L,y).Q_HV(H,E).Q_VH(L,S).H((Q+v)/2).pathShape;s("@",F,g)}{const d=u.M(e,a).Q(h,a,h,m).L(h,M).Q(h,c,e,c).Q(i,c,i,M).L(i,m).Q(i,a,e,a).M(h,m).L(i,M).pathShape;s("0",d,t)}{const d=u.M(i,m).Q(e,m,e,a).L(e,c).M(i,c).L(h,c).pathShape;s("1",d,t)}{const d=u.M(i,m).Q_VH(e,a).Q_HV(h,m).Q_VH(e,p).Q_HV(i,c).L(h,c).pathShape;s("2",d,t)}{const d=u.M(i,m).Q_VH(e,a).Q_HV(h,m).Q_VH(e,p).Q_HV(h,M).Q_VH(e,c).Q_HV(i,M).pathShape;s("3",d,t)}{const d=(e+h)/2,g=(e+i)/2,H=u.M(h,p).L(i,p).L(g,a).M(d,a).L(d,c).pathShape;s("4",H,t)}{const d=i+r/5,g=h-r/5,H=(p+M)/2,f=u.M(g,a).L(d,a).L(i,p).Q_VH(e,m).Q_HV(h,H).Q_VH(e,c).Q_HV(i,M).pathShape;s("5",f,t)}{const d=u.M(h,a).Q_HV(i,M).Q_VH(e,c).Q_HV(h,M).Q_VH(e,p).Q_HV(i,M).pathShape;s("6",d,t)}{const d=u.M(i,a).L(h,a).L(i,c).pathShape;s("7",d,t)}{const d=u.M(e,a).Q(h,a,h,m).Q(h,p,e,p).Q(i,p,i,M).Q(i,c,e,c).Q(h,c,h,M).Q(h,p,e,p).Q(i,p,i,m).Q(i,a,e,a).pathShape;s("8",d,t)}{const d=u.M(h,m).Q(h,a,e,a).Q(i,a,i,m).Q(i,p,e,p).Q(h,p,h,m).Q(h,c,i,c).pathShape;s("9",d,t)}}{const t=u.M(i,c).L(l/2,a).L(V.aWidth,c).M(V.aWidth/4,p).L(V.aWidth*.75,p).pathShape;s("A",t,l)}{const t=r,n=m-a;if(n<=0)throw new Error("wtf");const e=(t-n)*(2/3),h=c-M;if(h<=0)throw new Error("wtf");const d=t-h,g=u.M(i,a).L(i,c).L(d,c).M(Math.max(d,e),p).L(i,p).M(i,a).L(e,a).Q(e+n,a,e+n,a+n).Q(e+n,p,e,p).M(d,p).Q(d+h,p,d+h,c-h).Q(d+h,c,d,c).pathShape;s("B",g,t)}{const t=r,e=t/2,h=t,d=u.M(h,m).Q(h,a,e,a).Q(i,a,i,m).L(i,M).Q(i,c,e,c).Q(h,c,h,M).pathShape;s("C",d,t)}{const t=r,e=t/2,h=t,d=u.M(i,a).L(i,c).L(e,c).Q(h,c,h,M).L(h,m).Q(h,a,e,a).L(i,a).pathShape;s("D",d,t)}{const t=r,n=t*(2/3),e=t,h=u.M(e,a).L(i,a).L(i,c).L(e,c).M(n,p).L(i,p).pathShape;s("E",h,t)}{const t=r,n=t*(2/3),e=t,h=u.M(e,a).L(i,a).L(i,c).M(n,p).L(i,p).pathShape;s("F",h,t)}{const t=r,e=t/2,h=t,d=u.M(h,m).Q(h,a,e,a).Q(i,a,i,m).L(i,M).Q(i,c,e,c).Q(h,c,h,M).L(h,p).L(e,p).pathShape;s("G",d,t)}{const t=r,n=t,e=u.M(i,a).L(i,c).M(n,a).L(n,c).M(i,p).L(n,p).pathShape;s("H",e,t)}{const t=V.mHeight/3,n=t/2,e=t,h=u.M(i,a).L(e,a).M(i,c).L(e,c).M(n,a).L(n,c).pathShape;s("I",h,t)}{const t=r*.85,e=t/2,h=t,d=u.M(h,a).L(h,M).Q(h,c,e,c).Q(i,c,i,M).pathShape;s("J",d,t)}{const t=r+x,n=(a+c)/2,e=u.M(i,a).L(i,c).M(t,a).L(i+.5,n).L(t,c).pathShape;s("K",e,t)}{const t=r,n=u.M(i,a).L(i,c).L(t,c).pathShape;s("L",n,t)}{const t=r*1.5,n=t/2,e=u.M(i,c).L(i,a).L(n,p).L(t,a).L(t,c).pathShape;s("M",e,t)}{const t=r*1.2,n=u.M(i,c).L(i,a).L(t,c).L(t,a).pathShape;s("N",n,t)}{const t=r*1.5,n=t/2,e=(a+c)/2,h=u.M(n,a).Q_HV(t,e).Q_VH(n,c).Q_HV(i,e).Q_VH(n,a).pathShape;s("O",h,t)}{const t=r,n=p-m;if(n<=0)throw new Error("wtf");const e=t-n,h=u.M(i,a).L(i,c).M(i,a).L(e,a).Q_HV(t,m).Q_VH(e,p).L(i,p).pathShape;s("P",h,t)}{const t=r*1.5,n=t/2,e=(a+c)/2,h=u.M(n,a).Q_HV(t,e).Q_VH(n,c).Q_HV(i,e).Q_VH(n,a).M(t-n*.75,c-n*.75).L(t+n/6,c+n/6).pathShape;s("Q",h,t)}{const t=r,n=p-m;if(n<=0)throw new Error("wtf");const e=t-n,h=u.M(i,a).L(i,c).M(i,a).L(e,a).Q_HV(t,m).Q_VH(e,p).L(i,p).M(e,p).L(t,c).pathShape;s("R",h,t)}{const t=r,n=r/2,e=r,h=u.M(e,m).Q_VH(n,a).Q_HV(i,m).Q_VH(n,p).Q_HV(e,M).Q_VH(n,c).Q_HV(i,M).pathShape;s("S",h,t)}{const n=r+x,e=n/2,h=n,d=V.mHeight/8,g=u.M(h,m).Q_VH(e,a).Q_HV(i,m).Q_VH(e,p).Q_HV(h,M).Q_VH(e,c).Q_HV(i,M).M(e,a-d).V(c+d).pathShape;s("$",g,n)}{const t=r,n=t/2,e=u.M(n,a).L(n,c).M(t,a).L(i,a).pathShape;s("T",e,t)}{const t=(M+p)/2,n=Math.abs(t-c)*.85,e=n*2,h=u.M(i,a).V(t).Q_VH(n,c).Q_HV(e,t).V(a).pathShape;s("U",h,e)}{const t=l,n=t/2,e=u.M(i,a).L(n,c).L(t,a).pathShape;s("V",e,t)}{const t=l*1.5,n=t/3,e=t/2,h=n*2,d=u.M(i,a).L(n,c).L(e,p).L(h,c).L(t,a).pathShape;s("W",d,t)}{const t=r,n=u.M(t,a).L(i,c).M(i,a).L(t,c).pathShape;s("X",n,t)}{const t=x,n=r+t,e=u.M(n,a).L(t,c).M(i,a).L(n/2,p).pathShape;s("Y",e,n)}{const t=r,n=u.M(i,a).H(t).L(i,c).H(t).pathShape;s("Z",n,t)}{const t=r/4,n=r*1.2,e=u.M(t*2,a+t).Q_VH(t,a).Q_HV(0,a+t).Q_VH(t,a+t*2).Q_HV(t*2,a+t),d=e.pathShape.translate(n-t*2,V.mHeight-t*2);e.addCommands(d.commands),e.M(n,a).L(i,c);const g=e.pathShape;s("%",g,n)}{const t=r,n=u.M(t,a).L(i,c).pathShape;s("/",n,t)}{const t=r,n=u.M(i,a).L(t,c).pathShape;s("\\",n,t)}{const t=r,n=x/2,e=t+n,h=t/2,d=u.M(h,p).Q_HV(i,M).Q_VH(h,c).Q_HV(t,M).Q_VH(h,p).M(e,p).L(e,c).pathShape;s("a",d,e)}{const t=r,n=x/2,e=t+n,h=n,d=n+t/2,g=e,H=u.M(i,a).V(c).M(h,M).Q_VH(d,c).Q_HV(g,M).Q_VH(d,p).Q_HV(h,M).pathShape;s("b",H,e)}{const t=r*.875,n=0,e=r/2,h=t,d=(p+M)/2,g=(M+c)/2,H=u.M(h,d).Q_VH(e,p).Q_HV(n,M).Q_VH(e,c).Q_HV(h,g).pathShape;s("c",H,t)}{const t=r,n=x/2,e=t+n,h=t/2,d=u.M(h,p).Q_HV(i,M).Q_VH(h,c).Q_HV(t,M).Q_VH(h,p).M(e,a).L(e,c).pathShape;s("d",d,e)}const T=r/8;{const t=r,n=r/2,e=t,h=e-T,d=u.M(i,M).H(e).Q_VH(n,p).Q_HV(i,M).Q_VH(n,c).H(h).pathShape;s("e",d,t)}{const t=r*.75,n=t/2,e=t,h=u.M(e,a).Q_HV(n,m).V(c).M(e,p).H(i).pathShape;s("f",h,t)}{const t=r,n=x/2,e=t+n,h=t/2,d=u.M(h,p).Q_HV(i,M).Q_VH(h,c).Q_HV(t,M).Q_VH(h,p).M(e,p).V(c).Q_VH(h,w).H(i+T).pathShape;s("g",d,e)}{const t=r*.85,n=t/2,e=u.M(i,a).V(c).Q_VH(n,p).Q_HV(t,M).V(c).pathShape;s("h",e,t)}{const n=u.M(i,p).V(c).M(i,m).V(m-b).pathShape;s("i",n,0)}{const t=Math.abs(c-w),n=t/2,e=u.M(t,p).V(c).Q_VH(n,w).Q_HV(i,c).M(t,m).V(m-b).pathShape;s("j",e,t)}{const n=u.M(i,c).V(c-b).pathShape;s(".",n,0)}{const n=u.M(i,a).V(M).M(i,c).V(c-b).pathShape;s("!",n,0)}{const n=(w-c)/2,e=n/2,h=u.M(i,c-b).V(c).Q_VH(-e,c+n).pathShape;s(",",h,0)}{const e=(w-c)/2+b,h=new _([new A(i,a,i,a+e)]);s("'",h,0)}{const n=(w-c)/2+b,e=n,h=n,d=new _([new A(i,a,h,a+n)]);s("`",d,e)}{const n=(w-c)/2+b,e=n,h=n*2,d=h,g=a,H=a+n,f=u.M(i,H).L(e,g).L(d,H).pathShape;s("^",f,h)}{const t=x*2,e=(w-c)/2+b,h=new _([new A(i,a,i,a+e),new A(t,a,t,a+e)]);s('"',h,t)}{const n=p,e=u.M(i,c).V(c-b).M(i,n-b).V(n).pathShape;s(":",e,0)}{const n=new _([new A(i,a,i,c)]);s("|",n,0)}{const n=p,e=(w-c)/2,h=e/2,d=u.M(i,c-b).V(c).Q_VH(-h,c+e).M(i,n-b).V(n).pathShape;s(";",d,0)}{const t=V.xHeight*2/3,n=r/10,e=t+n,h=u.M(i,a).V(c).M(t,p).L(i,p+t).M(t/2,c-t).L(e,c).pathShape;s("k",h,e)}{const n=u.M(i,a).V(c).pathShape;s("l",n,0)}{const t=r*1.5,n=t/4,e=t/2,h=t*3/4,d=t,g=u.M(i,p).V(c).Q_VH(n,p).Q_HV(e,M).V(c).M(e,M).Q_VH(h,p).Q_HV(d,M).V(c).pathShape;s("m",g,t)}{const t=r*.85,n=t/2,e=u.M(i,p).V(c).Q_VH(n,p).Q_HV(t,M).V(c).pathShape;s("n",e,t)}{const t=r,n=0,e=t/2,h=t,d=u.M(e,p).Q_HV(h,M).Q_VH(e,c).Q_HV(n,M).Q_VH(e,p).pathShape;s("o",d,t)}{const t=r,n=x/2,e=t+n,h=n,d=n+t/2,g=e,H=u.M(i,p).V(w).M(h,M).Q_VH(d,p).Q_HV(g,M).Q_VH(d,c).Q_HV(h,M).pathShape;s("p",H,e)}{const t=r,n=t/2,e=t+x/2,h=Math.abs(c-w),d=e+h/2,g=e+h,H=u.M(n,p).Q_HV(i,M).Q_VH(n,c).Q_HV(t,M).Q_VH(n,p).M(e,p).V(c).Q_VH(d,w).Q_HV(g,c).pathShape;s("q",H,g)}{const t=r,n=t/2,e=u.M(i,p).V(c).Q_VH(n,p).Q_HV(t,M).pathShape;s("r",e,t)}{const t=V.xHeight*2/3,n=t/2,e=c,h=M,d=p,g=(e+h)/2,H=(h+d)/2,f=(H+d)/2,L=(e+g)/2,Q=u.M(t,f).Q_VH(n,d).Q_HV(i,H).Q_VH(n,h).Q_HV(t,g).Q_VH(n,e).Q_HV(i,L).pathShape;s("s",Q,t)}{const t=r*.75,n=t/2,e=t,h=u.M(n,m).V(M).Q_VH(e,c).M(e,p).H(i).pathShape;s("t",h,t)}{const t=r*.85,n=t/2,e=u.M(i,p).V(M).Q_VH(n,c).Q_HV(t,p).L(t,c).pathShape;s("u",e,t)}{const t=r,n=t/2,e=u.M(i,p).L(n,c).L(t,p).pathShape;s("v",e,t)}{const t=V.xHeight*1.5,n=t/3,e=t/2,h=n*2,d=u.M(i,p).L(n,c).L(e,M).L(h,c).L(t,p).pathShape;s("w",d,t)}{const t=r,n=u.M(t,p).L(i,c).M(i,p).L(t,c).pathShape;s("x",n,t)}{const t=r,n=t/2,e=(p+w)/2,h=u.M(t,p).L(i,w).M(i,p).L(n,e).pathShape;s("y",h,t)}{const t=r,n=u.M(i,p).H(t).L(i,c).H(t).pathShape;s("z",n,t)}{const t=r/2,n=t/2,e=u.M(n,a).circle(n,a+n,"cw").pathShape;s("°",e,t)}{const t=-a,n=t/2,e=u.M(n,a).circle(n,a+n,"cw").pathShape;s("◯",e,t)}{const t=-a,n=t/2,e=a/2,h=u.M(0,e).arc(n,e,t,e,"cw").pathShape;s("◠",h,t)}{const t=-a,n=t/2,e=a/2,h=u.M(0,e).arc(n,e,t,e,"ccw").pathShape;s("◡",h,t)}{const t=-a,n=t/4,e=a+n,h=u.M(n*2,e).arc(n*3,e,t,e,"cw").Q_angles(n*2,c,dt,Y).Q_angles(0,e,z,lt).arc(n,e,n*2,e,"cw").pathShape;s("♡",h,t)}{const t=V.mHeight,n=t/4,e=n;{const h=t,d=(a+c)/2,g=u.M(e,d-n).L(0,d).L(e,d+n).M(0,d).L(h,d).M(h-e,d-n).L(h,d).L(h-e,d+n);s("↔",g.pathShape,h);const H=new _(g.commands.slice(0,3));s("←",H,h);const f=new _(g.commands.slice(2,5));s("→",f,h)}{const d=n,g=n*2,H=g,f=u.M(0,a+e).L(d,a).L(H,a+e).M(d,a).L(d,c).M(0,c-e).L(d,c).L(H,c-e);s("↕",f.pathShape,g);const L=new _(f.commands.slice(0,3));s("↑",L,g);const Q=new _(f.commands.slice(2,5));s("↓",Q,g)}}{const t=V.mHeight,n=0,e=t/2,h=t,d=a,g=c,H=(d+g)/2,f=Math.PI/16,L=u.M(e,d).Q_angles(h,H,tt+f,Y-f).Q_angles(e,g,Y+f,tt-f).Q_angles(n,H,st+f,z-f).Q_angles(e,d,z+f,st-f).pathShape;s("✧",L,t)}{let t=function(Q,v){const y=Q.maxY-Q.minY,E=(v.bottom-v.top)/y,S=(Q.maxX-Q.minX)*E,F=0,D=S,q=U(Q.minX,F,Q.maxX,D),et=U(Q.minY,v.top,Q.maxY,v.bottom);return{x:q,y:et,advance:D}},n=function(){const Q={x:1/0,y:1/0},v={x:-1/0,y:-1/0};g.forEach(C=>{["x","y"].forEach(S=>{Q[S]=Math.min(Q[S],C[S]),v[S]=Math.max(v[S],C[S])})});const y={minX:Q.x,maxX:v.x,minY:Q.y,maxY:v.y},E=t(y,{top:a,bottom:c});return g.forEach(C=>{C.x=E.x(C.x),C.y=E.y(C.y)}),E};const d=z,g=K(5,Q=>{const v=d+Q*(2*Math.PI)*2/5;return N(1,v)}),H=n(),f=g.map((Q,v,y)=>{const $=y.at(v+1-y.length);return new A(Q.x,Q.y,$.x,$.y)});s("☆",new _(f),H.advance);const L=g.map((Q,v,y)=>{const $=y.at(v+1-y.length),E=Math.atan2($.y-Q.y,$.x-Q.x),C=.175;return X.angles(Q.x,Q.y,E+C,$.x,$.y,E-C)});s("⭒",new _(L),H.advance)}return new Map([...o.entries()].sort(([t],[n])=>t<n?-1:t==n?1:0))}class j{restart(o=5,s=this.lineHeight){this.leftMargin=o,this.x=o,this.baseline=s}leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=nt(5);getDescription(o){return this.font.get(o)}static join(o){return new _(o.flatMap(s=>s.description.shape.translate(s.x,s.baseline).commands))}displayText(o,s){return o.map(l=>{const r=l.shape??l.description.shape,a=r.makeElement();return s.appendChild(a),a.style.transform=`translate(${l.x}px,${l.baseline}px)`,{...l,shape:r,element:a}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(o){const s=new Set,l=[];for(;;){const r=j.WORD_BREAK.exec(o);if(!r)break;const a=r[1];if(o=r[2],a[0]==`
`)this.carriageReturn(),this.lineFeed(a.length*4/3);else if(a[0]==" ")this.addSpace(a.length);else{let m=0;const p=0,M=[...a].flatMap(c=>{const w=this.getDescription(c);if(w){const x=w.advance+w.fontMetrics.defaultKerning,i={x:m,width:x,baseline:p,description:w,char:c};return m+=x,i}else return s.add(c),[]});this.x+m>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),M.forEach(c=>{c.x+=this.x,c.baseline=this.baseline,l.push(c)}),this.x+=m}}return s.size>0&&console.warn(s),l}addSpace(o=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*o}static textToShape(o,s){const l=new j;l.font=s;const r=l.addText(o),a=j.join(r),m=l.x;return{shape:a,advance:m}}}class gt{constructor(o){this.element=o}leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(o=1){this.baseline+=this.lineHeight*o}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=nt(5);getDescription(o){return this.font.get(o)}makeRoom(o){this.x+o.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(o){this.x+=o.advance+o.fontMetrics.defaultKerning}moveToCursor(o){o.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(o,s){return this.x+s>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),this.element.appendChild(o),o.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=s,this}show1(o){this.makeRoom(o);const s=o.makeElement();this.element.appendChild(s);const{x:l,baseline:r}=this;return this.moveToCursor(s),this.advance(o),{element:s,x:l,baseline:r}}splitAndShow1(o){this.makeRoom(o);const s=o.makeElements();return s.forEach(({element:l})=>{this.element.appendChild(l),this.moveToCursor(l)}),this.advance(o),s}show(o){const s=new Set,l=[...o].flatMap(r=>{const a=this.getDescription(r);return a?{...this.show1(a),description:a,char:r}:r==" "?(this.showSpace(),[]):(s.add(r),[])});return s.size>0&&console.warn(s),l}splitAndShow(o){const s=new Set,l=[...o].flatMap(r=>{const a=this.getDescription(r);return a?this.splitAndShow1(a):r==" "?(this.showSpace(),[]):(s.add(r),[])});return s.size>0&&console.warn(s),l}showSpace(o=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*o,this}}export{pt as D,rt as F,_ as P,X as Q,j as T,gt as W,Mt as d,nt as m};
