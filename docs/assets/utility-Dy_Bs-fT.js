import{m as a}from"./client-misc-CqK8Npau.js";function h(o,r,n=1,t=1/0){const e=[];if(document.querySelectorAll(o).forEach(s=>{e.push(a.assertClass(s,r))}),e.length<n||e.length>t)throw new Error(`Expecting "${o}" to return [${n} - ${t}] instances of ${r.name}, found ${e.length}.`);return e}class u{constructor(){throw new Error("wtf")}static sfc32(r,n,t,e){function s(){r|=0,n|=0,t|=0,e|=0;let c=(r+n|0)+e|0;return e=e+1|0,r=n^n>>>9,n=t+(t<<3)|0,t=t<<21|t>>>11,t=t+c|0,(c>>>0)/4294967296}const i=s;return Object.defineProperty(i,"currentSeed",{get(){return JSON.stringify([r,n,t,e])}}),i}static#t=42;static seedIsValid(r){try{return this.create(r),!0}catch{return!1}}static create(r=this.newSeed()){console.info(r);const n=JSON.parse(r);if(!(n instanceof Array))throw new Error("invalid input");if(n.length!=4)throw new Error("invalid input");const[t,e,s,i]=n;if(!(typeof t=="number"&&typeof e=="number"&&typeof s=="number"&&typeof i=="number"))throw new Error("invalid input");return this.sfc32(t,e,s,i)}static newSeed(){const r=[];return r.push(Date.now()|0),r.push(this.#t++|0),r.push(Math.random()*2**31|0),r.push(performance.now()*1e4|0),JSON.stringify(r)}static test(){const t=[this.create()];for(;t.length<=10;){for(let s=0;s<20;s++){const i=t.map(c=>c());for(let c=1;c<i.length;c++)if(i[c]!==i[0]){debugger;throw new Error("wtf")}}const e=a.pick(t).currentSeed;t.forEach(s=>{if(s.currentSeed!=e){debugger;throw new Error("wtf")}}),t.push(this.create(e))}}}window.Random=u;function f(o){if(!(isFinite(o)&&o>=0&&o<=1))throw new Error(`t should be between 0 and 1, inclusive. t == ${o}`)}function w(...o){o.forEach(t=>{if(!(t>=0&&t<Number.MAX_SAFE_INTEGER))throw new Error("wtf")});const r=a.sum(o);if(r==0)throw new Error("wtf");return t=>{f(t),t*=r;for(let e=0;e<o.length;e++){const s=o[e];if(t<=s)return t/=s,{t,index:e};t-=s}throw new Error("wtf")}}function d(o){const r=2/(o+1),n=1-r;return e=>n*e*e+r*e}export{u as R,f as a,d as c,w as m,h as s};
