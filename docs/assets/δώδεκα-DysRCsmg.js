import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as d,m as u}from"./client-misc-CqK8Npau.js";import{s as L,m as P,a as c}from"./utility-CcMiQaH1.js";import{T as S}from"./letters-more-1pdnNBp8.js";import"./path-shape-BXOkZTxi.js";const g=d("tau",SVGPathElement),h=g.getTotalLength(),w=(()=>{const n=d("main-handwriting",SVGUseElement);n.style.strokeDasharray=`0, ${h+1}, ${h+1},0`;const e=u.makeLinear(0,0,1,-h);function s(t){c(t),n.style.display="",n.style.strokeDashoffset=e(t).toFixed(6)}function o(){n.style.display="none"}return{show:s,hide:o}})(),y=d("dance",SVGGElement),r=4,f=L("#dance line",SVGLineElement,r,r),x=L("#dance circle",SVGCircleElement,r,r),b=(()=>{function n(s){c(s),y.style.display="",f.forEach(t=>t.style.display="none"),u.initializedArray(r,t=>{const a=u.positiveModulo(s*(t+1)/r,1);return g.getPointAtLength(h*a)}).forEach((t,a)=>{const i=x[a];i.cx.baseVal.value=t.x,i.cy.baseVal.value=t.y})}function e(){y.style.display=""}return{show:n,hide:e}})(),v=(()=>{function n(s){c(s),y.style.display="",f.forEach(t=>t.style.display="");const o=u.initializedArray(r,t=>{const a=u.positiveModulo(s+t/r,1);return g.getPointAtLength(h*a)});o.forEach((t,a)=>{const i=f[a],l=x[a];i.x1.baseVal.value=l.cx.baseVal.value=t.x,i.y1.baseVal.value=l.cy.baseVal.value=t.y;const p=o[a+1]??o[0];i.x2.baseVal.value=p.x,i.y2.baseVal.value=p.y})}function e(){y.style.display="none"}return{show:n,hide:e}})(),E=3,T=P(1,1,E);function k(n){c(n),w.hide(),b.hide(),v.hide();const e=T(n);switch(e.index){case 0:{w.show(e.t);break}case 1:{b.show(e.t);break}case 2:{const s=e.t*E%1;v.show(s);break}default:throw new Error("wtf")}}class F{constructor(e){this.parent=e}weight=1;soFar=.01;add(e){const s=e.shape.splitOnMove().map(o=>{const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",o.rawPath),t.style.transform=`translate(${e.x}px, ${e.baseline}px)`,this.parent.appendChild(t);const a=this.soFar,i=t.getTotalLength(),l=a+i;return this.soFar=l,t.style.setProperty("--offset",a.toString()),t.style.setProperty("--length",i.toString()),{element:t,before:a,length:i,after:l}});return this.updateTotalLength(),s}updateTotalLength(){const e=this.soFar;this.parent.style.setProperty("--total-length",e.toString())}}const I=(()=>{const n=d("conversation-handwriting",SVGGElement),e=new F(n),s=new S(40);s.rightMargin=1e3,s.CRLF(),s.baseline+=10;function o(a,i){const l=i=="student"?120:45;s.x=s.leftMargin=l,s.addText(a).forEach(m=>{e.add({baseline:m.baseline,x:m.x,shape:m.description.shape}).forEach(({element:V})=>{V.classList.add(i)})}),s.baseline+=10,s.CRLF()}o("Did you see the latest 3Blue1Brown video?","teacher"),o("Yes.  It looks amazing!","student"),o("Would you like to see something similar with tau instead of pi?","teacher"),o("Of course!","student"),o("I have some real stuff on the way.  I just really â™¡ some of those animations so I had to try them myself.","teacher");function t(a){n.style.setProperty("--t",a.toString()),c(a)}return t})();function G(n){c(n),k(n),I(n)}{const n=d("time",HTMLInputElement),e=()=>{const s=n.valueAsNumber;G(s)};n.addEventListener("input",e),e()}
