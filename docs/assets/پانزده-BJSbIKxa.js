import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as f}from"./client-misc-1LRynplM.js";/* empty css              */import{m as l}from"./misc-CLGTS8fC.js";import{Q as L,P as d}from"./path-shape-BRnP7lyE.js";import{d as I,l as N,s as F,a as V}from"./utility-DC2vzgXJ.js";const E=1920,S=1080,B=f("main",SVGSVGElement),p=f("legend",SVGTextElement);function P(){const o=p.getComputedTextLength(),t=["Gold","Gold = goal. ","Gold = goal.  Blue"].map(e=>{const c=p.getSubStringLength(0,e.length),s=p.getSubStringLength(e.length,1);return(c+s/2)/o}),n=F("#legendGradient stop",SVGStopElement,(t.length+1)*2,(t.length+1)*2);t.forEach((e,c)=>{const s=n.slice(c*2+1,c*2+3);if(s.length!=2)throw new Error("wtf");s.forEach(r=>{r.offset.baseVal=e})})}P();const D=new ResizeObserver(o=>{console.log(o),o.forEach(t=>{P()})});D.observe(p);const k={x:E/2,y:S/2,zoom:275,cssPath:""};function A(o){const t={...k,...o},n=document.createElementNS("http://www.w3.org/2000/svg","g");n.classList.add("compare");const e=`translate(${t.x}px,${t.y}px) scale(${t.zoom})`;n.style.transform=e;const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.r.baseVal.value=1;const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.style.d=t.cssPath;const r=document.createElementNS("http://www.w3.org/2000/svg","text");return n.append(c,s,r),B.appendChild(n),{topG:n,circle:c,path:s,text:r}}function v(o){const t=-l.FULL_CIRCLE/4,n=t+l.FULL_CIRCLE,e=l.makeLinear(0,t,o,n);return l.initializedArray(o,s=>{const r=e(s),i=Math.cos(r),a=Math.sin(r),h=r+l.FULL_CIRCLE/4;return{x:i,y:a,tangentAngle:h}})}class g{constructor(t){this.compareElement=t}static#e=l.makeBoundedLinear(.2,0,1,1);setCount(t,n){const e=this.compareElement.text;e.textContent=t.toString(),n=g.#e(n),e.style.opacity=n.toString()}#t;setD(t,n){this.#t?.cancel();const c=this.compareElement.path.animate([{d:t.start.cssPath},{d:t.end.cssPath}],{duration:1,fill:"both"});c.pause(),c.currentTime=n,this.#t=c}hideCircle(t){const n=`xywh(0% ${t*100}% 100% 100%)`;this.compareElement.circle.style.clipPath=n}}const x=new g(A({x:E/4,y:S/2})),C=new g(A({x:E*3/4,y:S/2})),u=[...l.count(3,13)],G=-.5,R=0,_=I(G,u.length,R),q=u.map(o=>v(o).map((e,c,s)=>{const r=s[(c+1)%s.length];return L.angles(e.x,e.y,e.tangentAngle,r.x,r.y,r.tangentAngle)})),y=u.map(o=>v(o).map((e,c,s)=>{const r=s[(c+1)%s.length];return L.line2(e,r)})),[H]=[q].map(o=>o.map((t,n)=>{const e=o[n-1]??t,c=N(e.length,t.length),[s,r]=[e,t].map(i=>{const a=c/i.length,h=i.flatMap(m=>m.multiSplit(a));return new d(h)});return{start:s,end:r}})),z=y.map((o,t)=>{const n=new d(o),e=y[t-1];if(e){if(e.length!=o.length-1)throw new Error("wtf");{const c=e.length,s=[...e];if(c%2==0){const a=c/2,h=s[a-1],{x:m,y:w}=h,T=L.controlPoints(m,w,m,w,m,w);s.splice(a,0,T)}else{const a=(c-1)/2,m=s[a].split(.5);s.splice(a,1,...m)}const r=new d(s),i=new d(o);if(r.commands.length!=i.commands.length)throw new Error("wtf");return{start:r,end:i}}}else return{start:n,end:n}}),U=l.makeBoundedLinear(0,0,-G,1);function b(o){V(o);const t=_(o),n=u[t.index],e=U(t.t);x.setCount(n,e),x.setD(H[t.index],e),C.setCount(n,e),C.setD(z[t.index],e)}function $(o){return document.querySelectorAll("[data-hideBeforeScreenshot]").forEach(t=>{if(!(t instanceof SVGElement||t instanceof HTMLElement))throw new Error("wtf");t.style.display="none"}),{source:"tangent-line-2.ts",devicePixelRatio,script:o}}const M=window;M.initScreenCapture=$;M.showFrame=b;{const o=f("time",HTMLInputElement),t=()=>{const n=o.valueAsNumber;b(n)};o.addEventListener("input",t),t()}
