import"./modulepreload-polyfill-B5Qt9EMX.js";import{i as v,m as w,g as C,d as k}from"./client-misc-leadhGo2.js";import{a as x}from"./utility-DcEUXXL7.js";function M(n,t,e){if(!(t>=0&&t<=1))throw new Error("Expected 0 ≤ t ≤ 1");const o=Math.max(0,t-e),a=n(o),i=Math.min(1,t+e),l=n(i),c=l.x-a.x,s=l.y-a.y;return c==0&&s==0?NaN:Math.atan2(s,c)}function u(n,t={}){const e=Math.ceil(t.numberOfSegments??10);if(e<1)throw new Error(`Invalid numberOfSegments: ${e}`);const o=.01/e,a=v(e+1,s=>{const r=s/e,p=n(r),m=M(n,r,o);return{t:r,point:p,direction:m}}),i=v(e,s=>({from:a[s],to:a[s+1]}));let c=`${t.initialCommand??"M"} ${i[0].from.point.x}, ${i[0].from.point.y}`;return i.forEach(s=>{const r=$({x0:s.from.point.x,y0:s.from.point.y,slope:Math.tan(s.from.direction)},{x0:s.to.point.x,y0:s.to.point.y,slope:Math.tan(s.to.direction)});r?c+=` Q ${r.x},${r.y}`:c+=" M",c+=` ${s.to.point.x},${s.to.point.y}`}),c}function I(n,t,e){const o=f(n,t,e);return u(o,{numberOfSegments:e*9.001002})}function f(n,t,e){const i={x:n.x-t.x,y:n.y-t.y},l=Math.hypot(i.x,i.y),c=w(0,l,1,0),s=Math.atan2(i.y,i.x),r=w(0,s,1,s+e*2*Math.PI);return function(p){const m=c(p),g=r(p),y=x(m,g);return{x:t.x+y.x,y:t.y+y.y}}}function P(n,t,e){const o=f(t,n,e);return a=>o(1-a)}function $(n,t){if(isNaN(n.slope)||isNaN(t.slope)||n.slope==t.slope)return;const e=n.slope==1/0||n.slope==-1/0,o=t.slope==1/0||t.slope==-1/0;if(e||o)return;const a=e?n.x0:o?t.x0:(t.y0-t.slope*t.x0-n.y0+n.slope*n.x0)/(n.slope-t.slope),i=e?t.slope*(a-t.x0)+t.y0:n.slope*(a-n.x0)+n.y0;return{x:a,y:i}}function E(n,t,e){const o=.01/e;function a(s){const r=n(s),p=M(n,s,o),m=p+Math.PI/2,g=t({direction:1,t:s,position:r,tangentAngle:p})/2,y=x(g,m);return{x:r.x+y.x,y:r.y+y.y}}const i=u(a,{numberOfSegments:e});function l(s){const r=1-s,p=n(r),m=M(n,r,o),g=m-Math.PI/2,y=t({direction:-1,t:r,position:p,tangentAngle:m})/2,S=x(y,g);return{x:p.x+S.x,y:p.y+S.y}}const c=u(l,{numberOfSegments:e,initialCommand:"L"});return`${i} ${c} z`}function N(n){const t=w(0,n.fromAngle,1,n.toAngle),e=w(0,Math.log(n.fromRadius),1,Math.log(n.toRadius)),o=c=>Math.exp(e(c)),a=c=>{const s=x(o(c),t(c));return{x:s.x+n.center.x,y:s.y+n.center.y}},i=2*Math.PI/(n.toAngle-n.fromAngle);return E(a,({t:c,direction:s})=>{const r=o(c+i*s),p=o(c);return Math.abs(p-r)*n.widthRatio},Math.abs(n.fromAngle-n.toAngle)*4)}const h=C("main",SVGSVGElement),b=C("controls",HTMLDivElement);function d(n,t){const e=document.createElement("div");b.appendChild(e),e.classList.add("check-box-container");const o=`_addCheckBox__${n}`,a=document.createElement("input");e.appendChild(a),a.type="checkbox",a.id=o;const i=document.createElement("label");e.appendChild(i),i.htmlFor=o,i.innerText=n;const l=document.createElement("span");e.appendChild(l),l.innerText=" 🐢",l.style.cursor="pointer",l.addEventListener("click",()=>{O(t.style.d)}),t.style.display="none",a.addEventListener("input",()=>{t.style.display=a.checked?"":"none"})}function T(){const n=I({x:50,y:10},{x:50,y:50},3),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.style.d=`path("${n}")`,t.style.fill="none",t.style.stroke="magenta",h.appendChild(t),d("Magenta",t)}T();function R(){const t=[f({x:50,y:10},{x:50,y:50},3),P({x:50,y:50},{x:90,y:50},3)].map((o,a)=>u(o,{numberOfSegments:25,initialCommand:a?"L":"M"})).join(" ")+" z",e=document.createElementNS("http://www.w3.org/2000/svg","path");e.style.d=`path("${t}")`,e.style.fill="lime",e.style.stroke="none",h.appendChild(e),d("Lime",e)}R();function L(){const t=[f({x:50,y:90},{x:50,y:50},3),P({x:50,y:50},{x:10,y:50},3)].map((o,a)=>u(o,{numberOfSegments:23,initialCommand:a?"L":"M"})).join(" ")+" z",e=document.createElementNS("http://www.w3.org/2000/svg","path");e.style.d=`path("${t}")`,e.style.fill="orange",e.style.stroke="none",h.appendChild(e),d("Orange",e)}L();async function O(n){const t=document.createElementNS("http://www.w3.org/2000/svg","g"),e=document.createElementNS("http://www.w3.org/2000/svg","text");e.textContent="🐢",e.style.fontSize="10px",e.style.transform="scale(-1, 1)",e.style.textAnchor="middle",t.style.offsetPath=n,t.style.offsetPosition="center",t.style.offsetDistance="0%",h.appendChild(t),t.appendChild(e),await t.animate({offsetDistance:"100%"},1e4).finished,t.remove()}function z(){const t=f({x:50,y:10},{x:50,y:50},3),e=w(0,40/3,1,0),a=E(t,({t:l})=>e(l),3*Math.PI*3),i=document.createElementNS("http://www.w3.org/2000/svg","path");i.style.d=`path("${a}")`,i.style.fill="blue",i.style.stroke="none",h.appendChild(i),d("Blue Triangle",i)}z();function Q(){const n=N({center:{x:50,y:50},fromAngle:-Math.PI/2,toAngle:Math.PI*4,fromRadius:40,toRadius:4,widthRatio:.5}),t=document.createElementNS("http://www.w3.org/2000/svg","path");t.style.d=`path("${n}")`,t.style.fill="slategray",t.style.stroke="none",h.appendChild(t),d("Exponential",t)}Q();function _(){const t=f({x:50,y:10},{x:50,y:50},3),o=E(t,({tangentAngle:i})=>Math.pow(Math.sin(i),2)*2+.2,3*Math.PI*3),a=document.createElementNS("http://www.w3.org/2000/svg","path");a.style.d=`path("${o}")`,a.style.fill="tan",a.style.stroke="none",h.appendChild(a),d("Calligraphy",a)}_();function W(){const n="M 10,30  A 20,20 0,0,1 50,30  A 20,20 0,0,1 90,30  Q 90,60 50,90  Q 10,60 10,30 z",t=document.createElementNS("http://www.w3.org/2000/svg","path");t.style.d=`path("${n}")`,t.style.fill="none",t.style.stroke="red",h.appendChild(t),d("Simple ♡",t)}W();async function A(n){const t=document.createElementNS("http://www.w3.org/2000/svg","path");function e(){t.remove()}if(t.style.d=`path("${n}")`,t.style.d=="")throw console.error({invalidPath:n}),new Error("Invalid Path");t.style.display="none",h.appendChild(t);function o(i){const l=i*t.getTotalLength();return t.getPointAtLength(l)}const a=k();return requestAnimationFrame(()=>{a.resolve()}),await a.promise,{cleanup:e,vectorFunction:o}}async function B(){const t=await A("M 50,30   A 20,20 0,0,1 90,30  Q 90,60 50,90  Q 10,60 10,30 A 20,20 0,0,1 50,30 z"),e=u(t.vectorFunction,{numberOfSegments:41}),o=document.createElementNS("http://www.w3.org/2000/svg","path");o.style.d=`path("${e}")`,o.style.fill="none",o.style.stroke="pink",h.appendChild(o),d("Recreated ♡",o),t.cleanup()}B();async function F(){const t=await A("M 50,30   A 20,20 0,0,1 90,30  Q 90,60 50,90  Q 10,60 10,30 A 20,20 0,0,1 50,30 z"),e=3;function o({t:l}){return 1.5-Math.cos(l*(2*Math.PI)*e)}const a=E(t.vectorFunction,o,51),i=document.createElementNS("http://www.w3.org/2000/svg","path");i.style.d=`path("${a}")`,i.style.fill="lavender",i.style.stroke="none",h.appendChild(i),d("Weighted ♡",i),t.cleanup()}F();
