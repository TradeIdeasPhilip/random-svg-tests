<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <link rel="icon" type="image/svg+xml" href="/moon.svg" /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Complex Fourier Series</title>
    <script type="module" src="/src/complex-fourier-series.ts"></script>
  </head>
  <body>
    <h1>Function</h1>
    <p>
      What do you want to graph? Create a parametric function in JavaScript.
      Name it <code>f()</code>. For each input value <code>t</code>, between 0
      and 1, <code>f()</code> returns a point like
      <code>{ x: 1, y: -0.08333333 }</code>. You can do one time setup before
      defining <code>f()</code>. See the samples and additional instructions,
      below.
    </p>
    <div style="display: flex; flex-direction: column">
      <textarea
        id="source"
        style="
          min-height: 5lh;
          height: 50vh;
          font-size: inherit;
          text-wrap: nowrap;
        "
        autocorrect="off"
        spellcheck="off"
      ></textarea>
    </div>
    <button id="go">Go</button>
    <select id="sampleCode">
      <option>Error</option>
      <option>Check console for details.</option>
    </select>
    <button id="nextSample">Next Sample</button>
    <h2 data-hide>Inputs</h2>
    <div id="inputsGroup">
      <p data-hide>
        You can access these sliders from inside your code. The name of each
        slider is written next to it <code>in blue</code>. The samples will
        update immediately as you move the slider.
      </p>
      <div id="inputs"></div>
      <button data-hide>Add Another Input</button>
    </div>
    <div id="error" class="error"></div>
    <h2 data-hide>Output</h2>
    <label style="display: flex; align-items: center"
      ><input type="checkbox" id="hide-text" />&nbsp;Hide Text</label
    >
    <p data-hide>
      The first image shows your function tracing out the path. The second image
      shows how well each approximation matches the original. The table details
      the progress in the second image.
    </p>
    <svg
      class="outlineSample"
      id="distanceVsT"
      data-sample
      viewBox="0 0 100 10"
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="xMidYMid meet"
      style="border: thin lightgreen solid"
    >
      <circle data-distance></circle>
      <path></path>
      <circle data-t></circle>
    </svg>

    <svg
      class="outlineSample"
      id="requestedVsReconstructed"
      data-sample
      viewBox="0 0 100 10"
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="xMidYMid meet"
      style="border: thin lightgreen solid"
    >
      <path></path>
      <path></path>
    </svg>

    <table id="progress">
      <tr>
        <td></td>
        <th>Circles</th>
        <th>Amplitude</th>
      </tr>
      <tr data-using>
        <th>Using</th>
        <td data-circles class="numbers"></td>
        <td data-amplitude class="numbers"></td>
      </tr>
      <tr data-adding>
        <th>Adding</th>
        <td data-circles class="numbers"></td>
        <td data-amplitude class="numbers"></td>
      </tr>
      <tr data-available>
        <th>Available</th>
        <td data-circles class="numbers"></td>
        <td data-amplitude class="numbers"></td>
      </tr>
    </table>

    <h1>More Information</h1>
    <h2>Complex Fourier Series</h2>
    <p>
      In this context “complex” means 2 dimensional. This page will convert any
      function into a series of circles, called a Fourier series. Add the
      circles back together to get the original function. Circles (or sines and
      cosines) are often essential because they easier to use than the original
      function.
    </p>
    <p>
      This page lets you <i>explore</i> the Fourier series for a function. You
      can see how well the series approximates the original function, and how
      quickly it converges. And you can tweak the function and its
      parameterization to see the result.
    </p>
    <p>
      The input to this page is a parametric function written in JavaScript.
      Your function takes one input, <code>t</code>, and returns a point. As
      <code>t</code> goes from 0 to 1, your function will trace out a path.
    </p>
    <p>
      Different functions can trace out the same path. These are called
      different “parameterizations.” The small,
      <span style="color: rgb(0, 195, 255)">light blue</span> dot traces out the
      results of your function as <code>t</code> increases at a constant rate.
      The <span style="color: red">red</span> dot always moves at a constant
      speed, as a point of comparison.
    </p>
    <p>
      The “Square” and “Square with Easing” examples show two parameterizations
      of the same shape. The former uses the simplest parameterization where the
      small <span style="color: rgb(0, 195, 255)">blue</span> dot is always
      moving at a constant speed. In the latter example the
      <span style="color: rgb(0, 195, 255)">blue</span> dot slows down around
      each of the corners, like a physical object would have to, speeding up
      through the straightaways. The latter examples converges faster than the
      former, perhaps because sharp corners are difficult for a Fourier series,
      and this function spent more time around those trouble spots.
    </p>
    <h2>References</h2>
    <ul>
      <li>
        <a href="https://youtu.be/dV7GpeuyMNQ?si=V8E-OOBeQVQXLJAB"
          >This video</a
        >
        will give you an overview of this page.
      </li>
      <li>
        You can find general information about this project
        <a
          href="https://github.com/TradeIdeasPhilip/random-svg-tests/tree/master"
          >here</a
        >.
      </li>
      <li>
        All Things Physics’s
        <a
          href="https://www.youtube.com/playlist?list=PLQ05HUwVKT_RMKI07zbYw3_V87qCiSQ86"
          >Square Orbits and Fourier Series</a
        >
        playlist is a great place to get started. Those videos were my primary
        motivation and resource for creating this page.
      </li>
    </ul>
    <h2>Syntax and Other Picky Details</h2>
    <p>
      For the moment you can look at the help found
      <a href="./parametric-path.html#syntax">here</a>. These details are in the
      process of changing.
    </p>
  </body>
</html>
