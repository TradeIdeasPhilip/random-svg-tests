import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as A}from"./client-misc-ZHNZ3-cL.js";import{b as n,m as X,c as Y,s as ee,g as te,t as O,h as E}from"./fourier-shared-Bvu3pFbM.js";import{p as ae,P as F}from"./path-shape-n6EbRjvk.js";import{m as b}from"./misc-wGF4FraP.js";import{d as C,g as ne}from"./utility-D2jUDy1w.js";const ie=1024,W=A.getById("scaled",SVGGElement),V=A.getById("reference",SVGPathElement),oe=A.getById("samples",SVGPathElement);function k(o,m){if(o>=m)throw new Error("wtf");const S=b.makeLinear(o,0,m,1);function D(x){if(x<=o)return 0;if(x>=m)return 1;const l=S(x);return ne(l)}return D}function K(o){V.setAttribute("d",o.pathString);const m=ae(V.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),S=m.a;W.style.transform=m.toString(),W.style.setProperty("--path-scale",S.toString());const D=Y(o.pathString,ie);let x="";D.forEach(([e,a])=>{x+=`M${e},${a}l0,0`}),oe.setAttribute("d",x);const l=ee(D),T=te({addTime:4800,pauseTime:200,maxGroupsToDisplay:o.maxGroupsToDisplay,terms:l}),$=e=>Math.max(...l.slice(0,e).map(t=>Math.abs(t.frequency))),q=e=>8*$(e)+7,J=T.map(e=>{if(e.addingCircles==0){const a=O(l,e.usingCircles),t=q(e.usingCircles),r=F.parametric(a,t);return()=>r.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&l[0].frequency==0){let a=function(s){return`${i.x*s},${i.y*s}`};const{startTime:t,endTime:r}=e,c=r-t,p=k(t,t+c/2),f=k(t,r),i=E(l[0]);return s=>{const u=f(s),d=a(u),y=p(s),h=a(y);return`M ${d} L ${h}`}}else{const t=.2/$(e.usingCircles+e.addingCircles),r=b.makeBoundedLinear(e.startTime,-t,e.endTime,1+t),c=O(l,e.usingCircles),p=O(l,e.addingCircles,e.usingCircles);let f=q(e.usingCircles+e.addingCircles);if(e.usingCircles==0||e.usingCircles==1&&E(l[0])){const i=E(l[0])??{x:0,y:0};return s=>{const u=r(s),d=u-t,y=u+t,h=k(d,y),g=Math.min(1,y);if(g<=0)return`$M${i.x},${i.y} L${i.x},${i.y}`;{let G=function(w){w=w*g;const v=c(w),L=1-h(w);if(L==0)return v;{const z=p(w);return{x:v.x+L*z.x,y:v.y+L*z.y}}};const P=Math.ceil(Math.max(f,150)*g);return F.parametric(G,P).rawPath}}}else return i=>{const s=r(i),u=k(s-t,s+t);function d(h){const g=c(h),G=1-u(h);if(G==0)return g;{const P=p(h);return{x:g.x+G*P.x,y:g.y+G*P.y}}}return F.parametric(d,f).rawPath}}}),Q=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,M=e=>{e<0&&(e=0);let a=Q(e);const[,t,r]=/^([0-9]+)\.([0-9]+)$/.exec(a);switch(t.length){case 3:break;case 2:{a=b.FIGURE_SPACE+a;break}case 1:{a=b.FIGURE_SPACE+b.FIGURE_SPACE+a;break}default:throw console.warn({beforeDecimalPoint:t,afterDecimalPoint:r,result:a}),new Error("wtf")}return a+"%"},Z=T.map(e=>({usingAmplitude:M(e.usingAmplitude),addingAmplitude:M(e.addingAmplitude),availableAmplitude:M(e.availableAmplitude)})),H=C("[data-using] [data-circles]",HTMLTableCellElement),R=C("[data-using] [data-amplitude]",HTMLTableCellElement),I=C("[data-adding] [data-circles]",HTMLTableCellElement),B=C("[data-adding] [data-amplitude]",HTMLTableCellElement),N=C("[data-available] [data-circles]",HTMLTableCellElement),U=C("[data-available] [data-amplitude]",HTMLTableCellElement);function j(e){function a(){const i=T.findIndex(({endTime:s})=>e<s);return i==-1?T.length-1:i}const t=a(),r=i=>`${i.toString().padStart(4,b.FIGURE_SPACE)}`,c=T[t];H.innerText=r(c.usingCircles),I.innerText=r(c.addingCircles),N.innerText=r(c.availableCircles),[{value:c.usingCircles,element1:H,element2:R},{value:c.addingCircles,element1:I,element2:B},{value:c.availableCircles,element1:N,element2:U}].forEach(({value:i,element1:s,element2:u})=>{const d=i==0?"0.5":"";s.style.opacity=d,u.style.opacity=d});const p=Z[t];R.innerText=p.usingAmplitude,B.innerText=p.addingAmplitude,U.innerText=p.availableAmplitude;const f=F.cssifyPath(J[t](e));W.style.setProperty("--d",f)}window.showFrame=j}const _=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,pathString:n.likeShareAndSubscribe,minGoodCircles:10}],["hilbert0",{maxGroupsToDisplay:20,pathString:n.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,pathString:n.hilbert[1],minGoodCircles:13}],["hilbert4",{maxGroupsToDisplay:20,pathString:n.hilbert[4]}],["p0",{maxGroupsToDisplay:20,pathString:n.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,pathString:n.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,pathString:n.peanocurve[2]}],["square",{maxGroupsToDisplay:7,pathString:"M-0.5,-0.667 h 1 v 1 h -1 z"}],["ellipse",{maxGroupsToDisplay:7,pathString:"M1,0 A1,1.25 0 1 1 -1,0 A1,1.25 0 1 1 1,0 z"}],["star7",{maxGroupsToDisplay:8,pathString:X(7,2,"My seed 2025a").rawPath,topText:"Random 7 Pointed Star",bottomText:'makePolygon(7,2, "My seed 2025a")'}],["Daphne_Oram_1",{maxGroupsToDisplay:18,pathString:n.daphneOram1,topText:"Daphne Oram #1",bottomText:"Wikimedia Commons"}],["Daphne_Oram_2",{maxGroupsToDisplay:22,pathString:n.daphneOram2,topText:"Daphne Oram #2",bottomText:"Wikimedia Commons"}],["water_opossum",{maxGroupsToDisplay:22,pathString:n.waterOpossum,topText:"Chironectes (Water Opossum)",bottomText:"Wikimedia Commons",minGoodCircles:10}],["cat",{maxGroupsToDisplay:10,pathString:n.cat,topText:"Cat",bottomText:"Wikimedia Commons"}],["airplane",{maxGroupsToDisplay:20,pathString:n.airplane,topText:"Airplane",bottomText:"Wikimedia Commons"}],["head_facing_right",{maxGroupsToDisplay:14,pathString:n.headFacingRight,topText:"Head Facing Right",bottomText:"Wikimedia Commons"}],["Lavater",{maxGroupsToDisplay:14,pathString:n.lavater,topText:"Johann Kaspar Lavaters",bottomText:"Wikimedia Commons"}],["man_walking",{maxGroupsToDisplay:17,pathString:n.manWalking,bottomText:"Wikimedia Commons",topText:"Man Walking"}],["bear",{maxGroupsToDisplay:17,pathString:n.bear,topText:"Bear",bottomText:"Wikimedia Commons"}],["head_facing_left",{maxGroupsToDisplay:9,pathString:n.headFacingLeft,topText:"Head Facing Left",bottomText:"Wikimedia Commons"}],["kiwi",{maxGroupsToDisplay:17,pathString:n.kiwi,topText:"Kiwi",bottomText:"Wikimedia Commons"}],["hand",{maxGroupsToDisplay:15,pathString:n.hand,topText:"Hand",bottomText:"Wikimedia Commons"}]]);{const o=new URLSearchParams(window.location.search).get("script_name");if(o){const m=_.get(o);if(!m)throw console.log(`invalid script name: ${o}`,_),new Error("wtf");K(m)}else K(_.get("hand"))}setTimeout(()=>{let o=NaN;window.animationLoop=new A.AnimationLoop(m=>{isNaN(o)&&(o=m);const S=m-o;window.showFrame(S)})},1);
