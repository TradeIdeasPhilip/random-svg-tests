import"./modulepreload-polyfill-B5Qt9EMX.js";import{g,A as V}from"./client-misc-1LRynplM.js";import{b as v,s as m}from"./utility-DC2vzgXJ.js";import{m as d}from"./misc-CLGTS8fC.js";function E(n,t,s,e,r){const a=Math.atan2(r-s,e-t),i=d.polarToRectangular(20,a);n.x1.baseVal.value=t+i.x,n.y1.baseVal.value=s+i.y,n.x2.baseVal.value=t-i.x,n.y2.baseVal.value=s-i.y}function b(...n){n.forEach(t=>{t.style.display=""})}function S(...n){n.forEach(t=>{t.style.display="none"})}function L(){return[[29,41],[3,5],[37,7],[11,13],[31,17],[19,23],[103,43],[307,71]].map(([s,e])=>{function r(a,i){function o(c){const l=a*d.FULL_CIRCLE/c;return Math.sin(l)*i}return{Δx:o(s),Δy:o(e)}}return r})}const x=L();class h{#c=g("scale",SVGGElement);#h=g("function",SVGPathElement);#a=v("#singleEstimate",SVGLineElement);#t=m("#estimateLines line",SVGLineElement);#r;#s;addBorders(){m("svg#main text",SVGTextElement).forEach(s=>{const e=d.assertClass(s.cloneNode(!0),SVGTextElement);e.classList.add("scale-background"),s.parentElement.insertBefore(e,s)})}constructor(){[this.#r,this.#s]=m("circle.measurement-fill",SVGCircleElement,2,2);const s=.13333333*2,e=s/this.#t.length,r=`${e} ${s-e}`;this.#t.forEach((a,i)=>{a.style.strokeDasharray=r,a.style.strokeDashoffset=(e*i).toString()}),this.addBorders(),this.update()}static instance=new h;#e=1;#n=2;get dx(){return this.#n}#o=0;set timeInSeconds(t){this.#o=t,this.update()}get timeInSeconds(){return this.#o}update(){const t=0+this.#n,e=-this.f(t),r=this.#e,a=t*r,i=e*r;this.#s.cx.baseVal.value=a,this.#s.cy.baseVal.value=i;let o,c;this.blurry?(S(this.#a),b(...this.#t),this.#t.forEach((l,u)=>{const f=.013333333*this.zoom,y=x[u*2](this.timeInSeconds,f),p=x[u*2+1](this.timeInSeconds,f);E(l,y.Δx,y.Δy,a+p.Δx,i+p.Δy)}),o=h.initialBlurRadius*Math.sqrt(r),c="url(#measurementBlur)"):(S(...this.#t),b(this.#a),E(this.#a,0,0,a,i),o=.06666666,c="var(--measurement-color)"),[this.#r,this.#s].forEach(l=>{l.r.baseVal.value=o,l.style.fill=c})}#l=!1;get blurry(){return this.#l}set blurry(t){this.#l=t,this.update()}set dx(t){this.#n=t,this.update()}updatePath(){const t=this.#e,s=`path('M ${-3*t} ${-9*t} Q ${0*t} ${9*t} ${3*t} ${-9*t}')`;this.#h.style.d=s}get zoom(){return this.#e}set zoom(t){this.#e=t,this.update(),this.updatePath(),this.#c.style.transform=`scale(${t})`}f(t){return t*t}#i;get automaticTime(){return!!this.#i}set automaticTime(t){this.#i?.cancel(),this.#i=void 0,t&&(this.#i=new V(s=>{this.blurry&&(this.timeInSeconds=s/1e3)}))}static initialBlurRadius=.25}window.GUI=h.instance;
