import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{c as F}from"./client-misc-ZHNZ3-cL.js";import{s as _,G as q}from"./utility-By36BYLf.js";import{m as c}from"./misc-wGF4FraP.js";import{b as z}from"./path-shape-7xuS1yUd.js";F.getById("main",SVGSVGElement);const P=F.getById("dxSize",HTMLInputElement);{let t=function(){const e=P.valueAsNumber;p(e)};P.addEventListener("input",t),t()}const k=_("#radialGradient stop",SVGStopElement,2,2),K=[{color:"red",offset:c.makeLinear(0,1,1,0)},{color:"#00c000",offset:c.makeLinear(1,0,2,1)}],O=2,Y=1,b=0;function L(t){const e=t<1?0:1,{color:s,offset:o}=K[e],i=o(t);k.forEach(r=>{r.offset.baseVal=i}),k[0].setAttribute("stop-color",s)}const G=F.getById("color",HTMLInputElement);{let t=function(){const e=G.valueAsNumber;L(e)};G.addEventListener("input",t),t()}function p(t){document.body.style.setProperty("--dx-size",`${t}px`),_('[data-equation="1"] .big-change-stroke',SVGLineElement,2,2).forEach(e=>{const o=e.x1.baseVal.value+t;e.x2.baseVal.value=o}),_("rect[data-animate]",SVGRectElement).forEach(e=>{let s=!1,o=!1;switch(e.dataset.animate){case"horizontal":{o=!0;break}case"vertical":{s=!0;break}case"square":{o=!0,s=!0;break}}if(!(o||s))throw new Error("wtf");if(s&&(e.width.baseVal.value=t),o){const r=e.height.baseVal.value+e.y.baseVal.value-t;e.y.baseVal.value=r,e.height.baseVal.value=t}})}const l=new q(60),v=0,w=l.fromMSF(4,12,18),D=8*l.framesPerSecond,H=l.fromMSF(4,19,52),A=l.fromMSF(4,26,36),C=l.fromMSF(4,27,35),T=l.fromMSF(4,32,9),R=l.fromMSF(4,41,0),U=l.fromMSF(4,50,0),f=l.fromMSF(5,17,0);console.table({T_start:v,T_switchToSmallDx:w,T_startChangingYellowToRed:H,T_doneChangingToRed:A,T_startMovingToBigDx:C,T_finishedMovingToBigDx:T,T_startMovingFromRedToGreen:R,T_endAtGreen:U,T_endOfVideo:f});function V({startTime:t,startPhase:e,endTime:s,endPhase:o,maxValue:i,minValue:r,waveLength:n}){if(n!==void 0)throw new Error("coming soon");const a=c.makeLinear(t,e,s,o),h=c.makeLinear(1,i,-1,r);return g=>h(Math.sin(a(g)))}const m=c.FULL_CIRCLE/4,E=.05,S=.25,W=V({startTime:w-D,startPhase:m-c.FULL_CIRCLE/2,endTime:w,endPhase:m+c.FULL_CIRCLE/2,maxValue:S,minValue:E}),J=V({startTime:w,startPhase:m-c.FULL_CIRCLE/2,endTime:C,endPhase:c.FULL_CIRCLE*7/2+m,maxValue:c.lerp(E,S,.2),minValue:E}),Z=V({startTime:C,startPhase:c.FULL_CIRCLE/2+m,endTime:T,endPhase:m,maxValue:S,minValue:E}),tt=V({startTime:T,startPhase:m,endTime:T+D/2,endPhase:m+c.FULL_CIRCLE,minValue:c.lerp(E,S,.8),maxValue:S});function et(t){t<w?p(W(t)):t<C?p(J(t)):t<T?p(Z(t)):p(tt(t))}const st=c.makeBoundedLinear(H,Y,A,b),ot=c.makeBoundedLinear(R,b,U,O),nt=(A+R)/2;function rt(t){t<nt?L(st(t)):L(ot(t))}const N=[{start:"0:15:30",end:"0:24:45",notes:"This left column.",shapes:[{cx:1.5,cy:3.3,rx:1.5,ry:2.5},{cx:1.5,cy:7.45,rx:1.3,ry:.5}]},{start:"0:26:00",notes:"1",shapes:[{cx:2.25,cy:1.5,rx:.5,ry:.5}]},{start:"0:28:26",notes:"x",shapes:[{cx:2.25,cy:2.75,rx:.5,ry:.5}]},{start:"0:32:15",notes:"x^2",shapes:[{cx:2.25,cy:4,rx:.5,ry:.5}]},{start:"0:34:20",notes:"x^3",shapes:[{cx:2.25,cy:5.25,rx:.5,ry:.5}]},{start:"0:36:15",end:"0:37:45",notes:"x^4",shapes:[{cx:2.25,cy:7.5,rx:.5,ry:.5}]},{start:"0:45:30",end:"1:00:00",notes:"The second column says what if we add some small thing to this.  Highlight all +dx ’s in the second column",shapes:[{cx:4.4,cy:3.3,rx:.6,ry:2.5},{cx:4.7,cy:7.4,rx:.6,ry:.5}]},{start:"1:04:00",end:"1:18:00",notes:"X is a real word number.  Highlight the x’s before the +dx’s.",shapes:[{cx:3.65,cy:3.3,rx:.5,ry:2.5},{cx:3.95,cy:7.4,rx:.5,ry:.5}]},{start:"1:18:16",end:"1:46:45",notes:"Highlight the +dx’s again",shapes:[{cx:4.4,cy:3.3,rx:.6,ry:2.5},{cx:4.7,cy:7.4,rx:.6,ry:.5}]},{start:"1:48:45",end:"1:57:00",notes:"X ^ 0 is a point",shapes:[{cx:6.5,cy:1.5,rx:.5,ry:.6}]},{start:"1:57:00",end:"2:10:56",notes:"line",shapes:[{cy:2.75,cx:6.2,ry:.6,rx:.8},{cy:2.75,cx:4.2,ry:.6,rx:.7}]},{start:"2:10:56",end:"2:28:30",notes:"x^2 - one around the colorful text, one around all of the pictures",shapes:[{cy:3.9,cx:12.2,ry:.9,rx:2.5},{cy:4,cx:7.5,ry:.6,rx:2.1}]},{start:"2:28:30",end:"2:32:47",notes:"x^3",shapes:[{cy:5.8,cx:8.3,ry:1.3,rx:1.1}]},{start:"2:40:40",end:"2:56:00",notes:"highlight the blue f4(x), and white - right before it.",shapes:[{cy:7.5,cx:6.1,rx:.8,ry:.6}]},{start:"2:56:00",end:"3:06:44",notes:"highlight the ÷dx",shapes:[{cy:7.5,cx:7.5,rx:.6,ry:.6}]},{start:"3:25:30",end:"3:30:00",notes:"highlight the 3 yellow images",shapes:[{cy:6.3,cx:13.25,ry:3,rx:.75,rotate:"31deg"}]},{start:"3:30:00",end:"3:31:21",notes:"add the first 2 reds",shapes:[{cy:6.3,cx:13.8,ry:3,rx:1.3,rotate:"31deg"}]},{start:"3:31:21",end:"3:33:00",notes:"add the last red",shapes:[{cy:6.5,cx:14.1,ry:3,rx:1.75,rotate:"31deg"}]},{start:"3:37:30",end:"3:43:46",notes:"highlight the 3 green pictures",shapes:[{cy:6,cx:11.85,ry:3.5,rx:1.2,rotate:"40deg"}]},{start:"3:43:46",end:"3:56:30",notes:"back to all yellow and red highlighted",shapes:[{cy:6.5,cx:14.1,ry:3,rx:1.75,rotate:"31deg"}]}];N.forEach((t,e,s)=>{if(t.end===void 0){const o=s[e+1];t.end=o.start}});class u{#t=new Array;add(e,s,o){const i=l.fromString(e),r=l.fromString(s);if(i>f||r>f)throw new Error("wtf");const n=this.#t.at(-1);let a=!1;if(n){if(i<n.startFrame)throw new Error("wtf");a=i==n.endFrame,n.mergeAfter=a}this.#t.push({startFrame:i,endFrame:r,shape:o,mergeBefore:a,mergeAfter:!1})}static TRANSITION_FRAME_COUNT=l.framesPerSecond/2;getKeyframes(){const e=new Array;return e.push({easing:"linear",offset:0,...y({cx:0,cy:0,rx:0,ry:0})}),this.#t.forEach(({endFrame:s,mergeAfter:o,mergeBefore:i,shape:r,startFrame:n})=>{if(s-n<u.TRANSITION_FRAME_COUNT*2)throw new Error("wtf");if(!i){const a=n,h="ease-in-out",d=y({...r,rx:0,ry:0});e.push({offset:a,easing:h,...d})}{const a=y(r);e.push({offset:n+u.TRANSITION_FRAME_COUNT,easing:"linear",...a}),e.push({offset:s-u.TRANSITION_FRAME_COUNT,easing:"ease-in-out",...a})}if(!o){const a=s,h="linear",d=y({...r,rx:0,ry:0});e.push({offset:a,easing:h,...d})}}),e.forEach(s=>{if(s.offset/=f,s.offset>1)throw new Error("wtf")}),e}static#e;static showFrame(e){this.#e??=this.create().map(s=>s.animation),this.#e.forEach(s=>{s.currentTime=e})}static disable(){this.showFrame(0)}static create(e=N,s=I){const o=Math.max(...e.map(n=>n.shapes.length)),i=c.initializedArray(o,()=>new this);return e.forEach(n=>{n.shapes.forEach((a,h)=>{i[h].add(n.start,n.end,a)})}),s.innerHTML="",i.map(n=>{const a=document.createElementNS("http://www.w3.org/2000/svg","path");s.appendChild(a);const h=n.getKeyframes(),d=a.animate(h,{duration:f,fill:"both"});return d.pause(),{spotlight:n,element:a,keyframes:h,animation:d}})}}function j(t){et(t),rt(t),u.showFrame(t)}const at=l.fromMSF(5,23,55),it=l.fromMSF(5,55,52),ct=l.fromMSF(6,8,0),lt=l.fromMSF(6,18,36),ht=c.makeBoundedLinear(it,b,ct,O);function B(t){p(W(t)),L(ht(t))}const x=window;x.showFrameDemo=j;x.showFrameMain=B;let M=B;x.showFrame=t=>{M(t)};x.Spotlight=u;{let t=function(){const s=e.valueAsNumber;M(s)};const e=F.getById("frameNumber",HTMLInputElement);e.min=e.value=v.toString(),e.max=f.toString(),e.addEventListener("input",t)}function dt(t){switch(document.querySelectorAll("[data-hideBeforeScreenshot]").forEach(e=>{if(!(e instanceof SVGElement||e instanceof HTMLElement))throw new Error("wtf");e.style.display="none"}),t){case"demo":return M=j,{source:"dx.ts",devicePixelRatio,script:t,firstFrame:v,lastFrame:f};case"main":return M=B,u.disable(),{source:"dx.ts",devicePixelRatio,script:t,firstFrame:at,lastFrame:lt};default:throw new Error(`Unknown script: ${JSON.stringify(t)}`)}}x.initScreenCapture=dt;const I=F.getById("highlights",SVGGElement);function y({cx:t,cy:e,rx:s,ry:o,rotate:i}){c.assertFinite(t,e,s,o);const r=t-s,n=t+s,a=e-o,h=e+o,g=z.M(r,e).Q_VH(t,a).Q_HV(n,e).Q_VH(t,h).Q_HV(r,e).pathShape.cssPath,X=`${t}px ${e}px`;i??="0deg";const $=`rotate(${i})`;return{d:g,transformOrigin:X,transform:$}}function Q(t){I.innerHTML="",t.forEach(e=>{const s=document.createElementNS("http://www.w3.org/2000/svg","path"),{d:o,transformOrigin:i,transform:r}=y(e);s.style.d=o,s.style.transformOrigin=i,s.style.transform=r,I.appendChild(s)})}x.showSpotlights=Q;function mt(t){Q(N[t].shapes)}x.ssl=mt;{const s=.0124943046625829,o=function*(){for(let r=15;r<=22;r+=.25)yield r},i=Array.from(o(),r=>{const n=10**r,a=n+1234-n,h=n+98765-n,d=a/h,g=(d-s)/s;return{digits:r,adjustedNumerator:a,adjustedDenominator:h,adjustedValue:d,error:g}});console.table(i)}
