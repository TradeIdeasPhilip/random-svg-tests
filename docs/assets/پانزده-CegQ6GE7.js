import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as g}from"./client-misc-B8CxQsfg.js";/* empty css              */import{m as l}from"./misc-BHUyxQfl.js";import{Q as f,P as p}from"./path-shape-6jRnKkU7.js";import{d as I,b as T}from"./utility-DH3fWvUB.js";const L=1920,S=1080,B=g.getById("main",SVGSVGElement),h=g.getById("legend",SVGTextElement);function P(){const o=h.getComputedTextLength(),t=["Gold","Gold = goal. ","Gold = goal.  Blue"].map(e=>{const c=h.getSubStringLength(0,e.length),s=h.getSubStringLength(e.length,1);return(c+s/2)/o}),n=g.selectorQueryAll("#legendGradient stop",SVGStopElement,(t.length+1)*2,(t.length+1)*2);t.forEach((e,c)=>{const s=n.slice(c*2+1,c*2+3);if(s.length!=2)throw new Error("wtf");s.forEach(r=>{r.offset.baseVal=e})})}P();const N=new ResizeObserver(o=>{console.log(o),o.forEach(t=>{P()})});N.observe(h);const F={x:L/2,y:S/2,zoom:275,cssPath:""};function A(o){const t={...F,...o},n=document.createElementNS("http://www.w3.org/2000/svg","g");n.classList.add("compare");const e=`translate(${t.x}px,${t.y}px) scale(${t.zoom})`;n.style.transform=e;const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.r.baseVal.value=1;const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.style.d=t.cssPath;const r=document.createElementNS("http://www.w3.org/2000/svg","text");return n.append(c,s,r),B.appendChild(n),{topG:n,circle:c,path:s,text:r}}function b(o){const t=-l.FULL_CIRCLE/4,n=t+l.FULL_CIRCLE,e=l.makeLinear(0,t,o,n);return l.initializedArray(o,s=>{const r=e(s),i=Math.cos(r),a=Math.sin(r),d=r+l.FULL_CIRCLE/4;return{x:i,y:a,tangentAngle:d}})}class u{constructor(t){this.compareElement=t}static#e=l.makeBoundedLinear(.2,0,1,1);setCount(t,n){const e=this.compareElement.text;e.textContent=t.toString(),n=u.#e(n),e.style.opacity=n.toString()}#t;setD(t,n){this.#t?.cancel();const c=this.compareElement.path.animate([{d:t.start.cssPath},{d:t.end.cssPath}],{duration:1,fill:"both"});c.pause(),c.currentTime=n,this.#t=c}hideCircle(t){const n=`xywh(0% ${t*100}% 100% 100%)`;this.compareElement.circle.style.clipPath=n}}const x=new u(A({x:L/4,y:S/2})),C=new u(A({x:L*3/4,y:S/2})),w=[...l.count(3,13)],V=-.5,D=0,k=I(V,w.length,D),R=w.map(o=>b(o).map((e,c,s)=>{const r=s[(c+1)%s.length];return f.angles(e.x,e.y,e.tangentAngle,r.x,r.y,r.tangentAngle)})),y=w.map(o=>b(o).map((e,c,s)=>{const r=s[(c+1)%s.length];return f.line2(e,r)})),[q]=[R].map(o=>o.map((t,n)=>{const e=o[n-1]??t,c=l.lcm(e.length,t.length),[s,r]=[e,t].map(i=>{const a=c/i.length,d=i.flatMap(m=>m.multiSplit(a));return new p(d)});return{start:s,end:r}})),H=y.map((o,t)=>{const n=new p(o),e=y[t-1];if(e){if(e.length!=o.length-1)throw new Error("wtf");{const c=e.length,s=[...e];if(c%2==0){const a=c/2,d=s[a-1],{x:m,y:E}=d,M=f.controlPoints(m,E,m,E,m,E);s.splice(a,0,M)}else{const a=(c-1)/2,m=s[a].split(.5);s.splice(a,1,...m)}const r=new p(s),i=new p(o);if(r.commands.length!=i.commands.length)throw new Error("wtf");return{start:r,end:i}}}else return{start:n,end:n}}),_=l.makeBoundedLinear(0,0,.5,1);function v(o){T(o);const t=k(o),n=w[t.index],e=_(t.t);x.setCount(n,e),x.setD(q[t.index],e),C.setCount(n,e),C.setD(H[t.index],e)}function z(o){return document.querySelectorAll("[data-hideBeforeScreenshot]").forEach(t=>{if(!(t instanceof SVGElement||t instanceof HTMLElement))throw new Error("wtf");t.style.display="none"}),{source:"tangent-line-2.ts",devicePixelRatio,script:o}}const G=window;G.initScreenCapture=z;G.showFrame=v;{const o=g.getById("time",HTMLInputElement),t=()=>{const n=o.valueAsNumber;v(n)};o.addEventListener("input",t),t()}
