import{m as l}from"./misc-CLGTS8fC.js";var a={};Object.defineProperty(a,"__esModule",{value:!0});var u=a.AnimationLoop=void 0,w=a.getById=m;a.loadDateTimeLocal=d;a.getBlobFromCanvas=h;a.getAudioBalanceControl=f;a.getHashInfo=p;a.createElementFromHTML=v;a.download=E;const r=l;function m(n,e){const t=document.getElementById(n);if(!t)throw new Error("Could not find element with id "+n+".  Expected type:  "+e.name);if(t instanceof e)return t;throw new Error("Element with id "+n+" has type "+t.constructor.name+".  Expected type:  "+e.name)}function d(n,e,t="milliseconds"){let o;switch(t){case"minutes":{o=e.getSeconds()*1e3+e.getMilliseconds();break}case"seconds":{o=e.getMilliseconds();break}case"milliseconds":{o=0;break}default:throw new Error("wtf")}n.valueAsNumber=+e-e.getTimezoneOffset()*6e4-o}function h(n){const{reject:e,resolve:t,promise:o}=(0,r.makePromise)();return n.toBlob(c=>{c?t(c):e(new Error("blob is null!"))}),o}function f(n){const e=new AudioContext,t=e.createMediaElementSource(n),o=new StereoPannerNode(e,{pan:0});return t.connect(o).connect(e.destination),c=>{o.pan.value=c}}function p(){const n=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(o=>{const c=o.split("=",2);if(c.length==2){const s=decodeURIComponent(c[0]),i=decodeURIComponent(c[1]);n.set(s,i)}}),n}function v(n,e){var t=document.createElement("div");return t.innerHTML=n.trim(),(0,r.assertClass)(t.firstChild,e,"createElementFromHTML:")}function E(n,e){var t=document.createElement("a");if(t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",n),document.createEvent){var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),t.dispatchEvent(o)}else t.click()}class g{onWake;constructor(e){this.onWake=e,this.callback=this.callback.bind(this),requestAnimationFrame(this.callback)}#e=!1;cancel(){this.#e=!0}callback(e){this.#e||(requestAnimationFrame(this.callback),this.onWake(e))}}u=a.AnimationLoop=g;export{u as A,w as g};
