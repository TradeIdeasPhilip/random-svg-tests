import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as x}from"./client-misc-1LRynplM.js";/* empty css              */import{m as a}from"./misc-CLGTS8fC.js";import{Q as f,P as p}from"./path-shape-Daut0qjt.js";import{s as v,d as I,l as F,m as N,a as W}from"./utility-CiDAvosU.js";const E=1920,P=1080,B=x("main",SVGSVGElement);{const o=x("legend",SVGTextElement),t=o.getComputedTextLength(),e=["Gold","Gold = goal. ","Gold = goal.  Blue"].map(r=>{const s=o.getSubStringLength(0,r.length),c=o.getSubStringLength(r.length,1);return(s+c/2)/t}),n=v("#legendGradient stop",SVGStopElement,(e.length+1)*2,(e.length+1)*2);e.forEach((r,s)=>{const c=n.slice(s*2+1,s*2+3);if(c.length!=2)throw new Error("wtf");c.forEach(i=>{i.offset.baseVal=r})})}const D={x:E/2,y:P/2,zoom:275,cssPath:""};function A(o){const t={...D,...o},e=document.createElementNS("http://www.w3.org/2000/svg","g");e.classList.add("compare");const n=`translate(${t.x}px,${t.y}px) scale(${t.zoom})`;e.style.transform=n;const r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.r.baseVal.value=1;const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.style.d=t.cssPath;const c=document.createElementNS("http://www.w3.org/2000/svg","text");return e.append(r,s,c),B.appendChild(e),{topG:e,circle:r,path:s,text:c}}function M(o){const t=-a.FULL_CIRCLE/4,e=t+a.FULL_CIRCLE,n=a.makeLinear(0,t,o,e);return a.initializedArray(o,s=>{const c=n(s),i=Math.cos(c),l=Math.sin(c),d=c+a.FULL_CIRCLE/4;return{x:i,y:l,tangentAngle:d}})}class g{constructor(t){this.compareElement=t}static#e=a.makeBoundedLinear(.2,0,1,1);setCount(t,e){const n=this.compareElement.text;n.textContent=t.toString(),e=g.#e(e),n.style.opacity=e.toString()}#t;setD(t,e){this.#t?.cancel();const r=this.compareElement.path.animate([{d:t.start.cssPath},{d:t.end.cssPath}],{duration:1,fill:"both"});r.pause(),r.currentTime=e,this.#t=r}setCircleStrokeWidth(t){this.compareElement.circle.style.strokeWidth=t.toString()}}const S=new g(A({x:E/4,y:P/2})),L=new g(A({x:E*3/4,y:P/2})),u=[...a.count(3,13)],k=-.5,V=0,R=I(k,u.length,V),_=u.map(o=>M(o).map((n,r,s)=>{const c=s[(r+1)%s.length];return f.angles(n.x,n.y,n.tangentAngle,c.x,c.y,c.tangentAngle)})),y=u.map(o=>M(o).map((n,r,s)=>{const c=s[(r+1)%s.length];return f.line2(n,c)})),[q]=[_].map(o=>o.map((t,e)=>{const n=o[e-1]??t,r=F(n.length,t.length),[s,c]=[n,t].map(i=>{const l=r/i.length,d=i.flatMap(m=>m.multiSplit(l));return new p(d)});return{start:s,end:c}})),H=y.map((o,t)=>{const e=new p(o),n=y[t-1];if(n){if(n.length!=o.length-1)throw new Error("wtf");{const r=n.length,s=[...n];if(r%2==0){const l=r/2,d=s[l-1],{x:m,y:w}=d,b=f.controlPoints(m,w,m,w,m,w);s.splice(l,0,b)}else{const l=(r-1)/2,m=s[l].split(.5);s.splice(l,1,...m)}const c=new p(s),i=new p(o);if(c.commands.length!=i.commands.length)throw new Error("wtf");return{start:c,end:i}}}else return{start:e,end:e}}),U=a.makeBoundedLinear(0,0,-k,1),z=a.makeBoundedLinear(-k,0,1,1),h=.05,C=3*h,Q=N(2,1,2,1,2),$=[()=>h,a.makeLinear(0,h,1,C),()=>C,a.makeLinear(0,C,1,h),()=>h];function G(o){W(o);const t=R(o),e=u[t.index],n=U(t.t);S.setCount(e,n),S.setD(q[t.index],n),L.setCount(e,n),L.setD(H[t.index],n);const r=z(t.t),s=Q(r),c=$[s.index](s.t);S.setCircleStrokeWidth(c),L.setCircleStrokeWidth(c)}function j(o){return{source:"tangent-line-2.ts",devicePixelRatio,script:o}}const T=window;T.initScreenCapture=j;T.showFrame=G;{const o=x("time",HTMLInputElement),t=()=>{const e=o.valueAsNumber;G(e)};o.addEventListener("input",t),t()}
