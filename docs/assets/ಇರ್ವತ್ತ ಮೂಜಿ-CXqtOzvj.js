import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as E}from"./client-misc-ZHNZ3-cL.js";import{b as f,c as Y,s as ee,g as te,t as L,h as ae}from"./fourier-shared-GIP1qG5r.js";import{p as ie,P as G}from"./path-shape-n6EbRjvk.js";import{m}from"./misc-wGF4FraP.js";import{d as u,g as ne}from"./utility-D2jUDy1w.js";const I=E.getById("scaled",SVGGElement),U=E.getById("reference",SVGPathElement),se=E.getById("samples",SVGPathElement);function _(s,d){if(s>=d)throw new Error("wtf");const F=m.makeLinear(s,0,d,1);function P(S){if(S<=s)return 0;if(S>=d)return 1;const r=F(S);return ne(r)}return P}function re(s){U.setAttribute("d",s.pathString);const d=ie(U.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),F=d.a;I.style.transform=d.toString(),I.style.setProperty("--path-scale",F.toString());const P=Y(s.pathString,s.numberOfFourierSamples);let S="";P.forEach(([e,t])=>{S+=`M${e},${t}l0,0`}),se.setAttribute("d",S);const r=ee(P),b=te({addTime:5e3,pauseTime:200,maxGroupsToDisplay:s.maxGroupsToDisplay,terms:r}),z=e=>8*Math.max(...r.slice(0,e).map(a=>a.frequency))+7,x=u('[data-live="back"][data-which="to"]',SVGPathElement),M=u('[data-live="back"][data-which="from"]',SVGPathElement),C=u('[data-live="front"][data-which="to"]',SVGPathElement),D=u('[data-live="front"][data-which="from"]',SVGPathElement),Q=b.map(e=>{if(e.addingCircles==0){const t=L(r,e.usingCircles),a=z(e.usingCircles),n=G.parametric(t,a).cssPath;return()=>{x.style.opacity="",x.style.d=n,C.style.opacity="",C.style.d=n,D.style.d="",M.style.d=""}}else if(e.usingCircles==0&&e.addingCircles==1&&r[0].frequency==0){let t=function(p){return`${g.x*p},${g.y*p}`};const{startTime:a,endTime:c}=e,n=c-a,o=_(a,a+n/2),l=_(a,c),g=ae(r[0]);return p=>{const T=l(p),i=t(T),h=o(p),w=t(h),y=G.cssifyPath(`M ${i} L ${w}`);x.style.opacity="",x.style.d=y,C.style.opacity="",C.style.d=y,D.style.d="",M.style.d=""}}else{const t=[],a=Math.max(...r.slice(0,e.usingCircles+e.addingCircles).map(i=>i.frequency));if(Math.max(...r.slice(0,e.usingCircles).map(i=>i.frequency))>a)throw new Error("wtf");const n=a,o=.1/Math.sqrt(n),l=m.makeLinear(-o,e.startTime,1+o,e.endTime),g=l(0),p=l(1),T=m.makeLinear(e.startTime,-o,e.endTime,1+o);return t.push({element:x,maxFrequency:a,parametricFunction:L(r,e.addingCircles+e.usingCircles),outsideTimeToFinalT:i=>Math.max(0,T(i)-o),outsideTimeToInitialT:()=>0,outsideTimeToOpacity:m.makeBoundedLinear(e.startTime,0,g,1)}),t.push({element:M,maxFrequency:n,parametricFunction:L(r,e.usingCircles),outsideTimeToFinalT:()=>1,outsideTimeToInitialT:i=>Math.min(1,T(i)),outsideTimeToOpacity:m.makeBoundedLinear(p,1,e.endTime,0)}),t.push({...t[0],element:C,outsideTimeToFinalT:i=>Math.max(0,T(i))}),t.push({...t[1],element:D,outsideTimeToInitialT:i=>Math.min(1,T(i)+m.radiansPerDegree)}),i=>{t.forEach(h=>{const w=h.element.style,y=h.outsideTimeToInitialT(i),R=h.outsideTimeToFinalT(i),O=R-y;let k;if(O<0)throw new Error("wtf");if(O==0){const A=h.parametricFunction(y);k=`M${A.x},${A.y} l0,0`}else{const A=Math.ceil(8*h.maxFrequency*O),K=m.makeLinear(0,y,1,R),W=X=>h.parametricFunction(K(X));k=G.parametric(W,A).rawPath}w.opacity=h.outsideTimeToOpacity(i).toString(),w.d=G.cssifyPath(k)})}}}),Z=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,v=e=>{e<0&&(e=0);let t=Z(e);const[,a,c]=/^([0-9]+)\.([0-9]+)$/.exec(t);switch(a.length){case 3:break;case 2:{t=m.FIGURE_SPACE+t;break}case 1:{t=m.FIGURE_SPACE+m.FIGURE_SPACE+t;break}default:throw console.warn({beforeDecimalPoint:a,afterDecimalPoint:c,result:t}),new Error("wtf")}return t+"%"},j=b.map(e=>({usingAmplitude:v(e.usingAmplitude),addingAmplitude:v(e.addingAmplitude),availableAmplitude:v(e.availableAmplitude)})),q=u("[data-using] [data-circles]",HTMLTableCellElement),$=u("[data-using] [data-amplitude]",HTMLTableCellElement),B=u("[data-adding] [data-circles]",HTMLTableCellElement),H=u("[data-adding] [data-amplitude]",HTMLTableCellElement),V=u("[data-available] [data-circles]",HTMLTableCellElement),N=u("[data-available] [data-amplitude]",HTMLTableCellElement);function J(e){function t(){const l=b.findIndex(({endTime:g})=>e<g);return l==-1?b.length-1:l}const a=t(),c=l=>`${l.toString().padStart(4,m.FIGURE_SPACE)}`,n=b[a];q.innerText=c(n.usingCircles),B.innerText=c(n.addingCircles),V.innerText=c(n.availableCircles),[{value:n.usingCircles,element1:q,element2:$},{value:n.addingCircles,element1:B,element2:H},{value:n.availableCircles,element1:V,element2:N}].forEach(({value:l,element1:g,element2:p})=>{const T=l==0?"0.5":"";g.style.opacity=T,p.style.opacity=T});const o=j[a];$.innerText=o.usingAmplitude,H.innerText=o.addingAmplitude,N.innerText=o.availableAmplitude,Q[a](e)}window.showFrame=J}const oe=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,numberOfFourierSamples:1024,pathString:f.likeShareAndSubscribe,minGoodCircles:10}],["hilbert0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:f.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:f.hilbert[1],minGoodCircles:13}],["hilbert4",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:f.hilbert[4]}],["p0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:f.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:f.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:f.peanocurve[2]}],["square",{maxGroupsToDisplay:7,numberOfFourierSamples:1024,pathString:"M-0.5,-0.667 h 1 v 1 h -1 z"}],["ellipse",{maxGroupsToDisplay:7,numberOfFourierSamples:1024,pathString:"M1,0 A1,1.25 0 1 1 -1,0 A1,1.25 0 1 1 1,0 z"}]]);re(oe.get("likeShareAndSubscribe"));setTimeout(()=>{let s=NaN;window.animationLoop=new E.AnimationLoop(d=>{isNaN(s)&&(s=d);const F=d-s;window.showFrame(F)})},1);
