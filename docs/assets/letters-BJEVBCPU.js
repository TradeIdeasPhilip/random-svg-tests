import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as P,g as dt,i as lt,m as pt,s as at}from"./client-misc-DyzYuCZn.js";/* empty css              */import{b as K,l as X}from"./utility-BJJSsp0G.js";import{a as ut}from"./rough.esm-C_8OcXYf.js";class r{constructor(l,e,L,h){this.segmentStartX=l,this.segmentStartY=e,this.endX=L,this.endY=h,K(l,e,L,h)}get rawPath(){return[...this].map(l=>l.asString).join(" ")}static fromStrings(l){let e=l.join(" ");const L=[];let h;for(;e=e.replace(/^ */,""),e!="";){let a=mt.exec(e);if(a){const f=P(a[1]),d=P(a[2]);if(f===void 0||d===void 0)throw console.error(a,f,d,this),new Error("wtf");h&&L.push(h),h=this.M(f,d),e=a[3];continue}if(h){if(a=gt.exec(e),a){const f=P(a[1]),d=P(a[2]),w=P(a[3]),o=P(a[4]);if(f===void 0||d===void 0||w===void 0||o===void 0)throw console.error(a,f,d,w,o,this),new Error("wtf");h=h.Q(f,d,w,o),e=a[5];continue}if(a=wt.exec(e),a){const f=P(a[1]),d=P(a[2]),w=P(a[3]),o=P(a[4]),C=P(a[5]),b=P(a[6]);if(f===void 0||d===void 0||w===void 0||o===void 0||C===void 0||b===void 0)throw console.error(a,f,d,w,o,C,b,this),new Error("wtf");h=h.C(f,d,w,o,C,b),e=a[7];continue}}throw console.error(e),new Error("wtf")}return h&&L.push(h),L}static M(l,e){return new Z(l,e)}H(l){return new J(this,l)}V(l){return new tt(this,l)}L(l,e){return new et(this,l,e)}Q(l,e,L,h){return new nt(this,l,e,L,h)}Q_HV(l,e){return this.Q(l,this.endY,l,e)}Q_VH(l,e){return this.Q(this.endX,e,l,e)}C(l,e,L,h,a,f){return new B(this,l,e,L,h,a,f)}}class Z extends r{*[Symbol.iterator](){yield this}translate(l,e){return new Z(this.endX+l,this.endY+e)}toCubic(){return this}asString;constructor(l,e){super(l,e,l,e),this.asString=`M ${l},${e}`}}class U extends r{constructor(l,e,L){super(l.segmentStartX,l.segmentStartY,e,L),this.previous=l}*[Symbol.iterator](){yield*this.previous,yield this}get commandStartX(){return this.previous.endX}get commandStartY(){return this.previous.endY}}class J extends U{translate(l,e){return new J(this.previous.translate(l,e),this.endX+l)}toCubic(){return new B(this.previous.toCubic(),X(this.commandStartX,this.endX,1/3),this.commandStartY,X(this.commandStartX,this.endX,2/3),this.commandStartY,this.endX,this.commandStartY)}asString;constructor(l,e){super(l,e,l.endY),this.asString=`H ${e}`}}class tt extends U{translate(l,e){return new tt(this.previous.translate(l,e),this.endY+e)}toCubic(){return new B(this.previous.toCubic(),this.commandStartX,X(this.commandStartY,this.endY,1/3),this.commandStartX,X(this.commandStartY,this.endY,2/3),this.commandStartX,this.endY)}asString;constructor(l,e){super(l,l.endX,e),this.asString=`V ${e}`}}class et extends U{translate(l,e){return new et(this.previous.translate(l,e),this.endX+l,this.endY+e)}toCubic(){return new B(this.previous.toCubic(),X(this.commandStartX,this.endX,1/3),X(this.commandStartY,this.endY,1/3),X(this.commandStartX,this.endX,2/3),X(this.commandStartY,this.endY,2/3),this.endX,this.endY)}asString;constructor(l,e,L){super(l,e,L),this.asString=`L ${e},${L}`}}class nt extends U{constructor(l,e,L,h,a){K(e,L),super(l,h,a),this.x1=e,this.y1=L,this.asString=`Q ${e},${L} ${h},${a}`}translate(l,e){return new nt(this.previous.translate(l,e),this.x1+l,this.y1+e,this.endX+l,this.endY+e)}toCubic(){return new B(this.previous.toCubic(),X(this.commandStartX,this.x1,2/3),X(this.commandStartY,this.y1,2/3),X(this.endX,this.x1,2/3),X(this.endY,this.y1,2/3),this.endX,this.endY)}asString}class B extends U{constructor(l,e,L,h,a,f,d){K(e,h,L,a),super(l,f,d),this.x1=e,this.y1=L,this.x2=h,this.y2=a,this.x3=f,this.y3=d,this.asString=`C ${e},${L} ${h},${a} ${f},${d}`}translate(l,e){return new B(this.previous.translate(l,e),this.x1+l,this.y1+e,this.x2+l,this.y2+e,this.x3+l,this.y3+e)}toCubic(){const l=this.previous.toCubic();return l==this.previous?this:new B(l,this.x1,this.y1,this.x2,this.y2,this.x3,this.y3)}asString}const st=" *",W="(-?[0-9]+.?[0-9]*)",A=" *[, ] *",mt=new RegExp(`^M${st}${W}${A}${W}(.*)$`),gt=new RegExp(`^Q${st}${W}${A}${W}${A}${W}${A}${W}(.*)$`),wt=new RegExp(`^C${st}${W}${A}${W}${A}${W}${A}${W}${A}${W}${A}${W}(.*)$`);class m{matchForMorph(l){}segments;get endX(){return this.segments.at(-1)?.endX}get endY(){return this.segments.at(-1)?.endY}get startX(){return this.segments.at(0)?.segmentStartX}get startY(){return this.segments.at(0)?.segmentStartY}static fromStrings(l){const e=r.fromStrings(l);return new this(e)}constructor(l){this.segments=[...l]}static cssifyPath(l){return`path('${l}')`}get cssPath(){return m.cssifyPath(this.rawPath)}makeElement(){const l=document.createElementNS("http://www.w3.org/2000/svg","path"),e=this.cssPath;if(l.style.d=e,l.style.d=="")throw console.error(e,l),new Error("wtf");return l}get rawPath(){return this.segments.map(l=>l.rawPath).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){return[...this.segments].map(l=>new m([l]))}static join(l){return new m(l.flatMap(({Δx:e,Δy:L,shape:h})=>h.translate(e,L).segments))}convertToCubics(){return new m(this.segments.map(l=>l.toCubic()))}translate(l,e){return new m(this.segments.map(L=>L.translate(l,e)))}}class ct{constructor(l,e=l/10){if(this.fontSize=l,this.strokeWidth=e,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class ot{constructor(l,e,L){this.advance=e,this.fontMetrics=L,l instanceof m?this.#t=()=>l:this.#t=l}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:l.makeElement()}))}}function N(y){const l=new Map;typeof y=="number"&&(y=new ct(y));const e=(t,s,n)=>{const i=new ot(s,n,y);if(l.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...l].at(-1)[0]}"`);l.set(t,i)},{aWidth:L,digitWidth:h,capitalTop:a,capitalTopMiddle:f,capitalMiddle:d,capitalBottomMiddle:w,baseline:o,descender:C,strokeWidth:b}=y,c=0;{const t=h,n=t/2,i=t;{const p=(C-o)*2,Q=C,x=Q-p,S=a-p/4,M=S+p;if(p<=0||Q<=x||x<=M||M<=S)throw new Error("wtf");const u=h*.5;{const g=new m([r.M(u,S).Q_HV(0,M).V(x).Q_VH(u,Q)]);e("(",g,u)}{const g=h*.5,H=new m([r.M(0,S).Q_HV(g,M).V(x).Q_VH(0,Q)]);e(")",H,g)}{const g=new m([r.M(u,S).H(0).V(Q).H(u)]);e("[",g,u)}{const g=new m([r.M(0,S).H(u).V(Q).H(0)]);e("]",g,u)}}{const p=h*.75,Q=p/2,x=new m([r.M(Q,d-Q).V(d+Q),r.M(c,d).H(p)]);e("+",x,p)}{const p=h*.75,Q=new m([r.M(c,d).H(p)]);e("-",Q,p)}{const p=h*.75,Q=new m([r.M(c,d-b*1.25).H(p),r.M(c,d+b*1.25).H(p)]);e("=",Q,p)}{const p=h*1.25,Q=o+b,x=new m([r.M(0,Q).H(p)]);e("_",x,p)}{const p=h/2,Q=3*p,x=p/3,S=a,M=S+p,u=M+p,g=u+p,H=new m([r.M(p+x,S).L(p-x,g),r.M(2*p+x,S).L(2*p-x,g),r.M(0,M).H(Q),r.M(0,u).H(Q)]);e("#",H,Q)}{const p=h/2,Q=3*p,x=0,S=p,M=Q/2,u=2*p,g=Q,H=a+(y.mHeight-Q)/2,V=H+S,v=H+M,_=H+u,$=H+g,E=new m([r.M(u,v).Q_VH(M,V).Q_HV(S,v).Q_VH(M,_).Q_HV(u,v).Q_VH((u+g)/2,_).Q_HV(g,v).V((V+v)/2).Q_VH(M,H).Q_HV(x,v).Q_VH(M,$).H((u+g)/2)]);e("@",E,Q)}{const p=new m([r.M(n,a).Q(i,a,i,f).L(i,w).Q(i,o,n,o).Q(c,o,c,w).L(c,f).Q(c,a,n,a),r.M(i,f).L(c,w)]);e("0",p,t)}{const p=new m([r.M(c,f).Q(n,f,n,a).L(n,o),r.M(c,o).L(i,o)]);e("1",p,t)}{const p=new m([r.M(c,f).Q_VH(n,a).Q_HV(i,f).Q_VH(n,d).Q_HV(c,o).L(i,o)]);e("2",p,t)}{const p=new m([r.M(c,f).Q_VH(n,a).Q_HV(i,f).Q_VH(n,d).Q_HV(i,w).Q_VH(n,o).Q_HV(c,w)]);e("3",p,t)}{const p=(n+i)/2,Q=(n+c)/2,x=new m([r.M(i,d).L(c,d).L(Q,a),r.M(p,a).L(p,o)]);e("4",x,t)}{const p=c+h/5,Q=i-h/5,x=(d+w)/2,S=new m([r.M(Q,a).L(p,a).L(c,d).Q_VH(n,f).Q_HV(i,x).Q_VH(n,o).Q_HV(c,w)]);e("5",S,t)}{const p=new m([r.M(i,a).Q_HV(c,w).Q_VH(n,o).Q_HV(i,w).Q_VH(n,d).Q_HV(c,w)]);e("6",p,t)}{const p=new m([r.M(c,a).L(i,a).L(c,o)]);e("7",p,t)}{const p=new m([r.M(n,a).Q(i,a,i,f).Q(i,d,n,d).Q(c,d,c,w).Q(c,o,n,o).Q(i,o,i,w).Q(i,d,n,d).Q(c,d,c,f).Q(c,a,n,a)]);e("8",p,t)}{const p=new m([r.M(i,f).Q(i,a,n,a).Q(c,a,c,f).Q(c,d,n,d).Q(i,d,i,f).Q(i,o,c,o)]);e("9",p,t)}}{const t=new m([r.M(c,o).L(L/2,a).L(y.aWidth,o),r.M(y.aWidth/4,d).L(y.aWidth*.75,d)]);e("A",t,L)}{const t=h,s=f-a;if(s<=0)throw new Error("wtf");const n=(t-s)*(2/3),i=o-w;if(i<=0)throw new Error("wtf");const p=t-i,Q=new m([r.M(c,a).L(c,o).L(p,o),r.M(Math.max(p,n),d).L(c,d),r.M(c,a).L(n,a).Q(n+s,a,n+s,a+s).Q(n+s,d,n,d),r.M(p,d).Q(p+i,d,p+i,o-i).Q(p+i,o,p,o)]);e("B",Q,t)}{const t=h,n=t/2,i=t,p=new m([r.M(i,f).Q(i,a,n,a).Q(c,a,c,f).L(c,w).Q(c,o,n,o).Q(i,o,i,w)]);e("C",p,t)}{const t=h,n=t/2,i=t,p=new m([r.M(c,a).L(c,o).L(n,o).Q(i,o,i,w).L(i,f).Q(i,a,n,a).L(c,a)]);e("D",p,t)}{const t=h,s=t*(2/3),n=t,i=new m([r.M(n,a).L(c,a).L(c,o).L(n,o),r.M(s,d).L(c,d)]);e("E",i,t)}{const t=h,s=t*(2/3),n=t,i=new m([r.M(n,a).L(c,a).L(c,o),r.M(s,d).L(c,d)]);e("F",i,t)}{const t=h,n=t/2,i=t,p=new m([r.M(i,f).Q(i,a,n,a).Q(c,a,c,f).L(c,w).Q(c,o,n,o).Q(i,o,i,w).L(i,d).L(n,d)]);e("G",p,t)}{const t=h,s=t,n=new m([r.M(c,a).L(c,o),r.M(s,a).L(s,o),r.M(c,d).L(s,d)]);e("H",n,t)}{const t=y.mHeight/3,s=t/2,n=t,i=new m([r.M(c,a).L(n,a),r.M(c,o).L(n,o),r.M(s,a).L(s,o)]);e("I",i,t)}{const t=h*.85,n=t/2,i=t,p=new m([r.M(i,a).L(i,w).Q(i,o,n,o).Q(c,o,c,w)]);e("J",p,t)}{const t=h+b,s=(a+o)/2,n=new m([r.M(c,a).L(c,o),r.M(t,a).L(c+.5,s).L(t,o)]);e("K",n,t)}{const t=h,s=new m([r.M(c,a).L(c,o).L(t,o)]);e("L",s,t)}{const t=h*1.5,s=t/2,n=new m([r.M(c,o).L(c,a).L(s,d).L(t,a).L(t,o)]);e("M",n,t)}{const t=h*1.2,s=new m([r.M(c,o).L(c,a).L(t,o).L(t,a)]);e("N",s,t)}{const t=h*1.5,s=t/2,n=(a+o)/2,i=new m([r.M(s,a).Q_HV(t,n).Q_VH(s,o).Q_HV(c,n).Q_VH(s,a)]);e("O",i,t)}{const t=h,s=d-f;if(s<=0)throw new Error("wtf");const n=t-s,i=new m([r.M(c,a).L(c,o),r.M(c,a).L(n,a).Q_HV(t,f).Q_VH(n,d).L(c,d)]);e("P",i,t)}{const t=h*1.5,s=t/2,n=(a+o)/2,i=new m([r.M(s,a).Q_HV(t,n).Q_VH(s,o).Q_HV(c,n).Q_VH(s,a),r.M(t-s*.75,o-s*.75).L(t+s/6,o+s/6)]);e("Q",i,t)}{const t=h,s=d-f;if(s<=0)throw new Error("wtf");const n=t-s,i=new m([r.M(c,a).L(c,o),r.M(c,a).L(n,a).Q_HV(t,f).Q_VH(n,d).L(c,d),r.M(n,d).L(t,o)]);e("R",i,t)}{const t=h,s=h/2,n=h,i=new m([r.M(n,f).Q_VH(s,a).Q_HV(c,f).Q_VH(s,d).Q_HV(n,w).Q_VH(s,o).Q_HV(c,w)]);e("S",i,t)}{const s=h+b,n=s/2,i=s,p=y.mHeight/8,Q=new m([r.M(i,f).Q_VH(n,a).Q_HV(c,f).Q_VH(n,d).Q_HV(i,w).Q_VH(n,o).Q_HV(c,w),r.M(n,a-p).V(o+p)]);e("$",Q,s)}{const t=h,s=t/2,n=new m([r.M(s,a).L(s,o),r.M(t,a).L(c,a)]);e("T",n,t)}{const t=(w+d)/2,s=Math.abs(t-o)*.85,n=s*2,i=new m([r.M(c,a).V(t).Q_VH(s,o).Q_HV(n,t).V(a)]);e("U",i,n)}{const t=L,s=t/2,n=new m([r.M(c,a).L(s,o).L(t,a)]);e("V",n,t)}{const t=L*1.5,s=t/3,n=t/2,i=s*2,p=new m([r.M(c,a).L(s,o).L(n,d).L(i,o).L(t,a)]);e("W",p,t)}{const t=h,s=new m([r.M(t,a).L(c,o),r.M(c,a).L(t,o)]);e("X",s,t)}{const t=b,s=h+t,n=new m([r.M(s,a).L(t,o),r.M(c,a).L(s/2,d)]);e("Y",n,s)}{const t=h,s=new m([r.M(c,a).H(t).L(c,o).H(t)]);e("Z",s,t)}{const t=h/4,s=h*1.2,n=r.M(t*2,a+t).Q_VH(t,a).Q_HV(0,a+t).Q_VH(t,a+t*2).Q_HV(t*2,a+t),i=n.translate(s-t*2,y.mHeight-t*2),p=new m([n,r.M(s,a).L(c,o),i]);e("%",p,s)}{const t=h,s=new m([r.M(t,a).L(c,o)]);e("/",s,t)}{const t=h,s=new m([r.M(c,a).L(t,o)]);e("\\",s,t)}{const t=h,s=b/2,n=t+s,i=t/2,p=new m([r.M(i,d).Q_HV(c,w).Q_VH(i,o).Q_HV(t,w).Q_VH(i,d),r.M(n,d).L(n,o)]);e("a",p,n)}{const t=h,s=b/2,n=t+s,i=s,p=s+t/2,Q=n,x=new m([r.M(c,a).V(o),r.M(i,w).Q_VH(p,o).Q_HV(Q,w).Q_VH(p,d).Q_HV(i,w)]);e("b",x,n)}{const t=h*.875,s=0,n=h/2,i=t,p=(d+w)/2,Q=(w+o)/2,x=new m([r.M(i,p).Q_VH(n,d).Q_HV(s,w).Q_VH(n,o).Q_HV(i,Q)]);e("c",x,t)}{const t=h,s=b/2,n=t+s,i=t/2,p=new m([r.M(i,d).Q_HV(c,w).Q_VH(i,o).Q_HV(t,w).Q_VH(i,d),r.M(n,a).L(n,o)]);e("d",p,n)}const z=h/8;{const t=h,s=h/2,n=t,i=n-z,p=new m([r.M(c,w).H(n).Q_VH(s,d).Q_HV(c,w).Q_VH(s,o).H(i)]);e("e",p,t)}{const t=h*.75,s=t/2,n=t,i=new m([r.M(n,a).Q_HV(s,f).V(o),r.M(n,d).H(c)]);e("f",i,t)}{const t=h,s=b/2,n=t+s,i=t/2,p=new m([r.M(i,d).Q_HV(c,w).Q_VH(i,o).Q_HV(t,w).Q_VH(i,d),r.M(n,d).V(o).Q_VH(i,C).H(c+z)]);e("g",p,n)}{const t=h*.85,s=t/2,n=new m([r.M(c,a).V(o).Q_VH(s,d).Q_HV(t,w).V(o)]);e("h",n,t)}const T=b/4;{const s=new m([r.M(c,d).V(o),r.M(c,f).V(f-T)]);e("i",s,0)}{const t=Math.abs(o-C),s=t/2,n=new m([r.M(t,d).V(o).Q_VH(s,C).Q_HV(c,o),r.M(t,f).V(f-T)]);e("j",n,t)}{const s=new m([r.M(c,o).V(o-T)]);e(".",s,0)}{const s=new m([r.M(c,a).V(w),r.M(c,o).V(o-T)]);e("!",s,0)}{const s=(C-o)/2,n=s/2,i=new m([r.M(c,o-T).V(o).Q_VH(-n,o+s)]);e(",",i,0)}{const s=d,n=new m([r.M(c,o).V(o-T),r.M(c,s-T).V(s)]);e(":",n,0)}{const s=d,n=(C-o)/2,i=n/2,p=new m([r.M(c,o-T).V(o).Q_VH(-i,o+n),r.M(c,s-T).V(s)]);e(";",p,0)}{const t=y.xHeight*2/3,s=h/10,n=t+s,i=new m([r.M(c,a).V(o),r.M(t,d).L(c,d+t),r.M(t/2,o-t).L(n,o)]);e("k",i,n)}{const s=new m([r.M(c,a).V(o)]);e("l",s,0)}{const t=h*1.5,s=t/4,n=t/2,i=t*3/4,p=t,Q=new m([r.M(c,d).V(o).Q_VH(s,d).Q_HV(n,w).V(o),r.M(n,w).Q_VH(i,d).Q_HV(p,w).V(o)]);e("m",Q,t)}{const t=h*.85,s=t/2,n=new m([r.M(c,d).V(o).Q_VH(s,d).Q_HV(t,w).V(o)]);e("n",n,t)}{const t=h,s=0,n=t/2,i=t,p=new m([r.M(n,d).Q_HV(i,w).Q_VH(n,o).Q_HV(s,w).Q_VH(n,d)]);e("o",p,t)}{const t=h,s=b/2,n=t+s,i=s,p=s+t/2,Q=n,x=new m([r.M(c,d).V(C),r.M(i,w).Q_VH(p,d).Q_HV(Q,w).Q_VH(p,o).Q_HV(i,w)]);e("p",x,n)}{const t=h,s=t/2,n=t+b/2,i=Math.abs(o-C),p=n+i/2,Q=n+i,x=new m([r.M(s,d).Q_HV(c,w).Q_VH(s,o).Q_HV(t,w).Q_VH(s,d),r.M(n,d).V(o).Q_VH(p,C).Q_HV(Q,o)]);e("q",x,Q)}{const t=h,s=t/2,n=new m([r.M(c,d).V(o).Q_VH(s,d).Q_HV(t,w)]);e("r",n,t)}{const t=y.xHeight*2/3,s=t/2,n=o,i=w,p=d,Q=(n+i)/2,x=(i+p)/2,S=(x+p)/2,M=(n+Q)/2,u=new m([r.M(t,S).Q_VH(s,p).Q_HV(c,x).Q_VH(s,i).Q_HV(t,Q).Q_VH(s,n).Q_HV(c,M)]);e("s",u,t)}{const t=h*.75,s=t/2,n=t,i=new m([r.M(s,f).V(w).Q_VH(n,o),r.M(n,d).H(c)]);e("t",i,t)}{const t=h*.85,s=t/2,n=new m([r.M(c,d).V(w).Q_VH(s,o).Q_HV(t,d).L(t,o)]);e("u",n,t)}{const t=h,s=t/2,n=new m([r.M(c,d).L(s,o).L(t,d)]);e("v",n,t)}{const t=y.xHeight*1.5,s=t/3,n=t/2,i=s*2,p=new m([r.M(c,d).L(s,o).L(n,w).L(i,o).L(t,d)]);e("w",p,t)}{const t=h,s=new m([r.M(t,d).L(c,o),r.M(c,d).L(t,o)]);e("x",s,t)}{const t=h,s=t/2,n=(d+C)/2,i=new m([r.M(t,d).L(c,C),r.M(c,d).L(s,n)]);e("y",i,t)}{const t=h,s=new m([r.M(c,d).H(t).L(c,o).H(t)]);e("z",s,t)}return new Map([...l.entries()].sort(([t],[s])=>t<s?-1:t==s?1:0))}const j=dt("main",SVGSVGElement);function ft(y){const l=new Map;return y.forEach((e,L)=>{const{advance:h,fontMetrics:a}=e,f=e.shape.convertToCubics(),d=new ot(f,h,a);l.set(L,d)}),l}function Mt(y,l=y*.75){const e=N(y);return N(l).forEach((h,a)=>{const f=a.toLowerCase();f!=a&&e.set(f,h)}),e}function q(y,l){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},L=ut.generator({options:{...e,...l}}),h=new Map;return y.forEach((a,f)=>{const d=()=>{const o=L.path(a.d),b=L.toPaths(o).map(c=>c.d);return m.fromStrings(b)},w=new ot(d,a.advance,a.fontMetrics);h.set(f,w)}),h}{let y=function(M){return M.length==1},l=function(M){let g=1/0,H=-1/0;M.forEach($=>{const{description:E,baseline:k}=$,{fontMetrics:D}=E;g=Math.min(g,D.top+k),H=Math.max(H,D.bottom+k)});const V=g-1,v=H+1,_=document.createElementNS("http://www.w3.org/2000/svg","rect");return _.x.baseVal.value=0,_.y.baseVal.value=V,_.width.baseVal.value=100,_.height.baseVal.value=v-V,j.insertBefore(_,M[0].element),_};class e{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(u=1){this.baseline+=this.lineHeight*u}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=N(5);getDescription(u){return this.font.get(u)}static join(u){return new m(u.flatMap(g=>g.description.shape.translate(g.x,g.baseline).segments))}displayText(u){return u.map(g=>{const H=g.description.shape,V=H.makeElement();return j.appendChild(V),V.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...g,shape:H,element:V}})}static wordBreak=/^( +|[^ ]+)(.*)/;addText(u){const g=new Set,H=[];for(;;){const V=e.wordBreak.exec(u);if(!V)break;const v=V[1];if(u=V[2],v[0]==" ")this.addSpace(v.length);else{let _=0;const $=0,E=[...v].flatMap(k=>{const D=this.getDescription(k);if(D){const R=D.advance+D.fontMetrics.defaultKerning,F={x:_,width:R,baseline:$,description:D,char:k};return _+=R,F}else return g.add(k),[]});this.x+_>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),E.forEach(k=>{k.x+=this.x,k.baseline=this.baseline,H.push(k)}),this.x+=_}}return g.size>0&&console.warn(g),H}addSpace(u=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*u}}class L{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(u=1){this.baseline+=this.lineHeight*u}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=N(5);getDescription(u){return this.font.get(u)}makeRoom(u){this.x+u.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(u){this.x+=u.advance+u.fontMetrics.defaultKerning}moveToCursor(u){u.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(u,g){this.x+g>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),j.appendChild(u),u.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=g}show1(u){this.makeRoom(u);const g=u.makeElement();j.appendChild(g);const{x:H,baseline:V}=this;return this.moveToCursor(g),this.advance(u),{element:g,x:H,baseline:V}}splitAndShow1(u){this.makeRoom(u);const g=u.makeElements();return g.forEach(({element:H})=>{j.appendChild(H),this.moveToCursor(H)}),this.advance(u),g}show(u){const g=new Set,H=[...u].flatMap(V=>{const v=this.getDescription(V);return v?{...this.show1(v),description:v,char:V}:V==" "?(this.showSpace(),[]):(g.add(V),[])});return g.size>0&&console.warn(g),H}splitAndShow(u){const g=new Set,H=[...u].flatMap(V=>{const v=this.getDescription(V);return v?this.splitAndShow1(v):V==" "?(this.showSpace(),[]):(g.add(V),[])});return g.size>0&&console.warn(g),H}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const h=new L;let a="";h.font.forEach((M,u)=>{y(u)&&(a+=u)}),h.show(a),h.CRLF();{const M=h.show(a);M.forEach(({element:u})=>{u.classList.add("lights")}),l(M).style.fill="black"}h.CRLF();const f=h.splitAndShow(a),d=M=>{if(M==0)return 0;const u=f[M].innerShape,g=f[M-1].innerShape,H=Math.hypot(g.endX-u.startX,g.endY-u.startY);return K(H),H},{totalLength:w,maxLength:o}=f.reduce(({totalLength:M,maxLength:u},{element:g},H)=>{const V=g.getTotalLength();return K(V),M+=d(H)+V,u=Math.max(u,V),{totalLength:M,maxLength:u}},{totalLength:0,maxLength:0}),C=Math.ceil(o)+1,b=`0 ${C} ${C} 0`;async function c(){for(;;){let g=0,H;f.forEach(({element:V},v)=>{const _=V.getTotalLength();g+=d(v);const $=1e3+g/w*2e4;g+=_;const E=_/w*2e4;H=V.animate([{strokeDasharray:b,strokeDashoffset:1e-5},{strokeDasharray:b,strokeDashoffset:-_}],{delay:$,duration:E,fill:"backwards"})}),await H.finished,await at(3e3)}}c(),h.CRLF(),h.font=Mt(5,3),h.show("Small  Caps"),h.lineHeight*=1.125;const z=N(new ct(6,.5)),T=ft(z),t=[{roughness:.4,title:"Heartbeat"},{roughness:.44,title:"Toggle (snap)"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"Do the Wave"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(M=>{const{roughness:u,title:g}=M;return h.font=q(T,{roughness:u}),h.CRLF(),h.show(`${Math.round(u*100)} ${g??"Rough Font"} [4XxYyZ]`)}),s=t[0],n=t[1],i=t[2],p=t[3],Q=t[4],x=t[5],S=q(T,{roughness:0});l(Q).style.fill="black",Q.forEach(({element:M})=>{M.classList.add("lights")}),[Q,x].forEach(M=>{M.forEach(u=>{function g(){return Math.random()+.5|0}const H=3+g()+g()+g(),V=lt(H,()=>({d:u.description.cssPath}));V.push(V[0]);const v=H*1e4/3,_=v/8,$=Math.exp(X(Math.log(_),Math.log(v),Math.random()));u.element.animate(V,{duration:$,iterations:1/0})})}),n.forEach(M=>{const u=S.get(M.char).cssPath,g=M.element.style.d,H=.03,V=[{offset:0,d:g},{offset:H,d:u},{offset:.5,d:u},{offset:H+.5,d:g},{offset:1,d:g}];M.element.animate(V,{duration:2e3,iterations:1/0})});{const V=p.length,v=V*3,_=5e3;p.forEach(($,E)=>{const k=S.get($.char).cssPath,D=$.element.style.d,R=$.element.style.transform,F=R+" scale(1.32)",Y={d:k,transform:R},I={d:D,transform:F},O=[{offset:0,...Y},{offset:4/v,...I},{offset:6/v,...I},{offset:14/v,...Y},{offset:1,...Y}];$.element.animate(O,{duration:_,iterationStart:1-E/V,iterations:1/0})})}{const M=i;l(M).style.fill="hwb(190 10% 0% / 1)",M.forEach(u=>{const g=S.get(u.char).cssPath,H=u.element.style.d,V=1/16,v=15/16,_=14e3,$=[{offset:0,strokeWidth:.5},{offset:V,strokeWidth:.5},{offset:v,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],E=[{offset:0,d:g},{offset:V,d:g,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:v,d:H},{offset:1,d:H}],k=[{offset:0,opacity:1},{offset:V,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:v,opacity:0},{offset:1,opacity:0}];u.element.animate(k,{duration:_,iterations:1/0}),u.element.animate(E,{duration:_,iterations:1/0}),u.element.animate($,{duration:_,iterations:1/0}),u.element.style.stroke="white"})}s.forEach(M=>{const u=S.get(M.char).cssPath,g=M.element.style.d,H=750,V="cubic-bezier(.55,0,1,.55)";M.element.animate([{offset:0,d:u,easing:V},{offset:.5,d:g,easing:V},{offset:1,d:u}],{duration:H,iterations:1/0})});{h.CRLF();const M=.25,u=1.5,g="The more I drink the more I want to tell you what I really think about you.",H=pt(0,M,g.length-1,u),V=[...g].flatMap((R,F)=>(h.font=q(T,{roughness:H(F)}),h.splitAndShow(R))),v=R=>{if(R==0)return 0;const F=V[R].innerShape,Y=V[R-1].innerShape,I=Math.hypot(Y.endX-F.startX,Y.endY-F.startY);return K(I),I},{totalLength:_,maxLength:$}=V.reduce(({totalLength:R,maxLength:F},{element:Y},I)=>{const O=Y.getTotalLength();return R+=v(I)+O,F=Math.max(F,O),{totalLength:R,maxLength:F}},{totalLength:0,maxLength:0}),E=Math.ceil($)+1,k=`0 ${E} ${E} 0`;async function D(){for(;;){let Y=0,I;V.forEach(({element:O},it)=>{const G=O.getTotalLength();Y+=v(it);const rt=1e3+Y/_*3e4;Y+=G;const ht=G/_*3e4;I=O.animate([{strokeDasharray:k,strokeDashoffset:1e-5},{strokeDasharray:k,strokeDashoffset:-G}],{delay:rt,duration:ht,fill:"backwards"})}),await I.finished,await at(3e3)}}D()}{let M=function(v){const _=new e;_.font=z;const $=_.addText(v),E=e.join($),k=_.x;return{shape:E,advance:k}};h.font=z,h.CRLF();const u=M("Stop"),g=M("Go");h.CRLF();const H=u.shape.makeElement();h.showAndAdvance(H,u.advance),h.showSpace();const V=g.shape.makeElement();h.showAndAdvance(V,g.advance)}h.x>h.rightMargin&&h.CRLF(),j.viewBox.baseVal.height=h.baseline+h.font.get("0").fontMetrics.bottom}
