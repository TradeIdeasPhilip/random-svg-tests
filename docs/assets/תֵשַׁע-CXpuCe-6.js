import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as r,m as s}from"./client-misc-CqK8Npau.js";import{s as w,a as x,m as S}from"./utility-CcMiQaH1.js";const B=r("main",SVGSVGElement),L=r("legend",SVGGElement),C=r("fullCircle",SVGCircleElement),F=r("halfCircle",SVGPathElement),f=r("leftDot",SVGCircleElement),b=r("rightDot",SVGCircleElement),l=r("approximateLine",SVGLineElement),E=r("time",HTMLInputElement),D=r("debugInfo",HTMLDivElement);{const t=L.firstElementChild,e=s.assertClass(t.cloneNode(!0),SVGGElement);L.insertBefore(e,t),e.classList.add("border")}const H=w("[data-precisionIssues]",SVGTextElement,2,2),p=B.viewBox.baseVal;{const o=2.7*1.7777777777777777;p.height=2.7,p.width=o,p.x=o/-2-1.1,p.y=-(.6+2/2)}function k(t){t.style.display="none"}function G(t){t.style.display=""}function I(t,e=l){const a=.04*t;e.style.strokeDasharray=`${a} ${.04-a}`,e.style.strokeWidth=a.toString(),H.forEach(i=>i.textContent=((1-t)*100).toFixed(0).padStart(3,s.FIGURE_SPACE))}const P=s.makeBoundedLinear(0,0,.011,1);function g(t){x(t),k(F),G(C);const e=(t-.25)*s.FULL_CIRCLE,{x:n,y:a}=s.polarToRectangular(1,e);f.cx.baseVal.value=n,f.cy.baseVal.value=a,b.cx.baseVal.value=-n,b.cy.baseVal.value=a,l.x1.baseVal.value=-4,l.y1.baseVal.value=a,l.x2.baseVal.value=4,l.y2.baseVal.value=a;const i=Math.min(t,1-t,Math.abs(t-.5)),o=P(i);I(o)}const A=s.makeBoundedLinear(0,0,.022,1);function m(t){x(t),k(C),G(F);const e=(t-.25)*s.FULL_CIRCLE,{x:n,y:a}=s.polarToRectangular(1,e),i=0,o=-1,d=Math.abs(n),u=a;f.cx.baseVal.value=i,f.cy.baseVal.value=o,b.cx.baseVal.value=d,b.cy.baseVal.value=u;const c=s.makeLinear(i,o,d,u);l.x1.baseVal.value=-4,l.y1.baseVal.value=c(-4),l.x2.baseVal.value=4,l.y2.baseVal.value=c(4),I(A(t))}let V=0;function W(){const t=S(3,1),e=[s.makeLinear(0,.25,1,0),s.makeLinear(0,0,1,.04)];function n(a){const i=t(a);m(e[i.index](i.t))}return n}function _(t){function e(a){return a-Math.sin(a)}const n=2*s.FULL_CIRCLE;return e(t*n)/n}function $(){const o=[{weight:193,display:m,timingFunction:s.makeLinear(0,.0371,1,.0056)},{weight:1011,display:g,timingFunction:_},{weight:870,display:m,timingFunction:s.makeLinear(0,.25,1,.0224)},{weight:292,display:m,timingFunction:s.makeLinear(0,.0224,1,0)}],d=S(...o.map(c=>c.weight));function u(c){const y=d(c),{display:M,timingFunction:R}=o[y.index];M(R(y.t))}return console.log(2366,2366/60),u}function U(){function t(e){{const i=`Frame #${V}, t=${e.toFixed(5)}`;V++,D.innerText=i}const n=.5,a=3;if(e<n){const o=e/n*a%1;g(o)}else{const o=(e-n)/(1-n)*a%1,d=.25;if(o<.5){const u=o*2,c=s.lerp(0,d,u);m(c)}else{const u=o*2-1,c=s.lerp(d,0,u);m(c)}}}return t}let h=t=>{console.warn(`showFrame(${t})`)};function T(t){switch(t){case"full circle":{h=g;break}case"half circle":{h=m;break}case"simple demo":{h=U();break}case"introduction":{h=W();break}case"main":{h=$();break}default:throw new Error("invalid script name")}}{const t=()=>h(E.valueAsNumber),e=()=>{const n=w('input[name="script"]:checked',HTMLInputElement,1,1)[0].value;T(n),t()};e(),E.addEventListener("input",t),w('input[name="script"]',HTMLInputElement,2).forEach(n=>n.addEventListener("click",e))}function N(t){return document.querySelectorAll("[data-hideBeforeScreenshot]").forEach(e=>{if(!(e instanceof SVGElement||e instanceof HTMLElement))throw new Error("wtf");e.style.display="none"}),T(t),{source:"estimate-tangent-line.ts",devicePixelRatio,script:t}}const v=window;v.showFullCircle=g;v.showHalfCircle=m;v.initScreenCapture=N;v.showFrame=t=>h(t);
