import{m as a}from"./client-misc-CqK8Npau.js";function u(o,e,n=1,t=1/0){const r=[];if(document.querySelectorAll(o).forEach(s=>{r.push(a.assertClass(s,e))}),r.length<n||r.length>t)throw new Error(`Expecting "${o}" to return [${n} - ${t}] instances of ${e.name}, found ${r.length}.`);return r}function w(o,e){return u(o,e,1,1)[0]}class f{constructor(){throw new Error("wtf")}static sfc32(e,n,t,r){function s(){e|=0,n|=0,t|=0,r|=0;let c=(e+n|0)+r|0;return r=r+1|0,e=n^n>>>9,n=t+(t<<3)|0,t=t<<21|t>>>11,t=t+c|0,(c>>>0)/4294967296}const i=s;return Object.defineProperty(i,"currentSeed",{get(){return JSON.stringify([e,n,t,r])}}),i}static#t=42;static seedIsValid(e){try{return this.create(e),!0}catch{return!1}}static create(e=this.newSeed()){console.info(e);const n=JSON.parse(e);if(!(n instanceof Array))throw new Error("invalid input");if(n.length!=4)throw new Error("invalid input");const[t,r,s,i]=n;if(!(typeof t=="number"&&typeof r=="number"&&typeof s=="number"&&typeof i=="number"))throw new Error("invalid input");return this.sfc32(t,r,s,i)}static newSeed(){const e=[];return e.push(Date.now()|0),e.push(this.#t++|0),e.push(Math.random()*2**31|0),e.push(performance.now()*1e4|0),JSON.stringify(e)}static test(){const t=[this.create()];for(;t.length<=10;){for(let s=0;s<20;s++){const i=t.map(c=>c());for(let c=1;c<i.length;c++)if(i[c]!==i[0]){debugger;throw new Error("wtf")}}const r=a.pick(t).currentSeed;t.forEach(s=>{if(s.currentSeed!=r){debugger;throw new Error("wtf")}}),t.push(this.create(r))}}}window.Random=f;function l(o){if(!(isFinite(o)&&o>=0&&o<=1))throw new Error(`t should be between 0 and 1, inclusive. t == ${o}`)}function d(...o){o.forEach(t=>{if(!(t>=0&&t<Number.MAX_SAFE_INTEGER))throw new Error("wtf")});const e=a.sum(o);if(e==0)throw new Error("wtf");return t=>{l(t),t*=e;for(let r=0;r<o.length;r++){const s=o[r];if(t<=s)return t/=s,{t,index:r};t-=s}throw new Error("wtf")}}function p(o){const e=2/(o+1),n=1-e;return r=>n*r*r+e*r}export{f as R,l as a,w as b,p as c,d as m,u as s};
