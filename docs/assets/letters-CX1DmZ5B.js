import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as X,m as nt,i as et,g as gt,s as lt}from"./client-misc-leadhGo2.js";/* empty css              */import{b as j,l as B,c as ut,a as st,s as Mt}from"./utility-DcEUXXL7.js";import{a as wt}from"./rough.esm-C_8OcXYf.js";class it{constructor(c,e,u){this.x0=c,this.y0=e,this.x=u,j(c,e,u),this.y=e,this.asString=`H ${u}`}y;incomingAngle=NaN;outgoingAngle=NaN;command="H";asString;translate(c,e){return new it(this.x0+c,this.y0+e,this.x+c)}toCubic(){return new q(this.x0,this.y0,B(this.x0,this.x,1/3),this.y0,B(this.x0,this.x,2/3),this.y0,this.x,this.y0)}}class ht{constructor(c,e,u){this.x0=c,this.y0=e,this.y=u,j(c,e,u),this.x=c,this.asString=`V ${u}`}x;incomingAngle=NaN;outgoingAngle=NaN;command="V";asString;translate(c,e){return new ht(this.x0+c,this.y0+e,this.y+e)}toCubic(){return new q(this.x0,this.y0,this.x0,B(this.y0,this.y,1/3),this.x0,B(this.y0,this.y,2/3),this.x0,this.y)}}class ot{constructor(c,e,u,p){this.x0=c,this.y0=e,this.x=u,this.y=p,j(c,e,u,p),this.asString=`L ${u},${p}`}incomingAngle=NaN;outgoingAngle=NaN;command="L";asString;translate(c,e){return new ot(this.x0+c,this.y0+e,this.x+c,this.y+e)}toCubic(){return new q(this.x0,this.y0,B(this.x0,this.x,1/3),B(this.y0,this.y,1/3),B(this.x0,this.x,2/3),B(this.y0,this.y,2/3),this.x,this.y)}}class rt{constructor(c,e,u,p,n,m){this.x0=c,this.y0=e,this.x1=u,this.y1=p,this.x=n,this.y=m,j(c,e,u,p,n,m),this.asString=`Q ${u},${p} ${n},${m}`}incomingAngle=NaN;outgoingAngle=NaN;command="Q";asString;translate(c,e){return new rt(this.x0+c,this.y0+e,this.x1+c,this.y1+e,this.x+c,this.y+e)}toCubic(){return new q(this.x0,this.y0,B(this.x0,this.x1,2/3),B(this.y0,this.y1,2/3),B(this.x,this.x1,2/3),B(this.y,this.y1,2/3),this.x,this.y)}}class q{constructor(c,e,u,p,n,m,i,f){this.x0=c,this.y0=e,this.x1=u,this.y1=p,this.x2=n,this.y2=m,this.x=i,this.y=f,j(c,e,u,p,n,m,i,f),this.asString=`C ${u},${p} ${n},${m} ${i},${f}`}reverse(){return new q(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}incomingAngle=NaN;outgoingAngle=NaN;command="C";asString;translate(c,e){return new q(this.x0+c,this.y0+e,this.x1+c,this.y1+e,this.x2+c,this.y2+e,this.x+c,this.y+e)}toCubic(){return this}}class g{get commands(){return this.#t}addCommand(c){this.#t.push(c),this.#e=void 0}addCommands(c){c.forEach(e=>this.addCommand(e))}static fromStrings(c){let e=c.join(" ");const u=[];let p;for(;e=e.replace(/^ */,""),e!="";){let n=Vt.exec(e);if(n){const m=X(n[1]),i=X(n[2]);if(m===void 0||i===void 0)throw console.error(n,m,i,this),new Error("wtf");p&&u.push(p),p=this.M(m,i),e=n[3];continue}if(p){if(n=Ht.exec(e),n){const m=X(n[1]),i=X(n[2]),f=X(n[3]),a=X(n[4]);if(m===void 0||i===void 0||f===void 0||a===void 0)throw console.error(n,m,i,f,a,this),new Error("wtf");p=p.Q(m,i,f,a),e=n[5];continue}if(n=Qt.exec(e),n){const m=X(n[1]),i=X(n[2]),f=X(n[3]),a=X(n[4]),E=X(n[5]),_=X(n[6]);if(m===void 0||i===void 0||f===void 0||a===void 0||E===void 0||_===void 0)throw console.error(n,m,i,f,a,E,_,this),new Error("wtf");p=p.C(m,i,f,a,E,_),e=n[7];continue}}throw console.error(e),new Error("wtf")}return p&&u.push(p),u}static M(c,e){const u=new g;return u.M(c,e),u}#t=[];get pathShape(){return new N(this.#t)}#e;M(c,e,u=NaN){return j(c,e),this.#e={x:c,y:e,outgoingAngle:u},this}previous(){return this.#e??this.#t.at(-1)}H(c){const e=this.previous();return this.addCommand(new it(e.x,e.y,c)),this}V(c){const e=this.previous();return this.addCommand(new ht(e.x,e.y,c)),this}L(c,e){const u=this.previous();return this.addCommand(new ot(u.x,u.y,c,e)),this}Q(c,e,u,p){const n=this.previous();return this.addCommand(new rt(n.x,n.y,c,e,u,p)),this}Q_HV(c,e){const u=this.previous();return this.Q(c,u.y,c,e)}Q_VH(c,e){const u=this.previous();return this.Q(u.x,e,c,e)}Q_angles(c,e,u,p){const n=this.previous();if(p??=n.outgoingAngle,p===void 0)throw new Error("wtf");j(p,u);const m=xt({x0:n.x,y0:n.y,slope:Math.tan(p)},{x0:c,y0:e,slope:Math.tan(u)});return m?this.Q(m.x,m.y,c,e):this.L(c,e),this}C(c,e,u,p,n,m){const i=this.previous();return this.addCommand(new q(i.x,i.y,c,e,u,p,n,m)),this}circle(c,e,u="cw"){const p=this.previous(),n=p.x,m=p.y,i=Math.atan2(m-e,n-c),f=Math.hypot(m-e,n-c),a=u=="cw"?1:-1,E=i+Math.PI*2*a,_=nt(0,i,1,E);function h(t){switch(t){case 0:case 1:return p;default:{const s=_(t),o=st(f,s);return{x:c+o.x,y:e+o.y}}}}function Y(t){return h(t)}return this.addParametricPath(Y,8),this}arc(c,e,u,p,n){const m=this.previous(),i=m.x,f=m.y;let a=ut(Math.atan2(f-e,i-c),Math.PI*2);const E=Math.hypot(f-e,i-c);let _=ut(Math.atan2(p-e,u-c),Math.PI*2);const h=Math.hypot(p-e,u-c);n=="cw"?a>_&&(_+=Math.PI*2):a<_&&(a+=Math.PI*2);const Y=Math.abs(a-_),P=Math.ceil(Y*1.17+1e-4),t=nt(0,E,1,h),s=nt(0,a,1,_);function o(r){switch(r){case 0:return m;case 1:return{x:u,y:p};default:{const d=st(t(r),s(r));return{x:c+d.x,y:e+d.y}}}}return this.addParametricPath(o,P)}addParametricPath(c,e){if(e<=0)throw new Error("wtf");const u=.01/e,p=et(e+1,m=>{const i=m/e,f=c(i),a=vt(c,i,u);return{t:i,point:f,direction:a}});return et(e,m=>({from:p[m],to:p[m+1]})).forEach(m=>{this.Q_angles(m.to.point.x,m.to.point.y,m.to.direction,m.from.direction)}),this}}function vt(y,c,e){if(!(c>=0&&c<=1))throw new Error("Expected 0 ≤ t ≤ 1");const u=Math.max(0,c-e),p=y(u),n=Math.min(1,c+e),m=y(n),i=m.x-p.x,f=m.y-p.y;return i==0&&f==0?NaN:Math.atan2(f,i)}const pt=" *",z="(-?[0-9]+.?[0-9]*)",G=" *[, ] *",Vt=new RegExp(`^M${pt}${z}${G}${z}(.*)$`),Ht=new RegExp(`^Q${pt}${z}${G}${z}${G}${z}${G}${z}(.*)$`),Qt=new RegExp(`^C${pt}${z}${G}${z}${G}${z}${G}${z}${G}${z}${G}${z}(.*)$`);class N{matchForMorph(c){const e=this.commands.map(i=>i.toCubic()),u=c.commands.map(i=>i.toCubic());if(e.length!=u.length){const{shorter:i,longer:f}=e.length<u.length?{shorter:e,longer:u}:{shorter:u,longer:e};if(i.length==0)throw new Error("can't morph something into nothing");const a=f.length/i.length,E=[];i.forEach((_,h)=>{const Y=Math.round((h+1)*a);for(;E.length<Y;)E.push(_)}),i.length=0,i.push(...E)}if(e.length!=u.length)throw new Error("wtf");function p(i){return N.cssifyPath(i.map(f=>new N([f]).rawPath).join())}const n=p(e),m=p(u);return[n,m]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(c){const u=g.fromStrings(c).flatMap(n=>n.commands);return new this(u)}constructor(c){this.commands=[...c]}static cssifyPath(c){return`path('${c}')`}get cssPath(){return N.cssifyPath(this.rawPath)}makeElement(){const c=document.createElementNS("http://www.w3.org/2000/svg","path"),e=this.cssPath;if(c.style.d=e,c.style.d=="")throw console.error(e,c),new Error("wtf");return c}static needAnM(c,e){return!c||c.x!=e.x0||c.y!=e.y0}get rawPath(){return this.commands.flatMap((c,e)=>{const u=[],p=this.commands[e-1];return N.needAnM(p,c)&&u.push(`M ${c.x0},${c.y0}`),u.push(c.asString),u}).join(" ")}get cssPaths(){return this.splitOnMove().map(c=>c.cssPath)}get rawPaths(){return this.splitOnMove().map(c=>c.rawPath)}splitOnMove(){const c=[];let e=[];return this.commands.forEach(u=>{N.needAnM(e.at(-1),u)&&(e=[],c.push(e)),e.push(u)}),c.map(u=>new N(u))}static join(c){return new N(c.flatMap(({Δx:e,Δy:u,shape:p})=>p.translate(e,u).commands))}convertToCubics(){return new N(this.commands.map(c=>c.toCubic()))}translate(c,e){return new N(this.commands.map(u=>u.translate(c,e)))}}function xt(y,c){if(isNaN(y.slope)||isNaN(c.slope)||y.slope==c.slope)return;const e=Math.abs(y.slope)>Number.MAX_SAFE_INTEGER,u=Math.abs(c.slope)>Number.MAX_SAFE_INTEGER;if(e&&u)return;const p=e?y.x0:u?c.x0:(c.y0-c.slope*c.x0-y.y0+y.slope*y.x0)/(y.slope-c.slope),n=e?c.slope*(p-c.x0)+c.y0:y.slope*(p-y.x0)+y.y0;return{x:p,y:n}}class mt{constructor(c,e=c/10){if(this.fontSize=c,this.strokeWidth=e,c<=0||!isFinite(c))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class dt{constructor(c,e,u){this.advance=e,this.fontMetrics=u,c instanceof N?this.#t=()=>c:this.#t=c}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(c=>({innerShape:c,element:c.makeElement()}))}}function tt(y){const c=new Map;typeof y=="number"&&(y=new mt(y));const e=(t,s,o)=>{const r=new dt(s,o,y);if(c.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...c].at(-1)[0]}"`);c.set(t,r)},{aWidth:u,digitWidth:p,capitalTop:n,capitalTopMiddle:m,capitalMiddle:i,capitalBottomMiddle:f,baseline:a,descender:E,strokeWidth:_}=y,h=0;{const t=p,o=t/2,r=t;{const d=(E-a)*2,H=E,L=H-d,k=n-d/4,$=k+d;if(d<=0||H<=L||L<=$||$<=k)throw new Error("wtf");const w=p*.5;{const l=g.M(w,k).Q_HV(0,$).V(L).Q_VH(w,H).pathShape;e("(",l,w)}{const l=p*.5,M=g.M(0,k).Q_HV(l,$).V(L).Q_VH(0,H).pathShape;e(")",M,l)}{const l=g.M(w,k).H(0).V(H).H(w).pathShape;e("[",l,w)}{const l=g.M(0,k).H(w).V(H).H(0).pathShape;e("]",l,w)}}{const d=p*.75,H=d/2,L=g.M(H,i-H).V(i+H).M(h,i).H(d).pathShape;e("+",L,d)}{const d=p*.75,H=g.M(h,i).H(d).pathShape;e("-",H,d)}{const d=p/2*.9,H=5,L=-Math.PI/2,k=(n+a)/2,$=0,w=et(H,V=>{const S=V*(Math.PI*2)/H+L,C=st($,S),R=st(d,S);return[C,R]}),l=w.flat(),M=Math.min(...l.map(({x:V})=>V));l.forEach(V=>{V.x-=M,V.y+=k});const Q=w.map(([V,S])=>new ot(V.x,V.y,S.x,S.y)),v=new N(Q),x=Math.max(...l.map(({x:V})=>V));e("*",v,x)}{const d=p*.75,H=g.M(h,i-_*1.25).H(d).M(h,i+_*1.25).H(d).pathShape;e("=",H,d)}{const d=p*1.25,H=a+_,L=g.M(0,H).H(d).pathShape;e("_",L,d)}{const d=p/2,H=3*d,L=d/3,k=n,$=k+d,w=$+d,l=w+d,M=g.M(d+L,k).L(d-L,l).M(2*d+L,k).L(2*d-L,l).M(0,$).H(H).M(0,w).H(H).pathShape;e("#",M,H)}{const d=p/2,H=3*d,L=0,k=d,$=H/2,w=2*d,l=H,M=n+(y.mHeight-H)/2,Q=M+k,v=M+$,x=M+w,V=M+l,S=g.M(w,v).Q_VH($,Q).Q_HV(k,v).Q_VH($,x).Q_HV(w,v).Q_VH((w+l)/2,x).Q_HV(l,v).V((Q+v)/2).Q_VH($,M).Q_HV(L,v).Q_VH($,V).H((w+l)/2).pathShape;e("@",S,H)}{const d=g.M(o,n).Q(r,n,r,m).L(r,f).Q(r,a,o,a).Q(h,a,h,f).L(h,m).Q(h,n,o,n).M(r,m).L(h,f).pathShape;e("0",d,t)}{const d=g.M(h,m).Q(o,m,o,n).L(o,a).M(h,a).L(r,a).pathShape;e("1",d,t)}{const d=g.M(h,m).Q_VH(o,n).Q_HV(r,m).Q_VH(o,i).Q_HV(h,a).L(r,a).pathShape;e("2",d,t)}{const d=g.M(h,m).Q_VH(o,n).Q_HV(r,m).Q_VH(o,i).Q_HV(r,f).Q_VH(o,a).Q_HV(h,f).pathShape;e("3",d,t)}{const d=(o+r)/2,H=(o+h)/2,L=g.M(r,i).L(h,i).L(H,n).M(d,n).L(d,a).pathShape;e("4",L,t)}{const d=h+p/5,H=r-p/5,L=(i+f)/2,k=g.M(H,n).L(d,n).L(h,i).Q_VH(o,m).Q_HV(r,L).Q_VH(o,a).Q_HV(h,f).pathShape;e("5",k,t)}{const d=g.M(r,n).Q_HV(h,f).Q_VH(o,a).Q_HV(r,f).Q_VH(o,i).Q_HV(h,f).pathShape;e("6",d,t)}{const d=g.M(h,n).L(r,n).L(h,a).pathShape;e("7",d,t)}{const d=g.M(o,n).Q(r,n,r,m).Q(r,i,o,i).Q(h,i,h,f).Q(h,a,o,a).Q(r,a,r,f).Q(r,i,o,i).Q(h,i,h,m).Q(h,n,o,n).pathShape;e("8",d,t)}{const d=g.M(r,m).Q(r,n,o,n).Q(h,n,h,m).Q(h,i,o,i).Q(r,i,r,m).Q(r,a,h,a).pathShape;e("9",d,t)}}{const t=g.M(h,a).L(u/2,n).L(y.aWidth,a).M(y.aWidth/4,i).L(y.aWidth*.75,i).pathShape;e("A",t,u)}{const t=p,s=m-n;if(s<=0)throw new Error("wtf");const o=(t-s)*(2/3),r=a-f;if(r<=0)throw new Error("wtf");const d=t-r,H=g.M(h,n).L(h,a).L(d,a).M(Math.max(d,o),i).L(h,i).M(h,n).L(o,n).Q(o+s,n,o+s,n+s).Q(o+s,i,o,i).M(d,i).Q(d+r,i,d+r,a-r).Q(d+r,a,d,a).pathShape;e("B",H,t)}{const t=p,o=t/2,r=t,d=g.M(r,m).Q(r,n,o,n).Q(h,n,h,m).L(h,f).Q(h,a,o,a).Q(r,a,r,f).pathShape;e("C",d,t)}{const t=p,o=t/2,r=t,d=g.M(h,n).L(h,a).L(o,a).Q(r,a,r,f).L(r,m).Q(r,n,o,n).L(h,n).pathShape;e("D",d,t)}{const t=p,s=t*(2/3),o=t,r=g.M(o,n).L(h,n).L(h,a).L(o,a).M(s,i).L(h,i).pathShape;e("E",r,t)}{const t=p,s=t*(2/3),o=t,r=g.M(o,n).L(h,n).L(h,a).M(s,i).L(h,i).pathShape;e("F",r,t)}{const t=p,o=t/2,r=t,d=g.M(r,m).Q(r,n,o,n).Q(h,n,h,m).L(h,f).Q(h,a,o,a).Q(r,a,r,f).L(r,i).L(o,i).pathShape;e("G",d,t)}{const t=p,s=t,o=g.M(h,n).L(h,a).M(s,n).L(s,a).M(h,i).L(s,i).pathShape;e("H",o,t)}{const t=y.mHeight/3,s=t/2,o=t,r=g.M(h,n).L(o,n).M(h,a).L(o,a).M(s,n).L(s,a).pathShape;e("I",r,t)}{const t=p*.85,o=t/2,r=t,d=g.M(r,n).L(r,f).Q(r,a,o,a).Q(h,a,h,f).pathShape;e("J",d,t)}{const t=p+_,s=(n+a)/2,o=g.M(h,n).L(h,a).M(t,n).L(h+.5,s).L(t,a).pathShape;e("K",o,t)}{const t=p,s=g.M(h,n).L(h,a).L(t,a).pathShape;e("L",s,t)}{const t=p*1.5,s=t/2,o=g.M(h,a).L(h,n).L(s,i).L(t,n).L(t,a).pathShape;e("M",o,t)}{const t=p*1.2,s=g.M(h,a).L(h,n).L(t,a).L(t,n).pathShape;e("N",s,t)}{const t=p*1.5,s=t/2,o=(n+a)/2,r=g.M(s,n).Q_HV(t,o).Q_VH(s,a).Q_HV(h,o).Q_VH(s,n).pathShape;e("O",r,t)}{const t=p,s=i-m;if(s<=0)throw new Error("wtf");const o=t-s,r=g.M(h,n).L(h,a).M(h,n).L(o,n).Q_HV(t,m).Q_VH(o,i).L(h,i).pathShape;e("P",r,t)}{const t=p*1.5,s=t/2,o=(n+a)/2,r=g.M(s,n).Q_HV(t,o).Q_VH(s,a).Q_HV(h,o).Q_VH(s,n).M(t-s*.75,a-s*.75).L(t+s/6,a+s/6).pathShape;e("Q",r,t)}{const t=p,s=i-m;if(s<=0)throw new Error("wtf");const o=t-s,r=g.M(h,n).L(h,a).M(h,n).L(o,n).Q_HV(t,m).Q_VH(o,i).L(h,i).M(o,i).L(t,a).pathShape;e("R",r,t)}{const t=p,s=p/2,o=p,r=g.M(o,m).Q_VH(s,n).Q_HV(h,m).Q_VH(s,i).Q_HV(o,f).Q_VH(s,a).Q_HV(h,f).pathShape;e("S",r,t)}{const s=p+_,o=s/2,r=s,d=y.mHeight/8,H=g.M(r,m).Q_VH(o,n).Q_HV(h,m).Q_VH(o,i).Q_HV(r,f).Q_VH(o,a).Q_HV(h,f).M(o,n-d).V(a+d).pathShape;e("$",H,s)}{const t=p,s=t/2,o=g.M(s,n).L(s,a).M(t,n).L(h,n).pathShape;e("T",o,t)}{const t=(f+i)/2,s=Math.abs(t-a)*.85,o=s*2,r=g.M(h,n).V(t).Q_VH(s,a).Q_HV(o,t).V(n).pathShape;e("U",r,o)}{const t=u,s=t/2,o=g.M(h,n).L(s,a).L(t,n).pathShape;e("V",o,t)}{const t=u*1.5,s=t/3,o=t/2,r=s*2,d=g.M(h,n).L(s,a).L(o,i).L(r,a).L(t,n).pathShape;e("W",d,t)}{const t=p,s=g.M(t,n).L(h,a).M(h,n).L(t,a).pathShape;e("X",s,t)}{const t=_,s=p+t,o=g.M(s,n).L(t,a).M(h,n).L(s/2,i).pathShape;e("Y",o,s)}{const t=p,s=g.M(h,n).H(t).L(h,a).H(t).pathShape;e("Z",s,t)}{const t=p/4,s=p*1.2,o=g.M(t*2,n+t).Q_VH(t,n).Q_HV(0,n+t).Q_VH(t,n+t*2).Q_HV(t*2,n+t),d=o.pathShape.translate(s-t*2,y.mHeight-t*2);o.addCommands(d.commands),o.M(s,n).L(h,a);const H=o.pathShape;e("%",H,s)}{const t=p,s=g.M(t,n).L(h,a).pathShape;e("/",s,t)}{const t=p,s=g.M(h,n).L(t,a).pathShape;e("\\",s,t)}{const t=p,s=_/2,o=t+s,r=t/2,d=g.M(r,i).Q_HV(h,f).Q_VH(r,a).Q_HV(t,f).Q_VH(r,i).M(o,i).L(o,a).pathShape;e("a",d,o)}{const t=p,s=_/2,o=t+s,r=s,d=s+t/2,H=o,L=g.M(h,n).V(a).M(r,f).Q_VH(d,a).Q_HV(H,f).Q_VH(d,i).Q_HV(r,f).pathShape;e("b",L,o)}{const t=p*.875,s=0,o=p/2,r=t,d=(i+f)/2,H=(f+a)/2,L=g.M(r,d).Q_VH(o,i).Q_HV(s,f).Q_VH(o,a).Q_HV(r,H).pathShape;e("c",L,t)}{const t=p,s=_/2,o=t+s,r=t/2,d=g.M(r,i).Q_HV(h,f).Q_VH(r,a).Q_HV(t,f).Q_VH(r,i).M(o,n).L(o,a).pathShape;e("d",d,o)}const Y=p/8;{const t=p,s=p/2,o=t,r=o-Y,d=g.M(h,f).H(o).Q_VH(s,i).Q_HV(h,f).Q_VH(s,a).H(r).pathShape;e("e",d,t)}{const t=p*.75,s=t/2,o=t,r=g.M(o,n).Q_HV(s,m).V(a).M(o,i).H(h).pathShape;e("f",r,t)}{const t=p,s=_/2,o=t+s,r=t/2,d=g.M(r,i).Q_HV(h,f).Q_VH(r,a).Q_HV(t,f).Q_VH(r,i).M(o,i).V(a).Q_VH(r,E).H(h+Y).pathShape;e("g",d,o)}{const t=p*.85,s=t/2,o=g.M(h,n).V(a).Q_VH(s,i).Q_HV(t,f).V(a).pathShape;e("h",o,t)}const P=_/4;{const s=g.M(h,i).V(a).M(h,m).V(m-P).pathShape;e("i",s,0)}{const t=Math.abs(a-E),s=t/2,o=g.M(t,i).V(a).Q_VH(s,E).Q_HV(h,a).M(t,m).V(m-P).pathShape;e("j",o,t)}{const s=g.M(h,a).V(a-P).pathShape;e(".",s,0)}{const s=g.M(h,n).V(f).M(h,a).V(a-P).pathShape;e("!",s,0)}{const s=(E-a)/2,o=s/2,r=g.M(h,a-P).V(a).Q_VH(-o,a+s).pathShape;e(",",r,0)}{const s=i,o=g.M(h,a).V(a-P).M(h,s-P).V(s).pathShape;e(":",o,0)}{const s=i,o=(E-a)/2,r=o/2,d=g.M(h,a-P).V(a).Q_VH(-r,a+o).M(h,s-P).V(s).pathShape;e(";",d,0)}{const t=y.xHeight*2/3,s=p/10,o=t+s,r=g.M(h,n).V(a).M(t,i).L(h,i+t).M(t/2,a-t).L(o,a).pathShape;e("k",r,o)}{const s=g.M(h,n).V(a).pathShape;e("l",s,0)}{const t=p*1.5,s=t/4,o=t/2,r=t*3/4,d=t,H=g.M(h,i).V(a).Q_VH(s,i).Q_HV(o,f).V(a).M(o,f).Q_VH(r,i).Q_HV(d,f).V(a).pathShape;e("m",H,t)}{const t=p*.85,s=t/2,o=g.M(h,i).V(a).Q_VH(s,i).Q_HV(t,f).V(a).pathShape;e("n",o,t)}{const t=p,s=0,o=t/2,r=t,d=g.M(o,i).Q_HV(r,f).Q_VH(o,a).Q_HV(s,f).Q_VH(o,i).pathShape;e("o",d,t)}{const t=p,s=_/2,o=t+s,r=s,d=s+t/2,H=o,L=g.M(h,i).V(E).M(r,f).Q_VH(d,i).Q_HV(H,f).Q_VH(d,a).Q_HV(r,f).pathShape;e("p",L,o)}{const t=p,s=t/2,o=t+_/2,r=Math.abs(a-E),d=o+r/2,H=o+r,L=g.M(s,i).Q_HV(h,f).Q_VH(s,a).Q_HV(t,f).Q_VH(s,i).M(o,i).V(a).Q_VH(d,E).Q_HV(H,a).pathShape;e("q",L,H)}{const t=p,s=t/2,o=g.M(h,i).V(a).Q_VH(s,i).Q_HV(t,f).pathShape;e("r",o,t)}{const t=y.xHeight*2/3,s=t/2,o=a,r=f,d=i,H=(o+r)/2,L=(r+d)/2,k=(L+d)/2,$=(o+H)/2,w=g.M(t,k).Q_VH(s,d).Q_HV(h,L).Q_VH(s,r).Q_HV(t,H).Q_VH(s,o).Q_HV(h,$).pathShape;e("s",w,t)}{const t=p*.75,s=t/2,o=t,r=g.M(s,m).V(f).Q_VH(o,a).M(o,i).H(h).pathShape;e("t",r,t)}{const t=p*.85,s=t/2,o=g.M(h,i).V(f).Q_VH(s,a).Q_HV(t,i).L(t,a).pathShape;e("u",o,t)}{const t=p,s=t/2,o=g.M(h,i).L(s,a).L(t,i).pathShape;e("v",o,t)}{const t=y.xHeight*1.5,s=t/3,o=t/2,r=s*2,d=g.M(h,i).L(s,a).L(o,f).L(r,a).L(t,i).pathShape;e("w",d,t)}{const t=p,s=g.M(t,i).L(h,a).M(h,i).L(t,a).pathShape;e("x",s,t)}{const t=p,s=t/2,o=(i+E)/2,r=g.M(t,i).L(h,E).M(h,i).L(s,o).pathShape;e("y",r,t)}{const t=p,s=g.M(h,i).H(t).L(h,a).H(t).pathShape;e("z",s,t)}{const t=p/2,s=t/2,o=g.M(s,n).circle(s,n+s,"cw").pathShape;e("°",o,t)}{const t=-n,s=t/2,o=g.M(s,n).circle(s,n+s,"cw").pathShape;e("◯",o,t)}{const t=-n,s=t/2,o=n/2,r=g.M(0,o).arc(s,o,t,o,"cw").pathShape;e("◠",r,t)}{const t=-n,s=t/2,o=n/2,r=g.M(0,o).arc(s,o,t,o,"ccw").pathShape;e("◡",r,t)}return new Map([...c.entries()].sort(([t],[s])=>t<s?-1:t==s?1:0))}const J=gt("main",SVGSVGElement);function yt(y){const c=new Map;return y.forEach((e,u)=>{const{advance:p,fontMetrics:n}=e,m=e.shape.convertToCubics(),i=new dt(m,p,n);c.set(u,i)}),c}function Lt(y,c=y*.75){const e=tt(y);return tt(c).forEach((p,n)=>{const m=n.toLowerCase();m!=n&&e.set(m,p)}),e}function ct(y,c){const e={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},u=wt.generator({options:{...e,...c}}),p=new Map;return y.forEach((n,m)=>{const i=()=>{const a=u.path(n.d),_=u.toPaths(a).map(h=>h.d);return N.fromStrings(_)},f=new dt(i,n.advance,n.fontMetrics);p.set(m,f)}),p}{let y=function(w){return w.length==1},c=function(w){let M=1/0,Q=-1/0;w.forEach(S=>{const{description:C,baseline:R}=S,{fontMetrics:W}=C;M=Math.min(M,W.top+R),Q=Math.max(Q,W.bottom+R)});const v=M-1,x=Q+1,V=document.createElementNS("http://www.w3.org/2000/svg","rect");return V.x.baseVal.value=0,V.y.baseVal.value=v,V.width.baseVal.value=100,V.height.baseVal.value=x-v,J.insertBefore(V,w[0].element),V},e=function(w){const l=new u;l.font=P;const M=l.addText(w),Q=u.join(M),v=l.x;return{shape:Q,advance:v}};class u{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=tt(5);getDescription(l){return this.font.get(l)}static join(l){return new N(l.flatMap(M=>M.description.shape.translate(M.x,M.baseline).commands))}displayText(l){return l.map(M=>{const Q=M.description.shape,v=Q.makeElement();return J.appendChild(v),v.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...M,shape:Q,element:v}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(l){const M=new Set,Q=[];for(;;){const v=u.WORD_BREAK.exec(l);if(!v)break;const x=v[1];if(l=v[2],x[0]==`
`)this.carriageReturn(),this.lineFeed(x.length*4/3);else if(x[0]==" ")this.addSpace(x.length);else{let V=0;const S=0,C=[...x].flatMap(R=>{const W=this.getDescription(R);if(W){const T=W.advance+W.fontMetrics.defaultKerning,A={x:V,width:T,baseline:S,description:W,char:R};return V+=T,A}else return M.add(R),[]});this.x+V>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),C.forEach(R=>{R.x+=this.x,R.baseline=this.baseline,Q.push(R)}),this.x+=V}}return M.size>0&&console.warn(M),Q}addSpace(l=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*l}}class p{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=tt(5);getDescription(l){return this.font.get(l)}makeRoom(l){this.x+l.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(l){this.x+=l.advance+l.fontMetrics.defaultKerning}moveToCursor(l){l.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(l,M){return this.x+M>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),J.appendChild(l),l.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=M,this}show1(l){this.makeRoom(l);const M=l.makeElement();J.appendChild(M);const{x:Q,baseline:v}=this;return this.moveToCursor(M),this.advance(l),{element:M,x:Q,baseline:v}}splitAndShow1(l){this.makeRoom(l);const M=l.makeElements();return M.forEach(({element:Q})=>{J.appendChild(Q),this.moveToCursor(Q)}),this.advance(l),M}show(l){const M=new Set,Q=[...l].flatMap(v=>{const x=this.getDescription(v);return x?{...this.show1(x),description:x,char:v}:v==" "?(this.showSpace(),[]):(M.add(v),[])});return M.size>0&&console.warn(M),Q}splitAndShow(l){const M=new Set,Q=[...l].flatMap(v=>{const x=this.getDescription(v);return x?this.splitAndShow1(x):v==" "?(this.showSpace(),[]):(M.add(v),[])});return M.size>0&&console.warn(M),Q}showSpace(l=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*l,this}}const n=new p;let m="";n.font.forEach((w,l)=>{y(l)&&(m+=l)}),n.show(m),n.CRLF();{const w=n.show(m);w.forEach(({element:l})=>{l.classList.add("lights")}),c(w).style.fill="black"}n.CRLF();const i=n.splitAndShow(m),f=w=>{if(w==0)return 0;const l=i[w].innerShape,M=i[w-1].innerShape,Q=Math.hypot(M.endX-l.startX,M.endY-l.startY);return j(Q),Q},{totalLength:a,maxLength:E}=i.reduce(({totalLength:w,maxLength:l},{element:M},Q)=>{const v=M.getTotalLength();return j(v),w+=f(Q)+v,l=Math.max(l,v),{totalLength:w,maxLength:l}},{totalLength:0,maxLength:0}),_=Math.ceil(E)+1,h=`0 ${_} ${_} 0`;async function Y(){for(;;){let M=0,Q;i.forEach(({element:v},x)=>{const V=v.getTotalLength();M+=f(x);const S=1e3+M/a*3e4;M+=V;const C=V/a*3e4;Q=v.animate([{strokeDasharray:h,strokeDashoffset:1e-5},{strokeDasharray:h,strokeDashoffset:-V}],{delay:S,duration:C,fill:"backwards"})}),await Q.finished,await lt(3e3)}}Y(),n.CRLF(),n.font=Lt(5,3),n.show("Small  Caps"),n.lineHeight*=1.125;const P=tt(new mt(6,.5)),t=yt(P),s=[{roughness:.4,title:"Heartbeat!"},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting"},{roughness:.54,title:"The Wave *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(w=>{const{roughness:l,title:M}=w;return n.font=ct(t,{roughness:l}),n.CRLF(),n.show(`${Math.round(l*100)} ${M??"Rough Font"} [4XxYyZ]`)}),o=s[0],r=s[1],d=s[2],H=s[3],L=s[4],k=s[5],$=ct(t,{roughness:0});c(L).style.fill="black",L.forEach(({element:w})=>{w.classList.add("lights")}),[L,k].forEach(w=>{w.forEach(l=>{function M(){return Math.random()+.5|0}const Q=3+M()+M()+M(),v=et(Q,()=>({d:l.description.cssPath}));v.push(v[0]);const x=Q*1e4/3,V=x/8,S=Math.exp(B(Math.log(V),Math.log(x),Math.random()));l.element.animate(v,{duration:S,iterations:1/0})})}),r.forEach(w=>{const l=$.get(w.char).cssPath,M=w.element.style.d,Q=.03,v=[{offset:0,d:M},{offset:Q,d:l},{offset:.5,d:l},{offset:Q+.5,d:M},{offset:1,d:M}];w.element.animate(v,{duration:2e3,iterations:1/0})});{const v=H.length,x=v*3,V=5e3;H.forEach((S,C)=>{const R=$.get(S.char).cssPath,W=S.element.style.d,T=S.element.style.transform,A=T+" scale(1.32)",I={d:R,transform:T},D={d:W,transform:A},b=[{offset:0,...I},{offset:4/x,...D},{offset:6/x,...D},{offset:14/x,...I},{offset:1,...I}];S.element.animate(b,{duration:V,iterationStart:1-C/v,iterations:1/0})})}{const w=d;c(w).style.fill="hwb(190 10% 0% / 1)",w.forEach(l=>{const M=$.get(l.char).cssPath,Q=l.element.style.d,v=1/16,x=15/16,V=14e3,S=[{offset:0,strokeWidth:.5},{offset:v,strokeWidth:.5},{offset:x,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],C=[{offset:0,d:M},{offset:v,d:M,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:x,d:Q},{offset:1,d:Q}],R=[{offset:0,opacity:1},{offset:v,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:x,opacity:0},{offset:1,opacity:0}];l.element.animate(R,{duration:V,iterations:1/0}),l.element.animate(C,{duration:V,iterations:1/0}),l.element.animate(S,{duration:V,iterations:1/0}),l.element.style.stroke="white"})}o.forEach(w=>{const l=$.get(w.char).cssPath,M=w.element.style.d,Q=750,v="cubic-bezier(.55,0,1,.55)";w.element.animate([{offset:0,d:l,easing:v},{offset:.5,d:M,easing:v},{offset:1,d:l}],{duration:Q,iterations:1/0})});{n.CRLF();const w=.25,l=1.5,M="The more I drink the more I want to tell you what I really think about you.",Q=nt(0,w,M.length-1,l),v=[...M].flatMap((T,A)=>(n.font=ct(t,{roughness:Q(A)}),n.splitAndShow(T))),x=T=>{if(T==0)return 0;const A=v[T].innerShape,I=v[T-1].innerShape,D=Math.hypot(I.endX-A.startX,I.endY-A.startY);return j(D),D},{totalLength:V,maxLength:S}=v.reduce(({totalLength:T,maxLength:A},{element:I},D)=>{const b=I.getTotalLength();return T+=x(D)+b,A=Math.max(A,b),{totalLength:T,maxLength:A}},{totalLength:0,maxLength:0}),C=Math.ceil(S)+1,R=`0 ${C} ${C} 0`;async function W(){for(;;){let I=0,D;v.forEach(({element:b},F)=>{const K=b.getTotalLength();I+=x(F);const O=1e3+I/V*3e4;I+=K;const U=K/V*3e4;D=b.animate([{strokeDasharray:R,strokeDashoffset:1e-5},{strokeDasharray:R,strokeDashoffset:-K}],{delay:O,duration:U,fill:"backwards"})}),await D.finished,await lt(3e3)}}W()}{n.font=P,n.CRLF();const w=e("Stop°"),l=e("Go◯");n.CRLF();const M=w.shape.makeElement();n.showAndAdvance(M,w.advance),n.showSpace();const Q=l.shape.makeElement();n.showAndAdvance(Q,l.advance);const v=l.shape.matchForMorph(w.shape),x=v[0],V=v[1],S=w.shape.makeElement();n.showSpace(),n.showAndAdvance(S,w.advance),S.animate([{d:x},{d:x,easing:"ease"},{d:V},{d:V,easing:"ease"},{d:x}],{duration:5e3,iterations:1/0})}{const w=x=>e([...x].join(`
`)).shape,l=w("123"),M=w("ABC"),[Q,v]=l.matchForMorph(M);n.CRLF(),et(7,x=>{const V=l.makeElement();n.showAndAdvance(V,10*(6/7)*.86),V.animate([{d:Q},{d:v}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:x/6*.999})}),n.lineFeed(2.5)}{let w=function(V){const S=V[0].makeElement();n.showAndAdvance(S,0);const C=V[0].matchForMorph(V[1]);S.animate([{d:C[0]},{d:C[0],easing:"ease"},{d:C[1]},{d:C[1],easing:"ease"},{d:C[0]}],{duration:5e3,iterations:1/0})},l=function(V){const S=new N(V[1].commands.toReversed());return[V[0],S]},M=function(V){{const b=V.map(F=>!F.commands.length);if(b[0]&&b[1])return V;if(b[0]||b[1])throw new Error("wtf")}function S(b,F){const K=Math.hypot(b.x-F.x,b.y-F.y)+Math.hypot(b.x0-F.x0,b.y0-F.y0),O=Math.hypot(b.x-F.x0,b.y-F.y0)+Math.hypot(b.x0-F.x0,b.y-F.y),U=O<K;return{distance:U?O:K,needToReverse:U}}const C=V.map(b=>b.commands),[R,W]=C[0].length<C[1].length?C:C.toReversed(),T=[...W],A=[],I=Mt([...R]);if(I.forEach(b=>{let F={command:void 0,distance:1/0,index:NaN};T.forEach((O,U)=>{const{distance:Z,needToReverse:at}=S(b,O);Z<F.distance&&(F={command:at?O.toCubic().reverse():O,distance:Z,index:U})});const K=F;A.push(K.command),T.splice(K.index,1)}),I.length!=A.length)throw new Error("wtf");if(T.forEach(b=>{let F={command:void 0,distance:1/0,index:NaN};I.forEach((O,U)=>{const{distance:Z,needToReverse:at}=S(O,b);Z<F.distance&&(F={command:at?O.toCubic().reverse():O,distance:Z,index:U})});const K=F;I.push(K.command),A.push(b)}),I.length!=A.length)throw new Error("wtf");const D=[I,A];return R==C[1]&&D.reverse(),console.log(R),[new N(D[0]),new N(D[1])]};n.CRLF();const Q=e(`Round
  and
round!`),v=e(`Circle
  in a
spiral`),x=[Q.shape,v.shape];w(x),n.x+=Math.max(Q.advance,v.advance),n.showSpace(4),w(M(x)),n.x+=Math.max(Q.advance,v.advance),n.showSpace(4),w(l(x)),n.lineFeed(2.5)}n.x>n.rightMargin&&n.CRLF(),J.viewBox.baseVal.height=n.baseline+n.font.get("0").fontMetrics.bottom}
