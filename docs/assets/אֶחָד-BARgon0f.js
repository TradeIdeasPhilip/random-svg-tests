import"./modulepreload-polyfill-B5Qt9EMX.js";import{P as B,Q as V,b as N}from"./path-shape-DacCR_7D.js";import{g as L,i as q}from"./client-misc-DWuUZUgy.js";import{c as Q,r as _,e as R,f as D,a as G}from"./utility-CsOzd0ZV.js";const I=L("singlePathSvg",SVGSVGElement),w=L("pathInputElement",HTMLInputElement),P=L("displaySinglePath",HTMLButtonElement),M=L("singlePathErrorMessage",HTMLSpanElement),X=L("segments",HTMLTableElement);P.addEventListener("click",()=>{I.innerHTML="",document.querySelectorAll("#segments tr[data-temporary]").forEach(o=>{o.firstElementChild&&o.remove()});const c=w.value,E=B.fromString(c);let e;const d=E.commands;d.map((o,v)=>{const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.style.d=new B([o]).cssPath;const n=`hsl(${2.4*v}rad ${60+Math.sin(v)*40}% 50%)`;u.style.stroke=n,I.appendChild(u);const m=u.getBBox();e?e=D(e,m):e=m;const t=X.insertRow();t.dataset.temporary="ðŸ˜Ž";const r=t.insertCell();r.innerText=v.toString(),r.style.color=n;const k=t.insertCell();k.innerText=o.command;const s=t.insertCell();s.innerText=u.getTotalLength().toFixed(2);const i=(a,y)=>{a.innerText=(y*R).toFixed(2)+"Â°"},x=t.insertCell(),h=t.insertCell();if(o instanceof V){const a=o.creationInfo;a.source=="angles"&&(i(x,a.angle0),i(h,a.angle),a.success||[x,h].forEach(y=>y.classList.add("error")))}const C=t.insertCell(),F=o.incomingAngle;i(C,F);const S=t.insertCell(),T=o.outgoingAngle;i(S,T);const l=t.insertCell(),g=d[v-1],f=B.needAnM(g,o)?void 0:Q(g.outgoingAngle,o.incomingAngle);f!==void 0&&i(l,f);{const y=[u,...[r,k,s,x,h,C,S]],A=p=>{y.forEach(b=>{b.classList[p]("hover")})};y.forEach(p=>{p.addEventListener("mouseenter",()=>A("add")),p.addEventListener("mouseleave",()=>A("remove")),p.addEventListener("click",()=>{document.querySelectorAll("#singlePath .selected").forEach(b=>b.classList.remove("selected")),[u,r].forEach(b=>b.classList.add("selected"))})})}}),e&&(I.viewBox.baseVal.x=e.x,I.viewBox.baseVal.y=e.y,I.viewBox.baseVal.width=e.width,I.viewBox.baseVal.height=e.height,I.style.setProperty("--stroke-width",(Math.hypot(e.width,e.height)*.008305657597434369).toString()))});w.addEventListener("keyup",c=>{c.code=="Enter"&&(P.click(),c.preventDefault())});{let c=()=>{};const E=()=>{const e=w.value;if(e.trim()==="")w.style.backgroundColor="",P.disabled=!0,M.innerText="";else try{B.fromString(e),P.disabled=!1,M.innerText=""}catch(d){if(!(d instanceof N))throw d;P.disabled=!0,M.innerText=d.message,c=()=>{w.focus(),w.setSelectionRange(e.length-d.where.length,e.length)}}};w.addEventListener("input",E),w.value='{"commands":[{"command":"Q","x0":3.3402364362167827,"y0":-3.3007448073623697,"x1":3.9340253985180738,"y1":-4.407606648762401,"x":3.011655728124868,"y":-4.539237903380115,"creationInfo":{"source":"angles","success":true,"angle":-2.9998399305675316,"angle0":-1.0784066014045661}},{"command":"Q","x0":3.011655728124868,"y0":-4.539237903380115,"x1":1.574687929408164,"y1":-4.744307389359313,"x":1.472816111697163,"y":-3.4705009993745333,"creationInfo":{"source":"angles","success":true,"angle":1.6506008096939941,"angle0":-2.9998399305675316}},{"command":"Q","x0":1.472816111697163,"y0":-3.4705009993745333,"x1":2.425601605422024,"y1":-3.103608911097618,"x":3.378387099146885,"y":-2.7367168228207026,"creationInfo":{"source":"angles","success":false,"angle":1.3560482815273174,"angle0":1.6506008096939941}},{"command":"Q","x0":3.378387099146885,"y0":-2.7367168228207026,"x1":3.3100861700748974,"y1":-2.9792037225344936,"x":3.2417852410029093,"y":-3.2216906222482846,"creationInfo":{"source":"angles","success":false,"angle":-1.3703249858538125,"angle0":1.3560482815273174}},{"command":"Q","x0":3.2417852410029093,"y0":-3.2216906222482846,"x1":3.71956498838227,"y1":-3.1350455976774514,"x":4.1973447357616305,"y":-3.048400573106618,"creationInfo":{"source":"angles","success":false,"angle":-0.1010220204226494,"angle0":-0.1456045239311423}},{"command":"Q","x0":4.1973447357616305,"y0":-3.048400573106618,"x1":5.4196689403631035,"y1":-3.172304017662219,"x":5.061868062841531,"y":-4.160669146632123,"creationInfo":{"source":"angles","success":true,"angle":-1.918132677407088,"angle0":-0.1010220204226494}},{"command":"Q","x0":5.061868062841531,"y0":-4.160669146632123,"x1":5.268526125402326,"y1":-4.012893855293418,"x":5.475184187963122,"y":-3.8651185639547148,"creationInfo":{"source":"angles","success":false,"angle":-0.37440229149874305,"angle0":-1.918132677407088}},{"command":"Q","x0":5.475184187963122,"y0":-3.8651185639547148,"x1":16.480296958276732,"y1":-8.189428173637983,"x":2.683828194676533,"y":-6.181870056091758,"creationInfo":{"source":"angles","success":true,"angle":2.997094360451321,"angle0":-0.37440229149874305}},{"command":"Q","x0":2.683828194676533,"y0":-6.181870056091758,"x1":0.1382015495290775,"y1":-5.81144965915722,"x":0.0608453441230225,"y":-3.4844558053025536,"creationInfo":{"source":"angles","success":true,"angle":1.6040270673159511,"angle0":2.997094360451321}},{"command":"Q","x0":0.0608453441230225,"y0":-3.4844558053025536,"x1":-0.040183084485440876,"y1":-0.4453650018892805,"x":2.6303996577439386,"y":-0.5926166531791432,"creationInfo":{"source":"angles","success":true,"angle":-0.055082620605849786,"angle0":1.6040270673159511}},{"command":"Q","x0":2.6303996577439386,"y0":-0.5926166531791432,"x1":3.7388797143957104,"y1":-0.6537364665377791,"x":4.4264871867272255,"y":-0.9672211302345681,"creationInfo":{"source":"angles","success":true,"angle":-0.42775484124811636,"angle0":-0.055082620605849786}}]}',E(),M.parentElement.addEventListener("click",()=>c())}{let c=function(n,m){const t=document.createElement("th");n.appendChild(t),m!==void 0&&t.append((m*R).toFixed(1)+"Â° "+m.toFixed(3))};const E=L("byAngle",HTMLTableElement),e=0,d=11,o=q(d,n=>e+Math.PI*2*n/d),v=17,u=q(v,n=>e+Math.PI*2*n/v);{const n=E.insertRow();c(n),o.forEach(m=>{c(n,m)})}u.forEach((n,m)=>{const t=E.insertRow();c(t,n),o.forEach((r,k)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.classList.add("angles");const i=0,x=1,h=0,C=1;s.viewBox.baseVal.x=i,s.viewBox.baseVal.y=h,s.viewBox.baseVal.width=x-i,s.viewBox.baseVal.height=C-h,t.insertCell().appendChild(s);function S(g,f){const a=document.createElementNS("http://www.w3.org/2000/svg","line"),y=.2,[A,p,b]=f?[i,h,g+Math.PI]:[x,C,g],H=G(y,b);a.x1.baseVal.value=A,a.x2.baseVal.value=A+H.x,a.y1.baseVal.value=p,a.y2.baseVal.value=p+H.y,s.appendChild(a)}S(r,!0),S(n,!1);const T=document.createElementNS("http://www.w3.org/2000/svg","path"),l=V.tryAngles(i,h,r,x,C,n);if(l){const g=new B([l]).rawPath;T.setAttribute("d",g),s.appendChild(T);const f=Math.abs(Q(r,l.incomingAngle))+Math.abs(Q(n,l.outgoingAngle));f>_?(console.error({error:f,degrees:f*R,path:T,inExpected:r,inFound:l.incomingAngle,outExpected:n,outFound:l.outgoingAngle,qCommand:l}),s.style.backgroundColor="lightpink"):s.style.backgroundColor="rgb(26, 217, 255)"}else s.style.backgroundColor="hsl(190 100% 85% / 1)";s.addEventListener("click",()=>{console.log({inExpected:r,inFound:l?.incomingAngle,outExpected:n,outFound:l?.outgoingAngle,qCommand:l});debugger;const g=V.tryAngles(i,h,r,x,C,n);console.log({newCommand:g,incomingAngle:g?.incomingAngle,outgoingAngle:g?.outgoingAngle})})})})}
