import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as A}from"./client-misc-ZHNZ3-cL.js";import{b as t,m as X,c as Y,s as ee,g as te,t as L,h as O}from"./fourier-samples-CERcQkmk.js";import{p as ae,P}from"./path-shape-BCfmcyMk.js";import{m as b}from"./misc-wGF4FraP.js";import{d as C,g as ie}from"./utility-D-kBkb6L.js";const ne=1024,E=A.getById("scaled",SVGGElement),V=A.getById("reference",SVGPathElement),oe=A.getById("samples",SVGPathElement);function F(o,m){if(o>=m)throw new Error("wtf");const S=b.makeLinear(o,0,m,1);function w(x){if(x<=o)return 0;if(x>=m)return 1;const l=S(x);return ie(l)}return w}function K(o){V.setAttribute("d",o.pathString);const m=ae(V.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),S=m.a;E.style.transform=m.toString(),E.style.setProperty("--path-scale",S.toString());const w=Y(o.pathString,ne);let x="";w.forEach(([e,i])=>{x+=`M${e},${i}l0,0`}),oe.setAttribute("d",x);const l=ee(w),T=te({addTime:4800,pauseTime:200,maxGroupsToDisplay:o.maxGroupsToDisplay,terms:l}),$=e=>Math.max(...l.slice(0,e).map(a=>Math.abs(a.frequency))),R=e=>8*$(e)+7,J=T.map(e=>{if(e.addingCircles==0){const i=L(l,e.usingCircles),a=R(e.usingCircles),r=P.parametric1(i,a);return()=>r.rawPath}else if(e.usingCircles==0&&e.addingCircles==1&&l[0].frequency==0){let i=function(s){return`${n.x*s},${n.y*s}`};const{startTime:a,endTime:r}=e,p=r-a,c=F(a,a+p/2),f=F(a,r),n=O(l[0]);return s=>{const u=f(s),d=i(u),y=c(s),h=i(y);return`M ${d} L ${h}`}}else{const a=.2/$(e.usingCircles+e.addingCircles),r=b.makeBoundedLinear(e.startTime,-a,e.endTime,1+a),p=L(l,e.usingCircles),c=L(l,e.addingCircles,e.usingCircles);let f=R(e.usingCircles+e.addingCircles);if(e.usingCircles==0||e.usingCircles==1&&O(l[0])){const n=O(l[0])??{x:0,y:0};return s=>{const u=r(s),d=u-a,y=u+a,h=F(d,y),g=Math.min(1,y);if(g<=0)return`$M${n.x},${n.y} L${n.x},${n.y}`;{let G=function(D){D=D*g;const W=p(D),v=1-h(D);if(v==0)return W;{const z=c(D);return{x:W.x+v*z.x,y:W.y+v*z.y}}};const k=Math.ceil(Math.max(f,150)*g);return P.parametric1(G,k).rawPath}}}else return n=>{const s=r(n),u=F(s-a,s+a);function d(h){const g=p(h),G=1-u(h);if(G==0)return g;{const k=c(h);return{x:g.x+G*k.x,y:g.y+G*k.y}}}return P.parametric1(d,f).rawPath}}}),Q=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,M=e=>{e<0&&(e=0);let i=Q(e);const[,a,r]=/^([0-9]+)\.([0-9]+)$/.exec(i);switch(a.length){case 3:break;case 2:{i=b.FIGURE_SPACE+i;break}case 1:{i=b.FIGURE_SPACE+b.FIGURE_SPACE+i;break}default:throw console.warn({beforeDecimalPoint:a,afterDecimalPoint:r,result:i}),new Error("wtf")}return i+"%"},Z=T.map(e=>({usingAmplitude:M(e.usingAmplitude),addingAmplitude:M(e.addingAmplitude),availableAmplitude:M(e.availableAmplitude)})),q=C("[data-using] [data-circles]",HTMLTableCellElement),H=C("[data-using] [data-amplitude]",HTMLTableCellElement),B=C("[data-adding] [data-circles]",HTMLTableCellElement),I=C("[data-adding] [data-amplitude]",HTMLTableCellElement),N=C("[data-available] [data-circles]",HTMLTableCellElement),U=C("[data-available] [data-amplitude]",HTMLTableCellElement);function j(e){function i(){const n=T.findIndex(({endTime:s})=>e<s);return n==-1?T.length-1:n}const a=i(),r=n=>`${n.toString().padStart(4,b.FIGURE_SPACE)}`,p=T[a];q.innerText=r(p.usingCircles),B.innerText=r(p.addingCircles),N.innerText=r(p.availableCircles),[{value:p.usingCircles,element1:q,element2:H},{value:p.addingCircles,element1:B,element2:I},{value:p.availableCircles,element1:N,element2:U}].forEach(({value:n,element1:s,element2:u})=>{const d=n==0?"0.5":"";s.style.opacity=d,u.style.opacity=d});const c=Z[a];H.innerText=c.usingAmplitude,I.innerText=c.addingAmplitude,U.innerText=c.availableAmplitude;const f=P.cssifyPath(J[a](e));E.style.setProperty("--d",f)}window.showFrame=j}const _=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,pathString:t.likeShareAndSubscribe,minGoodCircles:10}],["hilbert0",{maxGroupsToDisplay:20,pathString:t.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,pathString:t.hilbert[1],minGoodCircles:13}],["hilbert4",{maxGroupsToDisplay:30,pathString:t.hilbert[4]}],["p0",{maxGroupsToDisplay:7,pathString:t.peanocurve[0]}],["p1",{maxGroupsToDisplay:10,pathString:t.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,pathString:t.peanocurve[2]}],["square",{maxGroupsToDisplay:7,pathString:"M-0.5,-0.667 h 1 v 1 h -1 z"}],["ellipse",{maxGroupsToDisplay:7,pathString:"M1,0 A1,1.25 0 1 1 -1,0 A1,1.25 0 1 1 1,0 z"}],["star7",{maxGroupsToDisplay:8,pathString:X(7,2,"My seed 2025a").rawPath,topText:"Random 7 Pointed Star",bottomText:'makePolygon(7,2, "My seed 2025a")'}],["Daphne_Oram_1",{maxGroupsToDisplay:18,pathString:t.daphneOram1,topText:"Daphne Oram #1",bottomText:"Wikimedia Commons"}],["Daphne_Oram_2",{maxGroupsToDisplay:22,pathString:t.daphneOram2,topText:"Daphne Oram #2",bottomText:"Wikimedia Commons"}],["water_opossum",{maxGroupsToDisplay:9,pathString:t.waterOpossum,topText:"Chironectes (Water Opossum)",bottomText:"Wikimedia Commons",minGoodCircles:10}],["cat",{maxGroupsToDisplay:10,pathString:t.cat,topText:"Cat",bottomText:"Wikimedia Commons"}],["airplane",{maxGroupsToDisplay:15,pathString:t.airplane,topText:"Airplane",bottomText:"Wikimedia Commons"}],["head_facing_right",{maxGroupsToDisplay:14,pathString:t.headFacingRight,topText:"Head Facing Right",bottomText:"Wikimedia Commons"}],["Lavater",{maxGroupsToDisplay:9,pathString:t.lavater,topText:"Johann Kaspar Lavaters",bottomText:"Wikimedia Commons"}],["man_walking",{maxGroupsToDisplay:17,pathString:t.manWalking,bottomText:"Wikimedia Commons",topText:"Man Walking"}],["bear",{maxGroupsToDisplay:17,pathString:t.bear,topText:"Bear",bottomText:"Wikimedia Commons"}],["head_facing_left",{maxGroupsToDisplay:13,pathString:t.headFacingLeft,topText:"Head Facing Left",bottomText:"Wikimedia Commons"}],["kiwi",{maxGroupsToDisplay:17,pathString:t.kiwi,topText:"Kiwi",bottomText:"Wikimedia Commons"}],["hand",{maxGroupsToDisplay:15,pathString:t.hand,topText:"Hand",bottomText:"Wikimedia Commons"}],["carpe",{maxGroupsToDisplay:16,pathString:t.carpe,topText:"Carpe",bottomText:"Wikimedia Commons"}],["pigeon",{maxGroupsToDisplay:19,pathString:t.pigeon,topText:"Pigeon",bottomText:"Wikimedia Commons"}],["smallAirplane",{maxGroupsToDisplay:16,pathString:t.smallAirplane,topText:"Robin DR400",bottomText:"Wikimedia Commons"}],["hawk",{maxGroupsToDisplay:8,pathString:t.hawk,topText:"Hawk",bottomText:"Wikimedia Commons"}],["songBird",{maxGroupsToDisplay:7,pathString:t.songBird,topText:"Song Bird",bottomText:"Wikimedia Commons"}]]);{const o=new URLSearchParams(window.location.search).get("script_name");if(o){const m=_.get(o);if(!m)throw console.log(`invalid script name: ${o}`,_),new Error("wtf");K(m)}else K(_.get("hand"))}setTimeout(()=>{let o=NaN;window.animationLoop=new A.AnimationLoop(m=>{isNaN(o)&&(o=m);const S=m-o;window.showFrame(S)})},1);
