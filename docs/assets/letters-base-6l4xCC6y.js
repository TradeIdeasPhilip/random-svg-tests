import{m as p}from"./misc-BHUyxQfl.js";import{P as f}from"./path-shape-DRm3ZWo5.js";class i{constructor(s,n,t){this.advance=n,this.fontMetrics=t,s instanceof f?this.#t=()=>s:this.#t=s}reshape(s){return new i(s,this.advance,this.fontMetrics)}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(s=>({innerShape:s,element:s.makeElement()}))}}function d(r,s){const n=new Map,t=p.pickAny(r)?.fontMetrics;if(t){const e=s/t.mHeight,a={bottom:e*t.bottom,capitalTop:e*t.capitalTop,defaultKerning:e*t.defaultKerning,mHeight:e*t.mHeight,spaceWidth:e*t.spaceWidth,strokeWidth:e*t.strokeWidth,top:e*t.top},c=new DOMMatrix;c.scaleSelf(e),r.forEach((o,h)=>{if(o.fontMetrics!=t)throw new Error("wtf");const m=new i(o.shape.transform(c),o.advance*e,a);n.set(h,m)})}return n}function w(r){function s(e){return e.length==1}let n="",t=[];return r.forEach((e,a)=>{s(a)?n+=a:t.push(e)}),{normal:n,special:t}}export{i as D,w as d,d as r};
