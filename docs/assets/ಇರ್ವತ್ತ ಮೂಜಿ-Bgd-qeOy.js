import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as S}from"./client-misc-ZHNZ3-cL.js";import{b as m,c as q,s as V,g as z,t as P}from"./fourier-shared-CpYRrO4w.js";import{p as Q,P as w}from"./path-shape-n6EbRjvk.js";import{m as d}from"./misc-wGF4FraP.js";import{d as p,g as Z}from"./utility-D2jUDy1w.js";const G=S.getById("scaled",SVGGElement),H=S.getById("reference",SVGPathElement),j=S.getById("samples",SVGPathElement);function J(n,r){if(n>=r)throw new Error("wtf");const T=d.makeLinear(n,0,r,1);function b(c){if(c<=n)return 0;if(c>=r)return 1;const s=T(c);return Z(s)}return b}function K(n){H.setAttribute("d",n.pathString);const r=Q(H.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),T=r.a;G.style.transform=r.toString(),G.style.setProperty("--path-scale",T.toString());const b=q(n.pathString,n.numberOfFourierSamples);let c="";b.forEach(([e,t])=>{c+=`M${e},${t}l0,0`}),j.setAttribute("d",c);const s=V(b),u=z({addTime:4900,pauseTime:1100,maxGroupsToDisplay:n.maxGroupsToDisplay,terms:s}),O=e=>8*Math.max(...s.slice(0,e).map(a=>a.frequency))+7,B=u.map(e=>{if(e.addingCircles==0){const t=P(s,e.usingCircles),a=O(e.usingCircles),l=w.parametric(t,a);return()=>l.rawPath}else{const a=d.makeBoundedLinear(e.startTime,-.05,e.endTime,1.05),l=P(s,e.usingCircles),g=P(s,e.addingCircles,e.usingCircles),o=O(e.usingCircles+e.addingCircles);return f=>{const i=a(f),h=J(i-.05,i+.05);function x(y){const A=l(y),E=1-h(y);if(E==0)return A;{const k=g(y);return{x:A.x+E*k.x,y:A.y+E*k.y}}}return w.parametric(x,o).rawPath}}}),N=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,C=e=>{e<0&&(e=0);let t=N(e);const[,a,l]=/^([0-9]+)\.([0-9]+)$/.exec(t);switch(a.length){case 3:break;case 2:{t=d.FIGURE_SPACE+t;break}case 1:{t=d.FIGURE_SPACE+d.FIGURE_SPACE+t;break}default:throw console.warn({beforeDecimalPoint:a,afterDecimalPoint:l,result:t}),new Error("wtf")}return t+"%"},R=u.map(e=>({usingAmplitude:C(e.usingAmplitude),addingAmplitude:C(e.addingAmplitude),availableAmplitude:C(e.availableAmplitude)})),U=p("[data-using] [data-circles]",HTMLTableCellElement),_=p("[data-using] [data-amplitude]",HTMLTableCellElement),v=p("[data-adding] [data-circles]",HTMLTableCellElement),M=p("[data-adding] [data-amplitude]",HTMLTableCellElement),I=p("[data-available] [data-circles]",HTMLTableCellElement),L=p("[data-available] [data-amplitude]",HTMLTableCellElement);function $(e){function t(){const i=u.findIndex(({endTime:h})=>e<h);return i==-1?u.length-1:i}const a=t(),l=w.cssifyPath(B[a](e));G.style.setProperty("--d",l);const g=i=>`${i.toString().padStart(4,d.FIGURE_SPACE)}`,o=u[a];U.innerText=g(o.usingCircles),v.innerText=g(o.addingCircles),I.innerText=g(o.availableCircles),[{value:o.addingCircles,element1:v,element2:M},{value:o.availableCircles,element1:I,element2:L}].forEach(({value:i,element1:h,element2:x})=>{const F=i==0?"0.25":"";h.style.opacity=F,x.style.opacity=F});const f=R[a];_.innerText=f.usingAmplitude,M.innerText=f.addingAmplitude,L.innerText=f.availableAmplitude}window.showFrame=$}const W=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,numberOfFourierSamples:1024,pathString:m.likeShareAndSubscribe}],["hilbert0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.hilbert[1]}],["hilbert4",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.hilbert[4]}],["p0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:m.peanocurve[2]}]]);K(W.get("p1"));let D=NaN;new S.AnimationLoop(n=>{isNaN(D)&&(D=n);const r=n-D;window.showFrame(r)});
