import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as O,m as it,i as nt,b as ft,g as yt,s as gt}from"./client-misc-leadhGo2.js";/* empty css              */import{b as K,l as X,c as Mt,a as et,s as Qt}from"./utility-DcEUXXL7.js";import{a as xt}from"./rough.esm-C_8OcXYf.js";class dt{constructor(i,n,f){this.x0=i,this.y0=n,this.x=f,K(i,n,f),this.y=n,this.asString=`H ${f}`}y;incomingAngle=NaN;outgoingAngle=NaN;command="H";asString;translate(i,n){return new dt(this.x0+i,this.y0+n,this.x+i)}toCubic(){return new Z(this.x0,this.y0,X(this.x0,this.x,1/3),this.y0,X(this.x0,this.x,2/3),this.y0,this.x,this.y0)}}class lt{constructor(i,n,f){this.x0=i,this.y0=n,this.y=f,K(i,n,f),this.x=i,this.asString=`V ${f}`}x;incomingAngle=NaN;outgoingAngle=NaN;command="V";asString;translate(i,n){return new lt(this.x0+i,this.y0+n,this.y+n)}toCubic(){return new Z(this.x0,this.y0,this.x0,X(this.y0,this.y,1/3),this.x0,X(this.y0,this.y,2/3),this.x0,this.y)}}class G{constructor(i,n,f,p){this.x0=i,this.y0=n,this.x=f,this.y=p,K(i,n,f,p),this.asString=`L ${f},${p}`}incomingAngle=NaN;outgoingAngle=NaN;command="L";asString;translate(i,n){return new G(this.x0+i,this.y0+n,this.x+i,this.y+n)}toCubic(){return new Z(this.x0,this.y0,X(this.x0,this.x,1/3),X(this.y0,this.y,1/3),X(this.x0,this.x,2/3),X(this.y0,this.y,2/3),this.x,this.y)}}class ot{constructor(i,n,f,p,e,u){this.x0=i,this.y0=n,this.x1=f,this.y1=p,this.x=e,this.y=u,K(i,n,f,p,e,u),this.asString=`Q ${f},${p} ${e},${u}`}static angles(i,n,f,p,e,u){K(i,n,f,p,e,u);const h=Et({x0:i,y0:n,slope:Math.tan(f)},{x0:p,y0:e,slope:Math.tan(u)});return h?new this(i,n,h.x,h.y,p,e):new G(i,n,p,e)}incomingAngle=NaN;outgoingAngle=NaN;command="Q";asString;translate(i,n){return new ot(this.x0+i,this.y0+n,this.x1+i,this.y1+n,this.x+i,this.y+n)}toCubic(){return new Z(this.x0,this.y0,X(this.x0,this.x1,2/3),X(this.y0,this.y1,2/3),X(this.x,this.x1,2/3),X(this.y,this.y1,2/3),this.x,this.y)}}class Z{constructor(i,n,f,p,e,u,h,w){this.x0=i,this.y0=n,this.x1=f,this.y1=p,this.x2=e,this.y2=u,this.x=h,this.y=w,K(i,n,f,p,e,u,h,w),this.asString=`C ${f},${p} ${e},${u} ${h},${w}`}reverse(){return new Z(this.x,this.y,this.x2,this.y2,this.x1,this.y1,this.x0,this.y0)}incomingAngle=NaN;outgoingAngle=NaN;command="C";asString;translate(i,n){return new Z(this.x0+i,this.y0+n,this.x1+i,this.y1+n,this.x2+i,this.y2+n,this.x+i,this.y+n)}toCubic(){return this}}class g{get commands(){return this.#t}addCommand(i){this.#t.push(i),this.#n=void 0}addCommands(i){return i.forEach(n=>this.addCommand(n)),this}static fromStrings(i){let n=i.join(" ");const f=[];let p;for(;n=n.replace(/^ */,""),n!="";){let e=St.exec(n);if(e){const u=O(e[1]),h=O(e[2]);if(u===void 0||h===void 0)throw console.error(e,u,h,this),new Error("wtf");p&&f.push(p),p=this.M(u,h),n=e[3];continue}if(p){if(e=_t.exec(n),e){const u=O(e[1]),h=O(e[2]),w=O(e[3]),a=O(e[4]);if(u===void 0||h===void 0||w===void 0||a===void 0)throw console.error(e,u,h,w,a,this),new Error("wtf");p=p.Q(u,h,w,a),n=e[5];continue}if(e=bt.exec(n),e){const u=O(e[1]),h=O(e[2]),w=O(e[3]),a=O(e[4]),E=O(e[5]),b=O(e[6]);if(u===void 0||h===void 0||w===void 0||a===void 0||E===void 0||b===void 0)throw console.error(e,u,h,w,a,E,b,this),new Error("wtf");p=p.C(u,h,w,a,E,b),n=e[7];continue}}throw console.error(n),new Error("wtf")}return p&&f.push(p),f}static M(i,n){const f=new g;return f.M(i,n),f}#t=[];get pathShape(){return new k(this.#t)}#n;M(i,n,f=NaN){return K(i,n),this.#n={x:i,y:n,outgoingAngle:f},this}previous(){return this.#n??this.#t.at(-1)}H(i){const n=this.previous();return this.addCommand(new dt(n.x,n.y,i)),this}V(i){const n=this.previous();return this.addCommand(new lt(n.x,n.y,i)),this}L(i,n){const f=this.previous();return this.addCommand(new G(f.x,f.y,i,n)),this}Q(i,n,f,p){const e=this.previous();return this.addCommand(new ot(e.x,e.y,i,n,f,p)),this}Q_HV(i,n){const f=this.previous();return this.Q(i,f.y,i,n)}Q_VH(i,n){const f=this.previous();return this.Q(f.x,n,i,n)}Q_angles(i,n,f,p){const e=this.previous();if(p??=e.outgoingAngle,p===void 0)throw new Error("wtf");return this.addCommand(ot.angles(e.x,e.y,p,i,n,f)),this}C(i,n,f,p,e,u){const h=this.previous();return this.addCommand(new Z(h.x,h.y,i,n,f,p,e,u)),this}circle(i,n,f="cw"){const p=this.previous(),e=p.x,u=p.y,h=Math.atan2(u-n,e-i),w=Math.hypot(u-n,e-i),a=f=="cw"?1:-1,E=h+Math.PI*2*a,b=it(0,h,1,E);function r(t){switch(t){case 0:case 1:return p;default:{const o=b(t),s=et(w,o);return{x:i+s.x,y:n+s.y}}}}function A(t){return r(t)}return this.addParametricPath(A,8),this}arc(i,n,f,p,e){const u=this.previous(),h=u.x,w=u.y;let a=Mt(Math.atan2(w-n,h-i),Math.PI*2);const E=Math.hypot(w-n,h-i);let b=Mt(Math.atan2(p-n,f-i),Math.PI*2);const r=Math.hypot(p-n,f-i);e=="cw"?a>b&&(b+=Math.PI*2):a<b&&(a+=Math.PI*2);const A=Math.abs(a-b),j=Math.ceil(A*1.17+1e-4),t=it(0,E,1,r),o=it(0,a,1,b);function s(c){switch(c){case 0:return u;case 1:return{x:f,y:p};default:{const d=et(t(c),o(c));return{x:i+d.x,y:n+d.y}}}}return this.addParametricPath(s,j)}addParametricPath(i,n){if(n<=0)throw new Error("wtf");const f=.01/n,p=nt(n+1,u=>{const h=u/n,w=i(h),a=Lt(i,h,f);return{t:h,point:w,direction:a}});return nt(n,u=>({from:p[u],to:p[u+1]})).forEach(u=>{this.Q_angles(u.to.point.x,u.to.point.y,u.to.direction,u.from.direction)}),this}}function Lt(L,i,n){if(!(i>=0&&i<=1))throw new Error("Expected 0 ≤ t ≤ 1");const f=Math.max(0,i-n),p=L(f),e=Math.min(1,i+n),u=L(e),h=u.x-p.x,w=u.y-p.y;return h==0&&w==0?NaN:Math.atan2(w,h)}const mt=" *",Y="(-?[0-9]+.?[0-9]*)",U=" *[, ] *",St=new RegExp(`^M${mt}${Y}${U}${Y}(.*)$`),_t=new RegExp(`^Q${mt}${Y}${U}${Y}${U}${Y}${U}${Y}(.*)$`),bt=new RegExp(`^C${mt}${Y}${U}${Y}${U}${Y}${U}${Y}${U}${Y}${U}${Y}(.*)$`);class k{matchForMorph(i){const n=this.commands.map(h=>h.toCubic()),f=i.commands.map(h=>h.toCubic());if(n.length!=f.length){const{shorter:h,longer:w}=n.length<f.length?{shorter:n,longer:f}:{shorter:f,longer:n};if(h.length==0)throw new Error("can't morph something into nothing");const a=w.length/h.length,E=[];h.forEach((b,r)=>{const A=Math.round((r+1)*a);for(;E.length<A;)E.push(b)}),h.length=0,h.push(...E)}if(n.length!=f.length)throw new Error("wtf");function p(h){return k.cssifyPath(h.map(w=>new k([w]).rawPath).join())}const e=p(n),u=p(f);return[e,u]}commands;get endX(){return this.commands.at(-1)?.x}get endY(){return this.commands.at(-1)?.y}get startX(){return this.commands.at(0)?.x0}get startY(){return this.commands.at(0)?.y0}static fromStrings(i){const f=g.fromStrings(i).flatMap(e=>e.commands);return new this(f)}constructor(i){this.commands=[...i]}static cssifyPath(i){return`path('${i}')`}get cssPath(){return k.cssifyPath(this.rawPath)}makeElement(){const i=document.createElementNS("http://www.w3.org/2000/svg","path"),n=this.cssPath;if(i.style.d=n,i.style.d=="")throw console.error(n,i),new Error("wtf");return i}static needAnM(i,n){return!i||i.x!=n.x0||i.y!=n.y0}get rawPath(){return this.commands.flatMap((i,n)=>{const f=[],p=this.commands[n-1];return k.needAnM(p,i)&&f.push(`M ${i.x0},${i.y0}`),f.push(i.asString),f}).join(" ")}get cssPaths(){return this.splitOnMove().map(i=>i.cssPath)}get rawPaths(){return this.splitOnMove().map(i=>i.rawPath)}splitOnMove(){const i=[];let n=[];return this.commands.forEach(f=>{k.needAnM(n.at(-1),f)&&(n=[],i.push(n)),n.push(f)}),i.map(f=>new k(f))}static join(i){return new k(i.flatMap(({Δx:n,Δy:f,shape:p})=>p.translate(n,f).commands))}convertToCubics(){return new k(this.commands.map(i=>i.toCubic()))}translate(i,n){return new k(this.commands.map(f=>f.translate(i,n)))}}function Et(L,i){if(isNaN(L.slope)||isNaN(i.slope)||L.slope==i.slope)return;const n=Math.abs(L.slope)*100>Number.MAX_SAFE_INTEGER,f=Math.abs(i.slope)*100>Number.MAX_SAFE_INTEGER;if(n&&f)return;let p,e;if(n||f){p=n?L.x0:i.x0;const u=n?i:L;e=u.slope*(p-u.x0)+u.y0}else p=(i.y0-i.slope*i.x0-L.y0+L.slope*L.x0)/(L.slope-i.slope),e=L.slope*(p-L.x0)+L.y0;return{x:p,y:e}}class Ht{constructor(i,n=i/10){if(this.fontSize=i,this.strokeWidth=n,i<=0||!isFinite(i))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get top(){return this.capitalTop-this.mHeight/4}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}get bottom(){return this.descender+this.mHeight/4}}class ut{constructor(i,n,f){this.advance=n,this.fontMetrics=f,i instanceof k?this.#t=()=>i:this.#t=i}#t;get shape(){return this.#t()}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}makeElement(){return this.shape.makeElement()}makeElements(){return this.shape.splitOnMove().map(i=>({innerShape:i,element:i.makeElement()}))}}const wt=0,at=Math.PI/4,rt=2*at,Ct=3*at,vt=4*at,Rt=5*at,ct=6*at;function st(L){const i=new Map;typeof L=="number"&&(L=new Ht(L));const n=(t,o,s)=>{const c=new ut(o,s,L);if(i.has(t))throw new Error(`duplicate letter: "${t}", previous letter: "${[...i].at(-1)[0]}"`);i.set(t,c)},{aWidth:f,digitWidth:p,capitalTop:e,capitalTopMiddle:u,capitalMiddle:h,capitalBottomMiddle:w,baseline:a,descender:E,strokeWidth:b}=L,r=0,A=b/4;{const t=p,s=t/2,c=t;{const d=(E-a)*2,H=E,x=H-d,S=e-d/4,R=S+d;if(d<=0||H<=x||x<=R||R<=S)throw new Error("wtf");const m=p*.5;{const l=g.M(m,S).Q_HV(0,R).V(x).Q_VH(m,H).pathShape;n("(",l,m)}{const l=p*.5,M=g.M(0,S).Q_HV(l,R).V(x).Q_VH(0,H).pathShape;n(")",M,l)}{const l=g.M(m,S).H(0).V(H).H(m).pathShape;n("[",l,m)}{const l=g.M(0,S).H(m).V(H).H(0).pathShape;n("]",l,m)}}{const d=p*.75,H=d/2,x=g.M(H,h-H).V(h+H).M(r,h).H(d).pathShape;n("+",x,d)}{const d=p*.75,H=g.M(r,h).H(d).pathShape;n("-",H,d)}{const d=p/2*.9,H=5,x=-Math.PI/2,S=(e+a)/2,R=0,m=nt(H,V=>{const _=V*(Math.PI*2)/H+x,C=et(R,_),F=et(d,_);return[C,F]}),l=m.flat(),M=Math.min(...l.map(({x:V})=>V));l.forEach(V=>{V.x-=M,V.y+=S});const y=m.map(([V,_])=>new G(V.x,V.y,_.x,_.y)),v=new k(y),Q=Math.max(...l.map(({x:V})=>V));n("*",v,Q)}{const d=p*.75,H=g.M(r,h-b*1.25).H(d).M(r,h+b*1.25).H(d).pathShape;n("=",H,d)}{const d=p*1.25,H=a+b,x=g.M(0,H).H(d).pathShape;n("_",x,d)}{const d=p/2,H=3*d,x=d/3,S=e,R=S+d,m=R+d,l=m+d,M=g.M(d+x,S).L(d-x,l).M(2*d+x,S).L(2*d-x,l).M(0,R).H(H).M(0,m).H(H).pathShape;n("#",M,H)}{const d=p/2,H=3*d,x=0,S=d,R=H/2,m=2*d,l=H,M=e+(L.mHeight-H)/2,y=M+S,v=M+R,Q=M+m,V=M+l,_=g.M(m,v).Q_VH(R,y).Q_HV(S,v).Q_VH(R,Q).Q_HV(m,v).Q_VH((m+l)/2,Q).Q_HV(l,v).V((y+v)/2).Q_VH(R,M).Q_HV(x,v).Q_VH(R,V).H((m+l)/2).pathShape;n("@",_,H)}{const d=g.M(s,e).Q(c,e,c,u).L(c,w).Q(c,a,s,a).Q(r,a,r,w).L(r,u).Q(r,e,s,e).M(c,u).L(r,w).pathShape;n("0",d,t)}{const d=g.M(r,u).Q(s,u,s,e).L(s,a).M(r,a).L(c,a).pathShape;n("1",d,t)}{const d=g.M(r,u).Q_VH(s,e).Q_HV(c,u).Q_VH(s,h).Q_HV(r,a).L(c,a).pathShape;n("2",d,t)}{const d=g.M(r,u).Q_VH(s,e).Q_HV(c,u).Q_VH(s,h).Q_HV(c,w).Q_VH(s,a).Q_HV(r,w).pathShape;n("3",d,t)}{const d=(s+c)/2,H=(s+r)/2,x=g.M(c,h).L(r,h).L(H,e).M(d,e).L(d,a).pathShape;n("4",x,t)}{const d=r+p/5,H=c-p/5,x=(h+w)/2,S=g.M(H,e).L(d,e).L(r,h).Q_VH(s,u).Q_HV(c,x).Q_VH(s,a).Q_HV(r,w).pathShape;n("5",S,t)}{const d=g.M(c,e).Q_HV(r,w).Q_VH(s,a).Q_HV(c,w).Q_VH(s,h).Q_HV(r,w).pathShape;n("6",d,t)}{const d=g.M(r,e).L(c,e).L(r,a).pathShape;n("7",d,t)}{const d=g.M(s,e).Q(c,e,c,u).Q(c,h,s,h).Q(r,h,r,w).Q(r,a,s,a).Q(c,a,c,w).Q(c,h,s,h).Q(r,h,r,u).Q(r,e,s,e).pathShape;n("8",d,t)}{const d=g.M(c,u).Q(c,e,s,e).Q(r,e,r,u).Q(r,h,s,h).Q(c,h,c,u).Q(c,a,r,a).pathShape;n("9",d,t)}}{const t=g.M(r,a).L(f/2,e).L(L.aWidth,a).M(L.aWidth/4,h).L(L.aWidth*.75,h).pathShape;n("A",t,f)}{const t=p,o=u-e;if(o<=0)throw new Error("wtf");const s=(t-o)*(2/3),c=a-w;if(c<=0)throw new Error("wtf");const d=t-c,H=g.M(r,e).L(r,a).L(d,a).M(Math.max(d,s),h).L(r,h).M(r,e).L(s,e).Q(s+o,e,s+o,e+o).Q(s+o,h,s,h).M(d,h).Q(d+c,h,d+c,a-c).Q(d+c,a,d,a).pathShape;n("B",H,t)}{const t=p,s=t/2,c=t,d=g.M(c,u).Q(c,e,s,e).Q(r,e,r,u).L(r,w).Q(r,a,s,a).Q(c,a,c,w).pathShape;n("C",d,t)}{const t=p,s=t/2,c=t,d=g.M(r,e).L(r,a).L(s,a).Q(c,a,c,w).L(c,u).Q(c,e,s,e).L(r,e).pathShape;n("D",d,t)}{const t=p,o=t*(2/3),s=t,c=g.M(s,e).L(r,e).L(r,a).L(s,a).M(o,h).L(r,h).pathShape;n("E",c,t)}{const t=p,o=t*(2/3),s=t,c=g.M(s,e).L(r,e).L(r,a).M(o,h).L(r,h).pathShape;n("F",c,t)}{const t=p,s=t/2,c=t,d=g.M(c,u).Q(c,e,s,e).Q(r,e,r,u).L(r,w).Q(r,a,s,a).Q(c,a,c,w).L(c,h).L(s,h).pathShape;n("G",d,t)}{const t=p,o=t,s=g.M(r,e).L(r,a).M(o,e).L(o,a).M(r,h).L(o,h).pathShape;n("H",s,t)}{const t=L.mHeight/3,o=t/2,s=t,c=g.M(r,e).L(s,e).M(r,a).L(s,a).M(o,e).L(o,a).pathShape;n("I",c,t)}{const t=p*.85,s=t/2,c=t,d=g.M(c,e).L(c,w).Q(c,a,s,a).Q(r,a,r,w).pathShape;n("J",d,t)}{const t=p+b,o=(e+a)/2,s=g.M(r,e).L(r,a).M(t,e).L(r+.5,o).L(t,a).pathShape;n("K",s,t)}{const t=p,o=g.M(r,e).L(r,a).L(t,a).pathShape;n("L",o,t)}{const t=p*1.5,o=t/2,s=g.M(r,a).L(r,e).L(o,h).L(t,e).L(t,a).pathShape;n("M",s,t)}{const t=p*1.2,o=g.M(r,a).L(r,e).L(t,a).L(t,e).pathShape;n("N",o,t)}{const t=p*1.5,o=t/2,s=(e+a)/2,c=g.M(o,e).Q_HV(t,s).Q_VH(o,a).Q_HV(r,s).Q_VH(o,e).pathShape;n("O",c,t)}{const t=p,o=h-u;if(o<=0)throw new Error("wtf");const s=t-o,c=g.M(r,e).L(r,a).M(r,e).L(s,e).Q_HV(t,u).Q_VH(s,h).L(r,h).pathShape;n("P",c,t)}{const t=p*1.5,o=t/2,s=(e+a)/2,c=g.M(o,e).Q_HV(t,s).Q_VH(o,a).Q_HV(r,s).Q_VH(o,e).M(t-o*.75,a-o*.75).L(t+o/6,a+o/6).pathShape;n("Q",c,t)}{const t=p,o=h-u;if(o<=0)throw new Error("wtf");const s=t-o,c=g.M(r,e).L(r,a).M(r,e).L(s,e).Q_HV(t,u).Q_VH(s,h).L(r,h).M(s,h).L(t,a).pathShape;n("R",c,t)}{const t=p,o=p/2,s=p,c=g.M(s,u).Q_VH(o,e).Q_HV(r,u).Q_VH(o,h).Q_HV(s,w).Q_VH(o,a).Q_HV(r,w).pathShape;n("S",c,t)}{const o=p+b,s=o/2,c=o,d=L.mHeight/8,H=g.M(c,u).Q_VH(s,e).Q_HV(r,u).Q_VH(s,h).Q_HV(c,w).Q_VH(s,a).Q_HV(r,w).M(s,e-d).V(a+d).pathShape;n("$",H,o)}{const t=p,o=t/2,s=g.M(o,e).L(o,a).M(t,e).L(r,e).pathShape;n("T",s,t)}{const t=(w+h)/2,o=Math.abs(t-a)*.85,s=o*2,c=g.M(r,e).V(t).Q_VH(o,a).Q_HV(s,t).V(e).pathShape;n("U",c,s)}{const t=f,o=t/2,s=g.M(r,e).L(o,a).L(t,e).pathShape;n("V",s,t)}{const t=f*1.5,o=t/3,s=t/2,c=o*2,d=g.M(r,e).L(o,a).L(s,h).L(c,a).L(t,e).pathShape;n("W",d,t)}{const t=p,o=g.M(t,e).L(r,a).M(r,e).L(t,a).pathShape;n("X",o,t)}{const t=b,o=p+t,s=g.M(o,e).L(t,a).M(r,e).L(o/2,h).pathShape;n("Y",s,o)}{const t=p,o=g.M(r,e).H(t).L(r,a).H(t).pathShape;n("Z",o,t)}{const t=p/4,o=p*1.2,s=g.M(t*2,e+t).Q_VH(t,e).Q_HV(0,e+t).Q_VH(t,e+t*2).Q_HV(t*2,e+t),d=s.pathShape.translate(o-t*2,L.mHeight-t*2);s.addCommands(d.commands),s.M(o,e).L(r,a);const H=s.pathShape;n("%",H,o)}{const t=p,o=g.M(t,e).L(r,a).pathShape;n("/",o,t)}{const t=p,o=g.M(r,e).L(t,a).pathShape;n("\\",o,t)}{const t=p,o=b/2,s=t+o,c=t/2,d=g.M(c,h).Q_HV(r,w).Q_VH(c,a).Q_HV(t,w).Q_VH(c,h).M(s,h).L(s,a).pathShape;n("a",d,s)}{const t=p,o=b/2,s=t+o,c=o,d=o+t/2,H=s,x=g.M(r,e).V(a).M(c,w).Q_VH(d,a).Q_HV(H,w).Q_VH(d,h).Q_HV(c,w).pathShape;n("b",x,s)}{const t=p*.875,o=0,s=p/2,c=t,d=(h+w)/2,H=(w+a)/2,x=g.M(c,d).Q_VH(s,h).Q_HV(o,w).Q_VH(s,a).Q_HV(c,H).pathShape;n("c",x,t)}{const t=p,o=b/2,s=t+o,c=t/2,d=g.M(c,h).Q_HV(r,w).Q_VH(c,a).Q_HV(t,w).Q_VH(c,h).M(s,e).L(s,a).pathShape;n("d",d,s)}const j=p/8;{const t=p,o=p/2,s=t,c=s-j,d=g.M(r,w).H(s).Q_VH(o,h).Q_HV(r,w).Q_VH(o,a).H(c).pathShape;n("e",d,t)}{const t=p*.75,o=t/2,s=t,c=g.M(s,e).Q_HV(o,u).V(a).M(s,h).H(r).pathShape;n("f",c,t)}{const t=p,o=b/2,s=t+o,c=t/2,d=g.M(c,h).Q_HV(r,w).Q_VH(c,a).Q_HV(t,w).Q_VH(c,h).M(s,h).V(a).Q_VH(c,E).H(r+j).pathShape;n("g",d,s)}{const t=p*.85,o=t/2,s=g.M(r,e).V(a).Q_VH(o,h).Q_HV(t,w).V(a).pathShape;n("h",s,t)}{const o=g.M(r,h).V(a).M(r,u).V(u-A).pathShape;n("i",o,0)}{const t=Math.abs(a-E),o=t/2,s=g.M(t,h).V(a).Q_VH(o,E).Q_HV(r,a).M(t,u).V(u-A).pathShape;n("j",s,t)}{const o=g.M(r,a).V(a-A).pathShape;n(".",o,0)}{const o=g.M(r,e).V(w).M(r,a).V(a-A).pathShape;n("!",o,0)}{const o=(E-a)/2,s=o/2,c=g.M(r,a-A).V(a).Q_VH(-s,a+o).pathShape;n(",",c,0)}{const s=(E-a)/2+A,c=new k([new G(r,e,r,e+s)]);n("'",c,0)}{const t=b*2,s=(E-a)/2+A,c=new k([new G(r,e,r,e+s),new G(t,e,t,e+s)]);n('"',c,t)}{const o=h,s=g.M(r,a).V(a-A).M(r,o-A).V(o).pathShape;n(":",s,0)}{const o=h,s=(E-a)/2,c=s/2,d=g.M(r,a-A).V(a).Q_VH(-c,a+s).M(r,o-A).V(o).pathShape;n(";",d,0)}{const t=L.xHeight*2/3,o=p/10,s=t+o,c=g.M(r,e).V(a).M(t,h).L(r,h+t).M(t/2,a-t).L(s,a).pathShape;n("k",c,s)}{const o=g.M(r,e).V(a).pathShape;n("l",o,0)}{const t=p*1.5,o=t/4,s=t/2,c=t*3/4,d=t,H=g.M(r,h).V(a).Q_VH(o,h).Q_HV(s,w).V(a).M(s,w).Q_VH(c,h).Q_HV(d,w).V(a).pathShape;n("m",H,t)}{const t=p*.85,o=t/2,s=g.M(r,h).V(a).Q_VH(o,h).Q_HV(t,w).V(a).pathShape;n("n",s,t)}{const t=p,o=0,s=t/2,c=t,d=g.M(s,h).Q_HV(c,w).Q_VH(s,a).Q_HV(o,w).Q_VH(s,h).pathShape;n("o",d,t)}{const t=p,o=b/2,s=t+o,c=o,d=o+t/2,H=s,x=g.M(r,h).V(E).M(c,w).Q_VH(d,h).Q_HV(H,w).Q_VH(d,a).Q_HV(c,w).pathShape;n("p",x,s)}{const t=p,o=t/2,s=t+b/2,c=Math.abs(a-E),d=s+c/2,H=s+c,x=g.M(o,h).Q_HV(r,w).Q_VH(o,a).Q_HV(t,w).Q_VH(o,h).M(s,h).V(a).Q_VH(d,E).Q_HV(H,a).pathShape;n("q",x,H)}{const t=p,o=t/2,s=g.M(r,h).V(a).Q_VH(o,h).Q_HV(t,w).pathShape;n("r",s,t)}{const t=L.xHeight*2/3,o=t/2,s=a,c=w,d=h,H=(s+c)/2,x=(c+d)/2,S=(x+d)/2,R=(s+H)/2,m=g.M(t,S).Q_VH(o,d).Q_HV(r,x).Q_VH(o,c).Q_HV(t,H).Q_VH(o,s).Q_HV(r,R).pathShape;n("s",m,t)}{const t=p*.75,o=t/2,s=t,c=g.M(o,u).V(w).Q_VH(s,a).M(s,h).H(r).pathShape;n("t",c,t)}{const t=p*.85,o=t/2,s=g.M(r,h).V(w).Q_VH(o,a).Q_HV(t,h).L(t,a).pathShape;n("u",s,t)}{const t=p,o=t/2,s=g.M(r,h).L(o,a).L(t,h).pathShape;n("v",s,t)}{const t=L.xHeight*1.5,o=t/3,s=t/2,c=o*2,d=g.M(r,h).L(o,a).L(s,w).L(c,a).L(t,h).pathShape;n("w",d,t)}{const t=p,o=g.M(t,h).L(r,a).M(r,h).L(t,a).pathShape;n("x",o,t)}{const t=p,o=t/2,s=(h+E)/2,c=g.M(t,h).L(r,E).M(r,h).L(o,s).pathShape;n("y",c,t)}{const t=p,o=g.M(r,h).H(t).L(r,a).H(t).pathShape;n("z",o,t)}{const t=p/2,o=t/2,s=g.M(o,e).circle(o,e+o,"cw").pathShape;n("°",s,t)}{const t=-e,o=t/2,s=g.M(o,e).circle(o,e+o,"cw").pathShape;n("◯",s,t)}{const t=-e,o=t/2,s=e/2,c=g.M(0,s).arc(o,s,t,s,"cw").pathShape;n("◠",c,t)}{const t=-e,o=t/2,s=e/2,c=g.M(0,s).arc(o,s,t,s,"ccw").pathShape;n("◡",c,t)}{const t=-e,o=t/4,s=e+o,c=g.M(o*2,s).arc(o*3,s,t,s,"cw").Q_angles(o*2,a,Ct,rt).Q_angles(0,s,ct,Rt).arc(o,s,o*2,s,"cw").pathShape;n("♡",c,t)}{const t=L.mHeight,o=t/4,s=o;{const c=t,d=(e+a)/2,H=g.M(s,d-o).L(0,d).L(s,d+o).M(0,d).L(c,d).M(c-s,d-o).L(c,d).L(c-s,d+o);n("↔",H.pathShape,c);const x=new k(H.commands.slice(0,3));n("←",x,c);const S=new k(H.commands.slice(2,5));n("→",S,c)}{const d=o,H=o*2,x=H,S=g.M(0,e+s).L(d,e).L(x,e+s).M(d,e).L(d,a).M(0,a-s).L(d,a).L(x,a-s);n("↕",S.pathShape,H);const R=new k(S.commands.slice(0,3));n("↑",R,H);const m=new k(S.commands.slice(2,5));n("↓",m,H)}}{const t=L.mHeight,o=0,s=t/2,c=t,d=e,H=a,x=(d+H)/2,S=Math.PI/16,R=g.M(s,d).Q_angles(c,x,wt+S,rt-S).Q_angles(s,H,rt+S,wt-S).Q_angles(o,x,vt+S,ct-S).Q_angles(s,d,ct+S,vt-S).pathShape;n("✧",R,t)}{let t=function(m,l){const M=m.maxY-m.minY,v=(l.bottom-l.top)/M,V=(m.maxX-m.minX)*v,_=0,C=V,F=ft(m.minX,_,m.maxX,C),W=ft(m.minY,l.top,m.maxY,l.bottom);return{x:F,y:W,advance:C}},o=function(){const m={x:1/0,y:1/0},l={x:-1/0,y:-1/0};H.forEach(Q=>{["x","y"].forEach(V=>{m[V]=Math.min(m[V],Q[V]),l[V]=Math.max(l[V],Q[V])})});const M={minX:m.x,maxX:l.x,minY:m.y,maxY:l.y},v=t(M,{top:e,bottom:a});return H.forEach(Q=>{Q.x=v.x(Q.x),Q.y=v.y(Q.y)}),v};const d=ct,H=nt(5,m=>{const l=d+m*(2*Math.PI)*2/5;return et(1,l)}),x=o(),S=H.map((m,l,M)=>{const y=M.at(l+1-M.length);return new G(m.x,m.y,y.x,y.y)});n("☆",new k(S),x.advance);const R=H.map((m,l,M)=>{const y=M.at(l+1-M.length),v=Math.atan2(y.y-m.y,y.x-m.x),Q=.175;return ot.angles(m.x,m.y,v+Q,y.x,y.y,v-Q)});n("⭒",new k(R),x.advance)}return new Map([...i.entries()].sort(([t],[o])=>t<o?-1:t==o?1:0))}const tt=yt("main",SVGSVGElement);function $t(L){const i=new Map;return L.forEach((n,f)=>{const{advance:p,fontMetrics:e}=n,u=n.shape.convertToCubics(),h=new ut(u,p,e);i.set(f,h)}),i}function kt(L,i=L*.75){const n=st(L);return st(i).forEach((p,e)=>{const u=e.toLowerCase();u!=e&&n.set(u,p)}),n}function pt(L,i){const n={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},f=xt.generator({options:{...n,...i}}),p=new Map;return L.forEach((e,u)=>{const h=()=>{const a=f.path(e.d),b=f.toPaths(a).map(r=>r.d);return k.fromStrings(b)},w=new ut(h,e.advance,e.fontMetrics);p.set(u,w)}),p}{let L=function(m){return m.length==1},i=function(m){let M=1/0,y=-1/0;m.forEach(_=>{const{description:C,baseline:F}=_,{fontMetrics:W}=C;M=Math.min(M,W.top+F),y=Math.max(y,W.bottom+F)});const v=M-1,Q=y+1,V=document.createElementNS("http://www.w3.org/2000/svg","rect");return V.x.baseVal.value=0,V.y.baseVal.value=v,V.width.baseVal.value=100,V.height.baseVal.value=Q-v,tt.insertBefore(V,m[0].element),V},n=function(m){const l=new f;l.font=j;const M=l.addText(m),y=f.join(M),v=l.x;return{shape:y,advance:v}};class f{leftMargin=0;rightMargin=95;x=this.leftMargin;baseline=0;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=st(5);getDescription(l){return this.font.get(l)}static join(l){return new k(l.flatMap(M=>M.description.shape.translate(M.x,M.baseline).commands))}displayText(l){return l.map(M=>{const y=M.description.shape,v=y.makeElement();return tt.appendChild(v),v.style.transform=`translate(${this.x}px,${this.baseline}px)`,{...M,shape:y,element:v}})}static WORD_BREAK=/^(\n+| +|[^ \n]+)(.*)/ms;addText(l){const M=new Set,y=[];for(;;){const v=f.WORD_BREAK.exec(l);if(!v)break;const Q=v[1];if(l=v[2],Q[0]==`
`)this.carriageReturn(),this.lineFeed(Q.length*4/3);else if(Q[0]==" ")this.addSpace(Q.length);else{let V=0;const _=0,C=[...Q].flatMap(F=>{const W=this.getDescription(F);if(W){const I=W.advance+W.fontMetrics.defaultKerning,N={x:V,width:I,baseline:_,description:W,char:F};return V+=I,N}else return M.add(F),[]});this.x+V>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),C.forEach(F=>{F.x+=this.x,F.baseline=this.baseline,y.push(F)}),this.x+=V}}return M.size>0&&console.warn(M),y}addSpace(l=1){this.x+=this.font.get("0").fontMetrics.spaceWidth*l}}class p{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(l=1){this.baseline+=this.lineHeight*l}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=st(5);getDescription(l){return this.font.get(l)}makeRoom(l){this.x+l.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(l){this.x+=l.advance+l.fontMetrics.defaultKerning}moveToCursor(l){l.style.transform=`translate(${this.x}px,${this.baseline}px)`}showAndAdvance(l,M){return this.x+M>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed()),tt.appendChild(l),l.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.x+=M,this}show1(l){this.makeRoom(l);const M=l.makeElement();tt.appendChild(M);const{x:y,baseline:v}=this;return this.moveToCursor(M),this.advance(l),{element:M,x:y,baseline:v}}splitAndShow1(l){this.makeRoom(l);const M=l.makeElements();return M.forEach(({element:y})=>{tt.appendChild(y),this.moveToCursor(y)}),this.advance(l),M}show(l){const M=new Set,y=[...l].flatMap(v=>{const Q=this.getDescription(v);return Q?{...this.show1(Q),description:Q,char:v}:v==" "?(this.showSpace(),[]):(M.add(v),[])});return M.size>0&&console.warn(M),y}splitAndShow(l){const M=new Set,y=[...l].flatMap(v=>{const Q=this.getDescription(v);return Q?this.splitAndShow1(Q):v==" "?(this.showSpace(),[]):(M.add(v),[])});return M.size>0&&console.warn(M),y}showSpace(l=1){return this.x+=this.font.get("0").fontMetrics.spaceWidth*l,this}}const e=new p;let u="";e.font.forEach((m,l)=>{L(l)&&(u+=l)}),e.show(u),e.CRLF();{const m=e.show(u);m.forEach(({element:l})=>{l.classList.add("lights")}),i(m).style.fill="black"}e.CRLF();const h=e.splitAndShow(u),w=m=>{if(m==0)return 0;const l=h[m].innerShape,M=h[m-1].innerShape,y=Math.hypot(M.endX-l.startX,M.endY-l.startY);return K(y),y},{totalLength:a,maxLength:E}=h.reduce(({totalLength:m,maxLength:l},{element:M},y)=>{const v=M.getTotalLength();return K(v),m+=w(y)+v,l=Math.max(l,v),{totalLength:m,maxLength:l}},{totalLength:0,maxLength:0}),b=Math.ceil(E)+1,r=`0 ${b} ${b} 0`;async function A(){for(;;){let M=0,y;h.forEach(({element:v},Q)=>{const V=v.getTotalLength();M+=w(Q);const _=1e3+M/a*3e4;M+=V;const C=V/a*3e4;y=v.animate([{strokeDasharray:r,strokeDashoffset:1e-5},{strokeDasharray:r,strokeDashoffset:-V}],{delay:_,duration:C,fill:"backwards"})}),await y.finished,await gt(3e3)}}A(),e.CRLF(),e.font=kt(5,3),e.show("Small  Caps"),e.lineHeight*=1.125;const j=st(new Ht(6,.5)),t=$t(j),o=[{roughness:.4,title:'"Heartbeat!"'},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting ♡"},{roughness:.54,title:"The Wave's *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(m=>{const{roughness:l,title:M}=m;return e.font=pt(t,{roughness:l}),e.CRLF(),e.show(`${Math.round(l*100)} ${M??"Rough Font"} [4XxYyZ]`)}),s=o[0],c=o[1],d=o[2],H=o[3],x=o[4],S=o[5],R=pt(t,{roughness:0});i(x).style.fill="black",x.forEach(({element:m})=>{m.classList.add("lights")}),[x,S].forEach(m=>{m.forEach(l=>{function M(){return Math.random()+.5|0}const y=3+M()+M()+M(),v=nt(y,()=>({d:l.description.cssPath}));v.push(v[0]);const Q=y*1e4/3,V=Q/8,_=Math.exp(X(Math.log(V),Math.log(Q),Math.random()));l.element.animate(v,{duration:_,iterations:1/0})})}),c.forEach(m=>{const l=R.get(m.char).cssPath,M=m.element.style.d,y=.03,v=[{offset:0,d:M},{offset:y,d:l},{offset:.5,d:l},{offset:y+.5,d:M},{offset:1,d:M}];m.element.animate(v,{duration:2e3,iterations:1/0})});{const v=H.length,Q=v*3,V=5e3;H.forEach((_,C)=>{const F=R.get(_.char).cssPath,W=_.element.style.d,I=_.element.style.transform,N=I+" scale(1.32)",P={d:F,transform:I},D={d:W,transform:N},$=[{offset:0,...P},{offset:4/Q,...D},{offset:6/Q,...D},{offset:14/Q,...P},{offset:1,...P}];_.element.animate($,{duration:V,iterationStart:1-C/v,iterations:1/0})})}{const m=d;i(m).style.fill="hwb(190 10% 0% / 1)",m.forEach(l=>{const M=R.get(l.char).cssPath,y=l.element.style.d,v=1/16,Q=15/16,V=14e3,_=[{offset:0,strokeWidth:.5},{offset:v,strokeWidth:.5},{offset:Q,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],C=[{offset:0,d:M},{offset:v,d:M,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:Q,d:y},{offset:1,d:y}],F=[{offset:0,opacity:1},{offset:v,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:Q,opacity:0},{offset:1,opacity:0}];l.element.animate(F,{duration:V,iterations:1/0}),l.element.animate(C,{duration:V,iterations:1/0}),l.element.animate(_,{duration:V,iterations:1/0}),l.element.style.stroke="white"})}s.forEach(m=>{const l=R.get(m.char).cssPath,M=m.element.style.d,y=750,v="cubic-bezier(.55,0,1,.55)";m.element.animate([{offset:0,d:l,easing:v},{offset:.5,d:M,easing:v},{offset:1,d:l}],{duration:y,iterations:1/0})});{e.CRLF();const m=.25,l=1.5,M="The more I drink the more I want to tell you what I really think about you.",y=it(0,m,M.length-1,l),v=[...M].flatMap((I,N)=>(e.font=pt(t,{roughness:y(N)}),e.splitAndShow(I))),Q=I=>{if(I==0)return 0;const N=v[I].innerShape,P=v[I-1].innerShape,D=Math.hypot(P.endX-N.startX,P.endY-N.startY);return K(D),D},{totalLength:V,maxLength:_}=v.reduce(({totalLength:I,maxLength:N},{element:P},D)=>{const $=P.getTotalLength();return I+=Q(D)+$,N=Math.max(N,$),{totalLength:I,maxLength:N}},{totalLength:0,maxLength:0}),C=Math.ceil(_)+1,F=`0 ${C} ${C} 0`;async function W(){for(;;){let P=0,D;v.forEach(({element:$},T)=>{const z=$.getTotalLength();P+=Q(T);const B=1e3+P/V*3e4;P+=z;const q=z/V*3e4;D=$.animate([{strokeDasharray:F,strokeDashoffset:1e-5},{strokeDasharray:F,strokeDashoffset:-z}],{delay:B,duration:q,fill:"backwards"})}),await D.finished,await gt(3e3)}}W()}{e.font=j,e.CRLF();const m=n("Stop°"),l=n("Go◯");e.CRLF();const M=m.shape.makeElement();e.showAndAdvance(M,m.advance),e.showSpace();const y=l.shape.makeElement();e.showAndAdvance(y,l.advance);const v=l.shape.matchForMorph(m.shape),Q=v[0],V=v[1],_=m.shape.makeElement();e.showSpace(),e.showAndAdvance(_,m.advance),_.animate([{d:Q},{d:Q,easing:"ease"},{d:V},{d:V,easing:"ease"},{d:Q}],{duration:5e3,iterations:1/0})}{const m=Q=>n([...Q].join(`
`)).shape,l=m("123"),M=m("ABC"),[y,v]=l.matchForMorph(M);e.CRLF(),nt(7,Q=>{const V=l.makeElement();e.showAndAdvance(V,10*(6/7)*.86),V.animate([{d:y},{d:v}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:Q/6*.999})}),e.lineFeed(2.5)}{let m=function(V){const _=V[0].makeElement();e.showAndAdvance(_,0);const C=V[0].matchForMorph(V[1]);_.animate([{d:C[0]},{d:C[0],easing:"ease"},{d:C[1]},{d:C[1],easing:"ease"},{d:C[0]}],{duration:5e3,iterations:1/0})},l=function(V){const _=new k(V[1].commands.toReversed());return[V[0],_]},M=function(V){{const $=V.map(T=>!T.commands.length);if($[0]&&$[1])return V;if($[0]||$[1])throw new Error("wtf")}function _($,T){const z=Math.hypot($.x-T.x,$.y-T.y)+Math.hypot($.x0-T.x0,$.y0-T.y0),B=Math.hypot($.x-T.x0,$.y-T.y0)+Math.hypot($.x0-T.x0,$.y-T.y),q=B<z;return{distance:q?B:z,needToReverse:q}}const C=V.map($=>$.commands),[F,W]=C[0].length<C[1].length?C:C.toReversed(),I=[...W],N=[],P=Qt([...F]);if(P.forEach($=>{let T={command:void 0,distance:1/0,index:NaN};I.forEach((B,q)=>{const{distance:J,needToReverse:ht}=_($,B);J<T.distance&&(T={command:ht?B.toCubic().reverse():B,distance:J,index:q})});const z=T;N.push(z.command),I.splice(z.index,1)}),P.length!=N.length)throw new Error("wtf");if(I.forEach($=>{let T={command:void 0,distance:1/0,index:NaN};P.forEach((B,q)=>{const{distance:J,needToReverse:ht}=_(B,$);J<T.distance&&(T={command:ht?B.toCubic().reverse():B,distance:J,index:q})});const z=T;P.push(z.command),N.push($)}),P.length!=N.length)throw new Error("wtf");const D=[P,N];return F==C[1]&&D.reverse(),[new k(D[0]),new k(D[1])]};e.CRLF();const y=n(`Round
  and
round!`),v=n(`Circle
  in a
spiral`),Q=[y.shape,v.shape];m(Q),e.x+=Math.max(y.advance,v.advance),e.showSpace(4),m(M(Q)),e.x+=Math.max(y.advance,v.advance),e.showSpace(4),m(l(Q)),e.lineFeed(2.5)}e.x>e.rightMargin&&e.CRLF(),tt.viewBox.baseVal.height=e.baseline+e.font.get("0").fontMetrics.bottom}
