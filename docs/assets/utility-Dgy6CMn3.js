import{m as o}from"./misc-BHUyxQfl.js";function m(r,t){const e=o.angleBetween(r,t);return r+e/2}function w(r,t){if(r.length==0)throw new Error("empty array");return t=o.positiveModulo(t,r.length),r[t]}function a(r){if(!(Number.isFinite(r)&&r>=0&&r<=1))throw new Error(`t should be between 0 and 1, inclusive. t == ${r}`)}function p(...r){r.forEach(n=>{if(!(n>=0&&n<Number.MAX_SAFE_INTEGER))throw new Error("wtf")});const t=o.sum(r);if(t==0)throw new Error("wtf");return n=>{a(n),n*=t;for(let s=0;s<r.length;s++){const i=r[s];if(n<=i)return n/=i,{t:n,index:s};n-=i}throw new Error("wtf")}}function E(r,t,e){const n=r+t+e,s=o.makeBoundedLinear(r/n,0,(r+t)/n,1);return c=>{a(c);const f=s(c)*t,u=Math.min(f|0,t-1),l=f-u;return a(l),{t:l,index:u}}}function d(r){const t=2/(r+1),e=1-t;return s=>e*s*s+t*s}class g{#t;constructor(t=60){if(o.assertFinite(t),t<1||t!=(t|0))throw new Error("wtf");this.#t=t,this.fromMSF=this.fromMSF.bind(this),this.fromString=this.fromString.bind(this),Object.freeze(this)}get framesPerSecond(){return this.#t}fromMSF(t,e,n){return(t*60+e)*this.#t+n}fromString(t){const e=/^([0-9]+):([0-9]+):([0-9]+)$/.exec(t);if(!e)throw new Error("wtf");const n=o.parseIntX(e[1]),s=o.parseIntX(e[2]),i=o.parseIntX(e[3]);if(n===void 0||s===void 0||i===void 0)throw new Error("wtf");return this.fromMSF(n,s,i)}}function M(r){const t=r*Math.PI;return(1-Math.cos(t))/2}export{g as G,m as a,a as b,d as c,E as d,M as e,w as g,p as m};
