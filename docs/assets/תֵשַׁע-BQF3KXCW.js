import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as r}from"./client-misc-ZHNZ3-cL.js";import{m as o}from"./misc-wGF4FraP.js";import{s as E,a as V,m as v}from"./utility-CygxgtrV.js";const M=r.getById("main",SVGSVGElement),x=r.getById("legend",SVGGElement),C=r.getById("fullCircle",SVGCircleElement),S=r.getById("halfCircle",SVGPathElement),f=r.getById("leftDot",SVGCircleElement),y=r.getById("rightDot",SVGCircleElement),c=r.getById("approximateLine",SVGLineElement),L=r.getById("time",HTMLInputElement);{const t=x.firstElementChild,e=o.assertClass(t.cloneNode(!0),SVGGElement);x.insertBefore(e,t),e.classList.add("border")}const T=E("[data-precisionIssues]",SVGTextElement,2,2),p=M.viewBox.baseVal;{const i=2.7*1.7777777777777777;p.height=2.7,p.width=i,p.x=i/-2-1.1,p.y=-1.6}function I(t){t.style.display="none"}function F(t){t.style.display=""}function k(t,e=c){const n=.04*t;e.style.strokeDasharray=`${n} ${.04-n}`,e.style.strokeWidth=n.toString(),T.forEach(s=>s.textContent=((1-t)*100).toFixed(0).padStart(3,o.FIGURE_SPACE))}const R=o.makeBoundedLinear(0,0,.011,1);function b(t){V(t),I(S),F(C);const e=(t-.25)*o.FULL_CIRCLE,{x:a,y:n}=o.polarToRectangular(1,e);f.cx.baseVal.value=a,f.cy.baseVal.value=n,y.cx.baseVal.value=-a,y.cy.baseVal.value=n,c.x1.baseVal.value=-4,c.y1.baseVal.value=n,c.x2.baseVal.value=4,c.y2.baseVal.value=n;const s=Math.min(t,1-t,Math.abs(t-.5)),i=R(s);k(i)}const H=o.makeBoundedLinear(0,0,.022,1);function h(t){V(t),I(C),F(S);const e=(t-.25)*o.FULL_CIRCLE,{x:a,y:n}=o.polarToRectangular(1,e),s=0,i=-1,m=Math.abs(a),l=n;f.cx.baseVal.value=s,f.cy.baseVal.value=i,y.cx.baseVal.value=m,y.cy.baseVal.value=l;const u=o.makeLinear(s,i,m,l);c.x1.baseVal.value=-4,c.y1.baseVal.value=u(-4),c.x2.baseVal.value=4,c.y2.baseVal.value=u(4),k(H(t))}function P(){const t=v(3,1),e=[o.makeLinear(0,.25,1,0),o.makeLinear(0,0,1,.04)];function a(n){const s=t(n);h(e[s.index](s.t))}return a}function A(t){function e(n){return n-Math.sin(n)}const a=2*o.FULL_CIRCLE;return e(t*a)/a}function D(t=3){const e=o.FULL_CIRCLE/2*t,s=o.makeLinear(1,0,0,.25);function i(m){const l=m*e,u=Math.abs(Math.cos(l));return s(u)}return i}function U(){const s=[{weight:193,display:h,timingFunction:o.makeLinear(0,.0371,1,.0056)},{weight:1011,display:b,timingFunction:A},{weight:1162,display:h,timingFunction:D()}],i=v(...s.map(l=>l.weight));function m(l){const u=i(l),{display:w,timingFunction:G}=s[u.index];w(G(u.t))}return console.log(2366,2366/60),m}let d=t=>{console.warn(`showFrame(${t})`)};function B(t){switch(t){case"full circle":{d=b;break}case"half circle":{d=h;break}case"introduction":{d=P();break}case"main":{d=U();break}default:throw new Error("invalid script name")}}{const t=()=>d(L.valueAsNumber),e=()=>{const a=E('input[name="script"]:checked',HTMLInputElement,1,1)[0].value;B(a),t()};e(),L.addEventListener("input",t),E('input[name="script"]',HTMLInputElement,2).forEach(a=>a.addEventListener("click",e))}function W(t){return document.querySelectorAll("[data-hideBeforeScreenshot]").forEach(e=>{if(!(e instanceof SVGElement||e instanceof HTMLElement))throw new Error("wtf");e.style.display="none"}),B(t),{source:"estimate-tangent-line.ts",devicePixelRatio,script:t}}const g=window;g.showFullCircle=b;g.showHalfCircle=h;g.initScreenCapture=W;g.showFrame=t=>d(t);
