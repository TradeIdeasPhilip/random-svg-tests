import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as S}from"./client-misc-ZHNZ3-cL.js";import{b as o,c as R,s as V,g as $,t as F}from"./fourier-shared-CpYRrO4w.js";import{p as U,P as E}from"./path-shape-n6EbRjvk.js";import{m as w}from"./misc-wGF4FraP.js";import{d as p,g as z}from"./utility-D2jUDy1w.js";const G=S.getById("scaled",SVGGElement),k=S.getById("reference",SVGPathElement),Q=S.getById("samples",SVGPathElement);function Z(a,i){if(a>=i)throw new Error("wtf");const T=w.makeLinear(a,0,i,1);function b(m){if(m<=a)return 0;if(m>=i)return 1;const s=T(m);return z(s)}return b}function _(a){k.setAttribute("d",a.pathString);const i=U(k.getBBox(),{x:1,y:1,width:14,height:7},"srcRect fits completely into destRect",1),T=i.a;G.style.transform=i.toString(),G.style.setProperty("--path-scale",T.toString());const b=R(a.pathString,a.numberOfFourierSamples);let m="";b.forEach(([e,l])=>{m+=`M${e},${l}l0,0`}),Q.setAttribute("d",m);const s=V(b),d=$({addTime:4900,pauseTime:1100,maxGroupsToDisplay:a.maxGroupsToDisplay,terms:s}),A=e=>8*Math.max(...s.slice(0,e).map(r=>r.frequency))+7,B=d.map(e=>{if(e.addingCircles==0){const l=F(s,e.usingCircles),r=A(e.usingCircles),g=E.parametric(l,r);return()=>g.rawPath}else{const r=w.makeBoundedLinear(e.startTime,-.05,e.endTime,1.05),g=F(s,e.usingCircles),f=F(s,e.addingCircles,e.usingCircles),n=A(e.usingCircles+e.addingCircles);return C=>{const c=r(C),t=Z(c-.05,c+.05);function h(u){const x=g(u),y=1-t(u);if(y==0)return x;{const H=f(u);return{x:x.x+y*H.x,y:x.y+y*H.y}}}return E.parametric(h,n).rawPath}}}),I=p("[data-using] [data-circles]",HTMLTableCellElement),N=p("[data-using] [data-amplitude]",HTMLTableCellElement),D=p("[data-adding] [data-circles]",HTMLTableCellElement),O=p("[data-adding] [data-amplitude]",HTMLTableCellElement),v=p("[data-available] [data-circles]",HTMLTableCellElement),M=p("[data-available] [data-amplitude]",HTMLTableCellElement);function q(e){function l(){const t=d.findIndex(({endTime:h})=>e<h);return t==-1?d.length-1:t}const r=l(),g=E.cssifyPath(B[r](e));G.style.setProperty("--d",g);const f=t=>`${t.toString().padStart(4,w.FIGURE_SPACE)}`,n=d[r];I.innerText=f(n.usingCircles),D.innerText=f(n.addingCircles),v.innerText=f(n.availableCircles),[{value:n.addingCircles,element1:D,element2:O},{value:n.availableCircles,element1:v,element2:M}].forEach(({value:t,element1:h,element2:L})=>{const u=t==0?"0.25":"";h.style.opacity=u,L.style.opacity=u});const C=new Intl.NumberFormat("en-US",{minimumSignificantDigits:5,maximumSignificantDigits:5,useGrouping:!1}).format,c=t=>(t<0&&(t=0),C(t));N.innerText=c(n.usingAmplitude),O.innerText=c(n.addingAmplitude),M.innerText=c(n.availableAmplitude)}window.showFrame=q}const j=new Map([["likeShareAndSubscribe",{maxGroupsToDisplay:30,numberOfFourierSamples:1024,pathString:o.likeShareAndSubscribe}],["hilbert0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:o.hilbert[0]}],["hilbert1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:o.hilbert[1]}],["hilbert4",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:o.hilbert[4]}],["p0",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:o.peanocurve[0]}],["p1",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:o.peanocurve[1]}],["p2",{maxGroupsToDisplay:20,numberOfFourierSamples:1024,pathString:o.peanocurve[2]}]]);_(j.get("likeShareAndSubscribe"));let P=NaN;new S.AnimationLoop(a=>{isNaN(P)&&(P=a);const i=a-P;window.showFrame(i)});
