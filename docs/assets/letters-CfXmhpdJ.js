import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as m,g as T,s as O}from"./client-misc-DyzYuCZn.js";/* empty css              */import{l as C}from"./utility-D2LlNOtt.js";import{a as P}from"./rough.esm-C_8OcXYf.js";function S(...L){L.forEach(l=>{if(!isFinite(l))throw new Error("wtf")})}const Y=" *",b="(-?[0-9]+.?[0-9]*)",R=" *[, ] *",I=new RegExp(`^M${Y}${b}${R}${b}(.*)$`),A=new RegExp(`^Q${Y}${b}${R}${b}${R}${b}${R}${b}(.*)$`),B=new RegExp(`^C${Y}${b}${R}${b}${R}${b}${R}${b}${R}${b}${R}${b}(.*)$`);class p{#t=[];get endX(){return this.#t.at(-1).endX}get endY(){return this.#t.at(-1).endY}get startX(){return this.#t[0].endX}get startY(){return this.#t[0].endY}static M(l,s){return new this().M(l,s)}checkInvariants(){if(this.#t[0].asString[0]!="M")throw new Error("wtf")}static fromStrings(...l){const s=new this;return l.forEach(H=>s.fromString(H)),s.checkInvariants(),s}fromString(l){for(;l=l.replace(/^ */,""),l!="";){let s=I.exec(l);if(s){const H=m(s[1]),h=m(s[2]);if(H===void 0||h===void 0)throw console.error(s,H,h,this),new Error("wtf");this.M(H,h),l=s[3];continue}if(s=A.exec(l),s){const H=m(s[1]),h=m(s[2]),i=m(s[3]),V=m(s[4]);if(H===void 0||h===void 0||i===void 0||V===void 0)throw console.error(s,H,h,i,V,this),new Error("wtf");this.Q(H,h,i,V),l=s[5];continue}if(s=B.exec(l),s){const H=m(s[1]),h=m(s[2]),i=m(s[3]),V=m(s[4]),r=m(s[5]),Q=m(s[6]);if(H===void 0||h===void 0||i===void 0||V===void 0||r===void 0||Q===void 0)throw console.error(s,H,h,i,V,r,Q,this),new Error("wtf");this.C(H,h,i,V,r,Q),l=s[7];continue}throw console.error(l),new Error("wtf")}return this}constructor(){}M(l,s){S(l,s);function H(i,V,r){i.M(l+V,s+r)}function h(i){i.M(l,s)}return this.#t.push({endX:l,endY:s,asString:`M ${l},${s}`,translate:H,toCubic:h}),this}H(l){S(l);function s(V,r,Q){V.H(l+r)}const H=this.endX,h=this.endY;function i(V){V.C(C(H,l,1/3),h,C(H,l,2/3),h,l,h)}return this.#t.push({endX:l,endY:h,asString:`H ${l}`,translate:s,toCubic:i}),this}V(l){S(l);function s(V,r,Q){V.V(l+Q)}const H=this.endX,h=this.endY;function i(V){V.C(H,C(h,l,1/3),H,C(h,l,2/3),H,l)}return this.#t.push({endX:this.endX,endY:l,asString:`V ${l}`,translate:s,toCubic:i}),this}L(l,s){S(l,s);function H(r,Q,o){r.L(l+Q,s+o)}const h=this.endX,i=this.endY;function V(r){r.C(C(h,l,1/3),C(i,s,1/3),C(h,l,2/3),C(i,s,2/3),l,s)}return this.#t.push({endX:l,endY:s,asString:`L ${l},${s}`,translate:H,toCubic:V}),this}Q(l,s,H,h){S(l,s,H,h);function i(o,f,_){o.Q(l+f,s+_,H+f,h+_)}const V=this.endX,r=this.endY;function Q(o){o.C(C(V,l,2/3),C(r,s,2/3),C(H,l,2/3),C(h,s,2/3),H,h)}return this.#t.push({endX:H,endY:h,asString:`Q ${l},${s} ${H},${h}`,translate:i,toCubic:Q}),this}Q_HV(l,s){return this.Q(l,this.endY,l,s)}Q_VH(l,s){return this.Q(this.endX,s,l,s)}C(l,s,H,h,i,V){S(l,s,H,h,i,V);function r(o,f,_){o.C(l+f,s+_,H+f,h+_,i+f,V+_)}function Q(o){o.C(l,s,H,h,i,V)}return this.#t.push({endX:i,endY:V,asString:`C ${l},${s} ${H},${h} ${i},${V}`,translate:r,toCubic:Q}),this}static cssifyPath(l){return`path('${l}')`}get cssPath(){return p.cssifyPath(this.rawPath)}get rawPath(){return this.#t.map(l=>l.asString).join(" ")}get cssPaths(){return this.splitOnMove().map(l=>l.cssPath)}get rawPaths(){return this.splitOnMove().map(l=>l.rawPath)}splitOnMove(){const l=[];let s=[];return this.#t.forEach(H=>{H.asString[0]=="M"&&s.length>0&&(l.push(s),s=[]),s.push(H)}),l.push(s),l.map(H=>{const h=new p;return h.#t.push(...H),h})}convertToCubics(){const l=new p;return this.#t.forEach(s=>s.toCubic(l)),l.checkInvariants(),l}translate(l,s){const H=new p;return this.#t.forEach(h=>h.translate(H,l,s)),H.checkInvariants(),H}}class y{constructor(l,s=l/10){if(this.fontSize=l,this.strokeWidth=s,l<=0||!isFinite(l))throw new Error("wtf")}get mHeight(){return this.fontSize}get xHeight(){return this.fontSize*.5}get aWidth(){return this.fontSize*.75}get digitWidth(){return this.fontSize*.5}get defaultKerning(){return this.strokeWidth*2.5}get spaceWidth(){return this.strokeWidth+this.digitWidth/2}get capitalTop(){return this.baseline-this.mHeight}get capitalTopMiddle(){return(this.capitalTop+this.capitalMiddle)/2}get capitalMiddle(){return this.baseline-this.xHeight}get capitalBottomMiddle(){return(this.baseline+this.capitalMiddle)/2}get baseline(){return 0}get descender(){return this.mHeight/4}}class F{constructor(l,s,H,h){this.letter=l,this.shape=s,this.advance=H,this.fontMetrics=h}get cssPath(){return this.shape.cssPath}get d(){return this.shape.rawPath}static makeElement(l){const s=document.createElementNS("http://www.w3.org/2000/svg","path");if(s.style.d=l,s.style.d=="")throw console.error(l,s),new Error("wtf");return s}makeElement(){return F.makeElement(this.cssPath)}makeElements(){return this.shape.splitOnMove().map(l=>({innerShape:l,element:F.makeElement(l.cssPath)}))}}function x(L){const l=new Map;typeof L=="number"&&(L=new y(L));const s=(t,c,n)=>{const e=new F(t,c,n,L);if(l.has(t))throw new Error("wtf");l.set(e.letter,e)},{aWidth:H,digitWidth:h,capitalTop:i,capitalTopMiddle:V,capitalMiddle:r,capitalBottomMiddle:Q,baseline:o,descender:f,strokeWidth:_}=L,a=0;{const t=h,n=t/2,e=t;{const d=(f-o)*2,u=f,M=u-d,g=i-d/4,$=g+d;if(d<=0||u<=M||M<=$||$<=g)throw new Error("wtf");const w=h*.5;{const v=p.M(w,g);v.Q_HV(0,$),v.V(M),v.Q_VH(w,u),s("(",v,w)}{const v=h*.5,X=p.M(0,g);X.Q_HV(v,$),X.V(M),X.Q_VH(0,u),s(")",X,v)}{const v=p.M(w,g);v.H(0),v.V(u),v.H(w),s("[",v,w)}{const v=p.M(0,g);v.H(w),v.V(u),v.H(0),s("]",v,w)}}{const d=p.M(n,i).Q(e,i,e,V).L(e,Q).Q(e,o,n,o).Q(a,o,a,Q).L(a,V).Q(a,i,n,i);s("0",d,t)}{const d=p.M(a,V).Q(n,V,n,i).L(n,o).M(a,o).L(e,o);s("1",d,t)}{const d=p.M(a,V).Q_VH(n,i).Q_HV(e,V).Q_VH(n,r).Q_HV(a,o).L(e,o);s("2",d,t)}{const d=p.M(a,V).Q_VH(n,i).Q_HV(e,V).Q_VH(n,Q).Q_HV(a,o).L(e,o);s("2a",d,t)}{const d=p.M(a,V).Q_VH(n,i).Q_HV(e,V).Q_VH(n,r).Q_HV(e,Q).Q_VH(n,o).Q_HV(a,Q);s("3",d,t)}{const d=(n+e)/2,u=(n+a)/2,M=p.M(e,r).L(a,r).L(u,i).M(d,i).L(d,o);s("4",M,t)}{const d=p.M(e,i).L(e,o).M(e,r).L(a,r).Q_HV(n,i);s("4a",d,t)}{const d=p.M(e,i).L(e,o).M(e,r).L(a,r).L(a,i);s("4b",d,t)}{const d=p.M(e,i).L(e,o).M(e,r).L(a,r).L((a+n)/2,i);s("4c",d,t)}{const d=(n+e)/2,u=p.M(d,o).L(d,i).L(a,r).L(e,r);s("4d",u,t)}{const d=a+h/5,u=e-h/5,M=(r+Q)/2,g=p.M(u,i).L(d,i).L(a,r).Q_VH(n,V).Q_HV(e,M).Q_VH(n,o).Q_HV(a,Q);s("5",g,t)}{const d=p.M(e,i).Q_HV(a,Q).Q_VH(n,o).Q_HV(e,Q).Q_VH(n,r).Q_HV(a,Q);s("6",d,t)}{const d=p.M(a,i).L(e,i).L(a,o);s("7",d,t)}{const d=p.M(n,i).Q(e,i,e,V).Q(e,r,n,r).Q(a,r,a,Q).Q(a,o,n,o).Q(e,o,e,Q).Q(e,r,n,r).Q(a,r,a,V).Q(a,i,n,i);s("8",d,t)}{const d=p.M(e,V).Q(e,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(e,r,e,V).Q(e,o,a,o);s("9",d,t)}{const d=p.M(e,V).Q(e,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(e,r,e,V).L(e,o);s("9a",d,t)}{const d=p.M(e,V).Q(e,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(e,r,e,V).L(e,Q).Q(e,o,n,o).Q(a,o,a,Q);s("9b",d,t)}{const d=p.M(e,V).Q(e,i,n,i).Q(a,i,a,V).Q(a,r,n,r).Q(e,r,e,V).Q(e,o,n,o).Q(a,o,a,Q);s("9c",d,t)}}{const t=p.M(a,o).L(H/2,i).L(L.aWidth,o).M(L.aWidth/4,r).L(L.aWidth*.75,r);s("A",t,H)}{const t=h,c=V-i;if(c<=0)throw new Error("wtf");const n=(t-c)*(2/3),e=o-Q;if(e<=0)throw new Error("wtf");const d=t-e,u=p.M(a,i).L(a,o).L(d,o).M(Math.max(d,n),r).L(a,r).M(a,i).L(n,i).Q(n+c,i,n+c,i+c).Q(n+c,r,n,r).M(d,r).Q(d+e,r,d+e,o-e).Q(d+e,o,d,o);s("B",u,t)}{const t=h,n=t/2,e=t,d=p.M(e,V).Q(e,i,n,i).Q(a,i,a,V).L(a,Q).Q(a,o,n,o).Q(e,o,e,Q);s("C",d,t)}{const t=h,n=t/2,e=t,d=p.M(a,i).L(a,o).L(n,o).Q(e,o,e,Q).L(e,V).Q(e,i,n,i).L(a,i);s("D",d,t)}{const t=h,c=t*(2/3),n=t,e=p.M(n,i).L(a,i).L(a,o).L(n,o).M(c,r).L(a,r);s("E",e,t)}{const t=h,c=t*(2/3),n=t,e=p.M(n,i).L(a,i).L(a,o).M(c,r).L(a,r);s("F",e,t)}{const t=h,n=t/2,e=t,d=p.M(e,V).Q(e,i,n,i).Q(a,i,a,V).L(a,Q).Q(a,o,n,o).Q(e,o,e,Q).L(e,r).L(n,r);s("G",d,t)}{const t=h,c=t,n=p.M(a,i).L(a,o).M(c,i).L(c,o).M(a,r).L(c,r);s("H",n,t)}{const t=L.mHeight/3,c=t/2,n=t,e=p.M(a,i).L(n,i).M(a,o).L(n,o).M(c,i).L(c,o);s("I",e,t)}{const t=h*.85,n=t/2,e=t,d=p.M(e,i).L(e,Q).Q(e,o,n,o).Q(a,o,a,Q);s("J",d,t)}{const t=h+_,c=(i+o)/2,n=p.M(a,i).L(a,o).M(t,i).L(a+.5,c).L(t,o);s("K",n,t)}{const t=h,c=p.M(a,i).L(a,o).L(t,o);s("L",c,t)}{const t=h*1.5,c=t/2,n=p.M(a,o).L(a,i).L(c,r).L(t,i).L(t,o);s("M",n,t)}{const t=h*1.2,c=p.M(a,o).L(a,i).L(t,o).L(t,i);s("N",c,t)}{const t=h*1.5,c=t/2,n=(i+o)/2,e=p.M(c,i).Q_HV(t,n).Q_VH(c,o).Q_HV(a,n).Q_VH(c,i);s("O",e,t)}{const t=h,c=r-V;if(c<=0)throw new Error("wtf");const n=t-c,e=p.M(a,i).L(a,o).M(a,i).L(n,i).Q_HV(t,V).Q_VH(n,r).L(a,r);s("P",e,t)}{const t=h*1.5,c=t/2,n=(i+o)/2,e=p.M(c,i).Q_HV(t,n).Q_VH(c,o).Q_HV(a,n).Q_VH(c,i).M(t-c*.75,o-c*.75).L(t+c/6,o+c/6);s("Q",e,t)}{const t=h,c=r-V;if(c<=0)throw new Error("wtf");const n=t-c,e=p.M(a,i).L(a,o).M(a,i).L(n,i).Q_HV(t,V).Q_VH(n,r).L(a,r).M(n,r).L(t,o);s("R",e,t)}{const t=h,c=r-V;if(c<=0)throw new Error("wtf");const n=t-c,e=p.M(a,i).L(a,o).M(a,i).L(n,i).Q_HV(t,V).Q_VH(n,r).L(a,r).L(t,o);s("Ra",e,t)}{const t=h,c=h/2,n=h,e=p.M(n,V).Q_VH(c,i).Q_HV(a,V).Q_VH(c,r).Q_HV(n,Q).Q_VH(c,o).Q_HV(a,Q);s("S",e,t)}{const t=h,c=t/2,n=p.M(c,i).L(c,o).M(t,i).L(a,i);s("T",n,t)}{const t=(Q+r)/2,c=Math.abs(t-o)*.85,n=c*2,e=p.M(a,i).V(t).Q_VH(c,o).Q_HV(n,t).V(i);s("U",e,n)}{const t=H,c=t/2,n=p.M(a,i).L(c,o).L(t,i);s("V",n,t)}{const t=H*1.5,c=t/3,n=t/2,e=c*2,d=p.M(a,i).L(c,o).L(n,r).L(e,o).L(t,i);s("W",d,t)}{const t=h,c=p.M(t,i).L(a,o).M(a,i).L(t,o);s("X",c,t)}{const t=_,c=h+t,n=p.M(c,i).L(t,o).M(a,i).L(c/2,r);s("Y",n,c)}{const t=h,c=p.M(a,i).H(t).L(a,o).H(t);s("Z",c,t)}{const t=h,c=_/2,n=t+c,e=t/2,d=p.M(e,r).Q_HV(a,Q).Q_VH(e,o).Q_HV(t,Q).Q_VH(e,r).M(n,r).L(n,o);s("a",d,n)}{const t=h,c=_/2,n=t+c,e=c,d=c+t/2,u=n,M=p.M(a,i).V(o).M(e,Q).Q_VH(d,o).Q_HV(u,Q).Q_VH(d,r).Q_HV(e,Q);s("b",M,n)}{const t=h*.875,c=0,n=h/2,e=t,d=(r+Q)/2,u=(Q+o)/2,M=p.M(e,d).Q_VH(n,r).Q_HV(c,Q).Q_VH(n,o).Q_HV(e,u);s("c",M,t)}{const t=h,c=0,n=t/2,e=t,d=p.M(e,r).H(n).Q_HV(c,Q).Q_VH(n,o).H(e);s("ca",d,t)}{const t=h*.75,c=0,n=h/2,e=t,d=p.M(e,r).H(n).Q_HV(c,Q).Q_VH(n,o).H(e);s("cb",d,t)}{const t=h*.75,c=0,n=h/2,e=t,d=(r+Q)/2,u=(Q+o)/2,M=p.M(e,d).Q_VH(n,r).Q_HV(c,Q).Q_VH(n,o).Q_HV(e,u);s("cc",M,t)}{const t=h,c=0,n=h/2,e=t,d=(r+Q)/2,u=(Q+o)/2,M=p.M(e,d).Q_VH(n,r).Q_HV(c,Q).Q_VH(n,o).Q_HV(e,u);s("cd",M,t)}{const t=h,c=_/2,n=t+c,e=t/2,d=p.M(e,r).Q_HV(a,Q).Q_VH(e,o).Q_HV(t,Q).Q_VH(e,r).M(n,i).L(n,o);s("d",d,n)}const E=h/8;{const t=h,c=h/2,n=t,e=n-E,d=p.M(a,Q).H(n).Q_VH(c,r).Q_HV(a,Q).Q_VH(c,o).H(e);s("e",d,t)}{const t=h,c=h/2,n=t,e=(Q+o)/2,d=p.M(a,Q).H(n).Q_VH(c,r).Q_HV(a,Q).Q_VH(c,o).Q_HV(n,e);s("ea",d,t)}{const t=h*.75,c=t/2,n=t,e=p.M(n,i).Q_HV(c,V).V(o).M(n,r).H(a);s("f",e,t)}{const t=h,c=_/2,n=t+c,e=t/2,d=p.M(e,r).Q_HV(a,Q).Q_VH(e,o).Q_HV(t,Q).Q_VH(e,r).M(n,r).V(o).Q_VH(e,f).H(a+E);s("g",d,n)}{const t=h*.85,c=t/2,n=p.M(a,i).V(o).Q_VH(c,r).Q_HV(t,Q).V(o);s("h",n,t)}{const c=p.M(a,r).V(o).M(a,V).V(V-_/4);s("i",c,0)}{const t=Math.abs(o-f),c=t/2,n=p.M(t,r).V(o).Q_VH(c,f).Q_HV(a,o).M(t,V).V(V-_/4);s("j",n,t)}{const t=Math.abs(o-f)*1.5,c=t/2,n=p.M(t,r).V(o).Q_VH(c,f).Q_HV(a,o).M(t,V).V(V-_/4);s("ja",n,t)}{const t=L.xHeight*2/3,c=h/10,n=t+c,e=p.M(a,i).V(o).M(t,r).L(a,r+t).M(t/2,o-t).L(n,o);s("k",e,n)}{const c=p.M(a,i).V(o);s("l",c,0)}{const t=h*1.5,c=t/4,n=t/2,e=t*3/4,d=t,u=p.M(a,r).V(o).Q_VH(c,r).Q_HV(n,Q).V(o).M(n,Q).Q_VH(e,r).Q_HV(d,Q).V(o);s("m",u,t)}{const t=h*.85,c=t/2,n=p.M(a,r).V(o).Q_VH(c,r).Q_HV(t,Q).V(o);s("n",n,t)}{const t=h,c=0,n=t/2,e=t,d=p.M(n,r).Q_HV(e,Q).Q_VH(n,o).Q_HV(c,Q).Q_VH(n,r);s("o",d,t)}{const t=h,c=_/2,n=t+c,e=c,d=c+t/2,u=n,M=p.M(a,r).V(f).M(e,Q).Q_VH(d,r).Q_HV(u,Q).Q_VH(d,o).Q_HV(e,Q);s("p",M,n)}{const t=h,c=t/2,n=t+_/2,e=Math.abs(o-f),d=n+e/2,u=n+e,M=p.M(c,r).Q_HV(a,Q).Q_VH(c,o).Q_HV(t,Q).Q_VH(c,r).M(n,r).V(o).Q_VH(d,f).Q_HV(u,o);s("q",M,u)}{const t=h,c=t/2,e=t+_/2,d=p.M(c,r).Q_HV(a,Q).Q_VH(c,o).Q_HV(t,Q).Q_VH(c,r).M(e,r).L(e,f);s("qa",d,e)}{const t=h,c=t/2,n=p.M(a,r).V(o).Q_VH(c,r).Q_HV(t,Q);s("r",n,t)}{const t=h,c=t/2,n=Q,e=Q,d=p.M(a,r).V(o).M(a,n).Q(c,V,t,e);s("re",d,t)}{let t=function(g,$,w){const v=1-w;return g*v+$*w};const c=h,n=c/2,e=t(Q,r,.25),d=t(Q,r,.75),M=p.M(a,r).V(o).M(a,e).Q(t(n,a,.5),r,n,r).Q(t(n,c,.75),r,c,d);s("rd",M,c)}{const t=h,c=t/2,n=(Q+r)/2,e=p.M(a,r).V(o).M(a,Q).Q_VH(c,r).Q_HV(t,n);s("rc",e,t)}{const t=h,c=t/2,n=p.M(a,r).V(o).Q_VH(c,r).Q_HV(t,(Q+r)/2);s("rb",n,t)}{const t=L.xHeight*2/3,c=t/2,n=o,e=Q,d=r,u=(n+e)/2,M=(e+d)/2,g=(M+d)/2,$=(n+u)/2,w=p.M(t,g).Q_VH(c,d).Q_HV(a,M).Q_VH(c,e).Q_HV(t,u).Q_VH(c,n).Q_HV(a,$);s("s",w,t)}{const t=L.xHeight*2/3,c=t/2,n=o,e=Q,d=r,u=(n+e)/2,M=(e+d)/2,g=p.M(t,M).Q_VH(c,d).Q_HV(a,M).Q_VH(c,e).Q_HV(t,u).Q_VH(c,n).Q_HV(a,u);s("sb",g,t)}{const t=L.xHeight*2/3,c=t/2,n=o,e=Q,d=r,u=(n+e)/2,M=(e+d)/2,g=p.M(t-E,d).H(c).Q_HV(a,M).Q_VH(c,e).Q_HV(t,u).Q_VH(c,n).H(E);s("sa",g,t)}{const t=h*.75,c=t/2,n=t,e=p.M(c,V).V(Q).Q_VH(n,o).M(n,r).H(a);s("t",e,t)}{const t=h*.85,c=t/2,n=p.M(a,r).V(Q).Q_VH(c,o).Q_HV(t,r).L(t,o);s("u",n,t)}{const t=h,c=t/2,n=p.M(a,r).L(c,o).L(t,r);s("v",n,t)}{const t=L.xHeight*1.5,c=t/3,n=t/2,e=c*2,d=p.M(a,r).L(c,o).L(n,Q).L(e,o).L(t,r);s("w",d,t)}{const t=h,c=p.M(t,r).L(a,o).M(a,r).L(t,o);s("x",c,t)}{const t=h,c=t/2,n=(r+f)/2,e=p.M(t,r).L(a,f).M(a,r).L(c,n);s("y",e,t)}{const t=h,c=p.M(a,r).H(t).L(a,o).H(t);s("z",c,t)}return l}const W=T("main",SVGSVGElement);function D(L){const l=new Map;return L.forEach((s,H)=>{const{letter:h,advance:i,fontMetrics:V}=s,r=s.shape.convertToCubics(),Q=new F(h,r,i,V);l.set(H,Q)}),l}function z(L,l=L*.75){const s=x(L);return x(l).forEach((h,i)=>{const V=i.toLowerCase();V!=i&&s.set(V,h)}),s}function k(L,l){const s=P.generator(l),H=new Map;return L.forEach((h,i)=>{const V=s.path(h.d),Q=s.toPaths(V).map(_=>_.d),o=p.fromStrings(...Q),f=new F(h.letter,o,h.advance,h.fontMetrics);H.set(i,f)}),H}{let L=function(c){return c.length==1};class l{leftMargin=5;rightMargin=95;x=this.leftMargin;baseline=10;lineHeight=7.5;carriageReturn(){this.x=this.leftMargin}lineFeed(n=1){this.baseline+=this.lineHeight*n}CRLF(){this.carriageReturn(),this.lineFeed(4/3)}font=x(5);getDescription(n){return this.font.get(n)}makeRoom(n){this.x+n.advance>this.rightMargin&&this.x>this.leftMargin&&(this.carriageReturn(),this.lineFeed())}advance(n){this.x+=n.advance+n.fontMetrics.defaultKerning}show1(n){this.makeRoom(n);const e=n.makeElement();return W.appendChild(e),e.style.transform=`translate(${this.x}px,${this.baseline}px)`,this.advance(n),e}splitAndShow1(n){this.makeRoom(n);const e=n.makeElements();return e.forEach(({element:d})=>{W.appendChild(d),d.style.transform=`translate(${this.x}px,${this.baseline}px)`}),this.advance(n),e}show(n){const e=new Set,d=[...n].flatMap(u=>{const M=this.getDescription(u);return M?this.show1(M):u==" "?(this.showSpace(),[]):(e.add(u),[])});return e.size>0&&console.warn(e),d}splitAndShow(n){const e=new Set,d=[...n].flatMap(u=>{const M=this.getDescription(u);return M?this.splitAndShow1(M):u==" "?(this.showSpace(),[]):(e.add(u),[])});return e.size>0&&console.warn(e),d}showSpace(){this.x+=this.font.get("0").fontMetrics.spaceWidth}}const s=new l;let H="",h=[];s.font.forEach((c,n)=>{L(n)?H+=n:h.push(c)}),s.show(H),s.CRLF(),h.forEach(c=>{s.show1(c).classList.add("historical")}),s.CRLF(),s.show(H).forEach(c=>{c.classList.add("lights")}),s.CRLF();const i=s.splitAndShow(H),V=c=>{if(c==0)return 0;const n=i[c].innerShape,e=i[c-1].innerShape;return Math.hypot(e.endX-n.startX,e.endY-n.startY)},{totalLength:r,maxLength:Q}=i.reduce(({totalLength:c,maxLength:n},{element:e},d)=>{const u=e.getTotalLength();return c+=V(d)+u,n=Math.max(n,u),{totalLength:c,maxLength:n}},{totalLength:0,maxLength:0}),o=Math.ceil(Q)+1,f=`0 ${o} ${o} 0`;async function _(){for(;;){let e=0,d;i.forEach(({element:u},M)=>{const g=u.getTotalLength();e+=V(M);const $=1e3+e/r*2e4;e+=g;const w=g/r*2e4;d=u.animate([{strokeDasharray:f,strokeDashoffset:1e-5},{strokeDasharray:f,strokeDashoffset:-g}],{delay:$,duration:w,fill:"backwards"})}),await d.finished,await O(3e3)}}_(),s.CRLF(),s.font=z(5),s.show("Small  Caps"),s.lineHeight*=1.2;const a=x(new y(6,.5)),E=D(a);s.CRLF(),s.font=E,s.show("Cubic Line 6");const t={options:{roughness:.5,bowing:3,disableMultiStroke:!1,preserveVertices:!0}};s.font=k(a,t),s.CRLF(),s.show("Rough Font 1").forEach(c=>c.style.strokeWidth="0.25"),s.font=k(E,t),s.CRLF(),s.show("Rough Font 2").forEach(c=>c.style.strokeWidth="0.25"),t.options.disableMultiStroke=!0,s.font=k(E,t),s.CRLF(),s.show("Rough Font 3"),t.options.preserveVertices=!1,t.options.roughness=.3,s.font=k(E,t),s.CRLF(),s.show("Rough Font 4"),t.options.disableMultiStroke=!1,s.font=k(E,t),s.CRLF(),s.show("Rough Font 5").forEach(c=>c.style.strokeWidth="0.25")}
