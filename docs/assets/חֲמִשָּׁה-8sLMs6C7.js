import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as Z}from"./client-misc-ZHNZ3-cL.js";/* empty css              */import{m as F}from"./misc-wGF4FraP.js";import{P as V}from"./path-shape-fljILaqi.js";import{d as q,W as J,m as Y,F as Q,T as A,D as O}from"./letters-more-CwLw9Rv8.js";import{a as tt}from"./rough.esm-GtHDBO_d.js";const X=Z.getById("main",SVGSVGElement);function et(L){const t=new Map;return L.forEach((y,T)=>{const{advance:k,fontMetrics:S}=y,x=y.shape.convertToCubics(),R=new O(x,k,S);t.set(T,R)}),t}function nt(L,t=L*.75){const y=Y(L);return Y(t).forEach((k,S)=>{const x=S.toLowerCase();x!=S&&y.set(x,k)}),y}function G(L,t){const y={roughness:.5,bowing:3,disableMultiStroke:!0,preserveVertices:!0},T=tt.generator({options:{...y,...t}}),k=new Map;return L.forEach((S,x)=>{const R=()=>{const B=T.path(S.d),P=T.toPaths(B).map(M=>M.d);return V.fromString(P.join(" "))},C=new O(R,S.advance,S.fontMetrics);k.set(x,C)}),k}{let L=function(e){let a=1/0,i=-1/0;e.forEach(h=>{const{description:m,baseline:g}=h,{fontMetrics:b}=m;a=Math.min(a,b.top+g),i=Math.max(i,b.bottom+g)});const o=a-1,r=i+1,s=document.createElementNS("http://www.w3.org/2000/svg","rect");return s.x.baseVal.value=0,s.y.baseVal.value=o,s.width.baseVal.value=100,s.height.baseVal.value=r-o,X.insertBefore(s,e[0].element),s};const t=new J(X),{normal:y}=q(t.font);t.show(y),t.CRLF();{const e=t.show(y);e.forEach(({element:n})=>{n.classList.add("lights")}),L(e).style.fill="black"}t.CRLF();const T=t.splitAndShow(y),k=e=>{if(e==0)return 0;const n=T[e].innerShape,a=T[e-1].innerShape,i=Math.hypot(a.endX-n.startX,a.endY-n.startY);return F.assertFinite(i),i},{totalLength:S,maxLength:x}=T.reduce(({totalLength:e,maxLength:n},{element:a},i)=>{const o=a.getTotalLength();return F.assertFinite(o),e+=k(i)+o,n=Math.max(n,o),{totalLength:e,maxLength:n}},{totalLength:0,maxLength:0}),R=Math.ceil(x)+1,C=`0 ${R} ${R} 0`;async function B(){for(;;){let a=0,i;T.forEach(({element:o},r)=>{const s=o.getTotalLength();a+=k(r);const h=1e3+a/S*3e4;a+=s;const m=s/S*3e4;i=o.animate([{strokeDasharray:C,strokeDashoffset:1e-5},{strokeDasharray:C,strokeDashoffset:-s}],{delay:h,duration:m,fill:"backwards"})}),await i.finished,await F.sleep(3e3)}}B(),t.CRLF(),t.font=nt(5,3),t.show("Small  Caps"),t.lineHeight*=1.125;const E=Y(new Q(6,.5)),P=et(E),M=[{roughness:.4,title:'"Heartbeat!"'},{roughness:.44,title:"Toggle @#$%"},{roughness:.5,title:"Skywriting ♡"},{roughness:.54,title:"The Wave's *"},{roughness:.59,title:"Wavy Lights."},{roughness:.64,title:"Blustery day.i"}].map(e=>{const{roughness:n,title:a}=e;return t.font=G(P,{roughness:n}),t.CRLF(),t.show(`${Math.round(n*100)} ${a??"Rough Font"} [4XxYyZ]`)}),U=M[0],K=M[1],j=M[2],z=M[3],N=M[4],H=M[5],W=G(P,{roughness:0});L(N).style.fill="black",N.forEach(({element:e})=>{e.classList.add("lights")}),[N,H].forEach(e=>{e.forEach(n=>{function a(){return Math.random()+.5|0}const i=3+a()+a()+a(),o=F.initializedArray(i,()=>({d:n.description.cssPath}));o.push(o[0]);const r=i*1e4/3,s=r/8,h=Math.exp(F.lerp(Math.log(s),Math.log(r),Math.random()));n.element.animate(o,{duration:h,iterations:1/0})})}),K.forEach(e=>{const n=W.get(e.char).cssPath,a=e.element.style.d,i=.03,o=[{offset:0,d:a},{offset:i,d:n},{offset:.5,d:n},{offset:i+.5,d:a},{offset:1,d:a}];e.element.animate(o,{duration:2e3,iterations:1/0})});{const o=z.length,r=o*3,s=5e3;z.forEach((h,m)=>{const g=W.get(h.char).cssPath,b=h.element.style.d,p=h.element.style.transform,d=p+" scale(1.32)",l={d:g,transform:p},u={d:b,transform:d},c=[{offset:0,...l},{offset:4/r,...u},{offset:6/r,...u},{offset:14/r,...l},{offset:1,...l}];h.element.animate(c,{duration:s,iterationStart:1-m/o,iterations:1/0})})}{const e=j;L(e).style.fill="hwb(190 10% 0% / 1)",e.forEach(n=>{const a=W.get(n.char).cssPath,i=n.element.style.d,o=1/16,r=15/16,s=14e3,h=[{offset:0,strokeWidth:.5},{offset:o,strokeWidth:.5},{offset:r,strokeWidth:2.25},{offset:1,strokeWidth:2.25}],m=[{offset:0,d:a},{offset:o,d:a,easing:"cubic-bezier(0.275, 0.760, 0.495, 1.005)"},{offset:r,d:i},{offset:1,d:i}],g=[{offset:0,opacity:1},{offset:o,opacity:1,easing:"cubic-bezier(0.280, 0.650, 0.630, 1.000)"},{offset:r,opacity:0},{offset:1,opacity:0}];n.element.animate(g,{duration:s,iterations:1/0}),n.element.animate(m,{duration:s,iterations:1/0}),n.element.animate(h,{duration:s,iterations:1/0}),n.element.style.stroke="white"})}U.forEach(e=>{const n=W.get(e.char).cssPath,a=e.element.style.d,i=750,o="cubic-bezier(.55,0,1,.55)";e.element.animate([{offset:0,d:n,easing:o},{offset:.5,d:a,easing:o},{offset:1,d:n}],{duration:i,iterations:1/0})});{t.CRLF();const e=.25,n=1.5,a="The more I drink the more I want to tell you what I really think about you.",i=F.makeLinear(0,e,a.length-1,n),o=[...a].flatMap((p,d)=>(t.font=G(P,{roughness:i(d)}),t.splitAndShow(p))),r=p=>{if(p==0)return 0;const d=o[p].innerShape,l=o[p-1].innerShape,u=Math.hypot(l.endX-d.startX,l.endY-d.startY);return F.assertFinite(u),u},{totalLength:s,maxLength:h}=o.reduce(({totalLength:p,maxLength:d},{element:l},u)=>{const c=l.getTotalLength();return p+=r(u)+c,d=Math.max(d,c),{totalLength:p,maxLength:d}},{totalLength:0,maxLength:0}),m=Math.ceil(h)+1,g=`0 ${m} ${m} 0`;async function b(){for(;;){let l=0,u;o.forEach(({element:c},f)=>{const v=c.getTotalLength();l+=r(f);const w=1e3+l/s*3e4;l+=v;const I=v/s*3e4;u=c.animate([{strokeDasharray:g,strokeDashoffset:1e-5},{strokeDasharray:g,strokeDashoffset:-v}],{delay:w,duration:I,fill:"backwards"})}),await u.finished,await F.sleep(3e3)}}b()}{t.font=E,t.CRLF();const e=A.textToShape("Stop°",E),n=A.textToShape("Go◯",E);t.CRLF();const a=e.shape.makeElement();t.showAndAdvance(a,e.advance),t.showSpace();const i=n.shape.makeElement();t.showAndAdvance(i,n.advance);const o=n.shape.matchForMorph(e.shape),r=o[0],s=o[1],h=e.shape.makeElement();t.showSpace(),t.showAndAdvance(h,e.advance),h.animate([{d:r},{d:r,easing:"ease"},{d:s},{d:s,easing:"ease"},{d:r}],{duration:5e3,iterations:1/0})}{const e=r=>A.textToShape([...r].join(`
`),E).shape,n=e("123"),a=e("ABC"),[i,o]=n.matchForMorph(a);t.CRLF(),F.initializedArray(7,r=>{const s=n.makeElement();t.showAndAdvance(s,10*(6/7)*.86),s.animate([{d:i},{d:o}],{duration:Number.MAX_SAFE_INTEGER,iterations:1,iterationStart:r/6*.999})}),t.lineFeed(2.5)}{let e=function(s){const h=s[0].makeElement();t.showAndAdvance(h,0);const m=s[0].matchForMorph(s[1]);h.animate([{d:m[0]},{d:m[0],easing:"ease"},{d:m[1]},{d:m[1],easing:"ease"},{d:m[0]}],{duration:5e3,iterations:1/0})},n=function(s){const h=new V(s[1].commands.toReversed());return[s[0],h]},a=function(s){{const c=s.map(f=>!f.commands.length);if(c[0]&&c[1])return s;if(c[0]||c[1])throw new Error("wtf")}function h(c,f){const v=Math.hypot(c.x-f.x,c.y-f.y)+Math.hypot(c.x0-f.x0,c.y0-f.y0),w=Math.hypot(c.x-f.x0,c.y-f.y0)+Math.hypot(c.x0-f.x0,c.y-f.y),I=w<v;return{distance:I?w:v,needToReverse:I}}const m=s.map(c=>c.commands),[g,b]=m[0].length<m[1].length?m:m.toReversed(),p=[...b],d=[],l=F.shuffleArray([...g]);if(l.forEach(c=>{let f={command:void 0,distance:1/0,index:NaN};p.forEach((w,I)=>{const{distance:D,needToReverse:$}=h(c,w);D<f.distance&&(f={command:$?w.toCubic().reverse():w,distance:D,index:I})});const v=f;d.push(v.command),p.splice(v.index,1)}),l.length!=d.length)throw new Error("wtf");if(p.forEach(c=>{let f={command:void 0,distance:1/0};l.forEach((w,I)=>{const{distance:D,needToReverse:$}=h(w,c);D<f.distance&&(f={command:$?w.toCubic().reverse():w,distance:D,index:I})});const v=f;l.push(v.command),d.push(c)}),l.length!=d.length)throw new Error("wtf");const u=[l,d];return g==m[1]&&u.reverse(),[new V(u[0]),new V(u[1])]};t.CRLF();const i=A.textToShape(`Round
  and
round!`,E),o=A.textToShape(`Circle
  in a
spiral`,E),r=[i.shape,o.shape];e(r),t.x+=Math.max(i.advance,o.advance),t.showSpace(4),e(a(r)),t.x+=Math.max(i.advance,o.advance),t.showSpace(4),e(n(r)),t.lineFeed(2.5)}t.x>t.rightMargin&&t.CRLF(),X.viewBox.baseVal.height=t.baseline+t.font.get("0").fontMetrics.bottom}
