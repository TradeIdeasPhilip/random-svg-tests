<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dx</title>
    <script type="module" src="/src/dx.ts"></script>
  </head>
  <body>
    <svg
      id="main"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      preserveAspectRatio="xMidYMid meet"
      viewBox="0 0 16 9"
    >
      <defs>
        <linearGradient id="mediumGradient" x2="0" y2="1">
          <stop offset="0%" stop-color="red" />
          <stop offset="33%" stop-color="red" />
          <stop offset="33%" stop-color="gold" />
          <stop offset="67%" stop-color="gold" />
          <stop offset="67%" stop-color="#00c000" />
          <stop offset="100%" stop-color="#00c000" />
        </linearGradient>
      </defs>

      <rect x="0" y="0" width="16" height="9"></rect>
      <g class="legend">
        <text>
          <tspan>Legend:</tspan>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <tspan class="original">Original</tspan>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <tspan class="big-change">Big Change</tspan>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <tspan class="small-change">Small Change</tspan>
        </text>
      </g>

      <g data-equation="0">
        <text>
          f₀(x) =
          <tspan class="original">1</tspan>
        </text>
        <text>
          f₀(x + dx) =
          <tspan class="original">1</tspan>
          =
        </text>
        <circle class="original" r="0.05" cx="6.5"></circle>
      </g>
      <g data-equation="1">
        <text>
          f₁(x) =
          <tspan class="original">x</tspan>
        </text>
        <text>
          f₁(x + dx) =
          <tspan class="original">x</tspan>
          +
          <tspan class="big-change">dx</tspan>
          =
        </text>
        <line class="original-stroke" x1="7.5" x2="8.5"></line>
        <line class="big-change-stroke" x1="8.5" x2="8.75"></line>
        <text x="9">=</text>
        <line class="original-stroke" x1="9.5" x2="10.5"></line>
        <text x="10.7">+</text>
        <line class="big-change-stroke" x1="11.15" x2="11.4"></line>
      </g>
      <g data-equation="2">
        <text>
          f₂(x) =
          <tspan class="original">x²</tspan>
        </text>
        <text>
          f₂(x + dx) =
          <tspan class="original">x²</tspan>
          +
          <tspan class="big-change">2x·dx</tspan>
          +
          <tspan class="medium-change">(dx)²</tspan>
        </text>
        <text x="9.4">=</text>
        <g data-together>
          <rect class="original" x="0" y="-0.5" width="1" height="1"></rect>
          <rect
            class="big-change"
            data-animate="horizontal"
            x="0"
            y="-0.75"
            width="1"
            height="0.25"
          ></rect>
          <rect
            class="big-change"
            data-animate="vertical"
            x="1"
            y="-0.5"
            width="0.25"
            height="1"
          ></rect>
          <rect
            class="medium-change"
            data-animate="square"
            x="1"
            y="-0.75"
            width="0.25"
            height="0.25"
          ></rect>
        </g>
        <text x="11.2">=</text>
        <rect class="original" x="11.6" y="-0.5" width="1" height="1"></rect>
        <text x="12.7">+ 2·</text>
        <rect
          class="big-change"
          data-animate="vertical"
          x="13.55"
          y="-0.5"
          width="0.25"
          height="1"
        ></rect>
        <text x="13.9">+</text>
        <rect
          class="medium-change"
          data-animate="square"
          x="14.3"
          y="-0.125"
          width="0.25"
          height="0.25"
        ></rect>
      </g>
      <g id="cube">
        <text>
          (x + dx)³ =
          <tspan class="original">x³</tspan>
          +
          <tspan class="big-change">3x²·dx</tspan>
          +
          <tspan class="medium-change">3x·(dx)²</tspan>
          +
          <tspan class="small-change">(dx)³</tspan>
          =
        </text>
        <g data-together>
          <rect class="original" x="0" y="-0.5" width="1" height="1"></rect>
          <polygon
            class="original"
            points="0,-0.5 1,-0.5, 1.5,-1 0.5,-1"
          ></polygon>
        </g>
      </g>
      <g data-equation="4">
        <text>
          f₄(x) =
          <tspan class="original">x⁴</tspan>
        </text>
        <text>
          f₄(x + dx) =
          <tspan class="original">x⁴</tspan>
          +
          <tspan class="big-change">4x³·dx</tspan>
          +
          <tspan class="medium-change">6x²·(dx)²</tspan>
          +
          <tspan class="small-change">4x(dx)³</tspan>
          +
          <tspan class="small-change">(dx)⁴</tspan>
        </text>
      </g>
      <g id="tesseract">
        <text>
          <tspan id="numerator">f₄(x + dx) - f₄(x)</tspan>
          =
          <tspan class="big-change">4x³</tspan>
          +
          <tspan class="medium-change">6x²·dx</tspan>
          +
          <tspan class="small-change">4x(dx)²</tspan>
          +
          <tspan class="small-change">(dx)³</tspan>
        </text>
        <text y="-0.35">f₄(x + dx) - f₄(x)</text>
        <line id="dividing-line" x2="3.34885"></line>
        <text y="0.35" x="1.674425" id="denominator">dx</text>
      </g>
    </svg>
    <div id="debugInput" data-hideBeforeScreenshot>
      <div id="debugInputTop">
        <span>dev mode:</span><span>sliders = dx size & color.</span>
        <!--         <label><input type="checkbox" id="showThumbnail" disabled />show thumbnail</label>       -->
        <a href=".">more and related</a>
      </div>
      <input
        id="dxSize"
        type="range"
        min="0.05"
        max="0.25"
        value="0.25"
        step="0.0001"
      />
      <input id="color" type="range" min="0" max="2" value="1" step="0.0001" />
    </div>

    <hr />

    <svg
      id="test3"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      preserveAspectRatio="xMidYMid meet"
      viewBox="0.5 1 2.5 2.5"
      style="max-width: 30em"
    >
      <style>
        #test3 .main {
          transform: translate(1px, 3px);
        }
        #test3 .top {
          --x: 0;
          --y: -1.25px;
        }
        #test3 .right {
          --x: 1.25px;
          --y: 0;
        }
      </style>
      <g class="main">
        <rect class="original" x="0" y="-1" width="1" height="1"></rect>
        <rect
          class="big-change"
          data-animate="horizontal"
          x="0"
          y="-1.25"
          width="1"
          height="0.25"
        ></rect>
        <rect
          class="big-change"
          data-animate="vertical"
          x="1"
          y="-1"
          width="0.25"
          height="1"
        ></rect>
        <rect
          class="medium-change"
          data-animate="square"
          x="1"
          y="-1.25"
          width="0.25"
          height="0.25"
        ></rect>

        <g class="top">
          <rect class="big-change" x="0" y="-1" width="1" height="1"></rect>
          <rect
            class="medium-change"
            data-animate="horizontal"
            x="0"
            y="-1.25"
            width="1"
            height="0.25"
          ></rect>
          <rect
            class="medium-change"
            data-animate="vertical"
            x="1"
            y="-1"
            width="0.25"
            height="1"
          ></rect>
          <rect
            class="small-change"
            data-animate="square"
            x="1"
            y="-1.25"
            width="0.25"
            height="0.25"
          ></rect>
        </g>
        <g class="right">
          <rect class="big-change" x="0" y="-1" width="1" height="1"></rect>
          <rect
            class="medium-change"
            data-animate="horizontal"
            x="0"
            y="-1.25"
            width="1"
            height="0.25"
          ></rect>
          <rect
            class="medium-change"
            data-animate="vertical"
            x="1"
            y="-1"
            width="0.25"
            height="1"
          ></rect>
          <rect
            class="small-change"
            data-animate="square"
            x="1"
            y="-1.25"
            width="0.25"
            height="0.25"
          ></rect>
        </g>
      </g>
    </svg>

    <hr />

    <svg
      id="test_pieces"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      preserveAspectRatio="xMidYMid meet"
      viewBox="0 0 10 2.5"
      style="max-width: 30em"
    >
      <style>
        #test_pieces [data-big="3"] {
          transform: translate(2px, 2px);
        }
        #test_pieces [data-big="3"] .top {
          --x: 0;
          --y: -1px;
        }
        #test_pieces [data-big="3"] .right {
          --x: 1px;
          --y: 0;
        }
        #test_pieces [data-big="2"] {
          transform: translate(3.5px, 2px);
        }
        #test_pieces [data-big="2"] .top {
          --x: 0;
          --y: -1px;
        }
        #test_pieces [data-big="2"] .right {
          --x: 0.25px;
          --y: 0;
        }
        #test_pieces [data-big="1"] {
          transform: translate(4.25px, 2px);
        }
        #test_pieces [data-big="1"] .top {
          --x: 0;
          --y: -1px;
        }
        #test_pieces [data-big="1"] .right {
          --x: 0.25px;
          --y: 0;
        }
        #test_pieces [data-big="0"] {
          transform: translate(4.75px, 2px);
        }
        #test_pieces [data-big="0"] .top {
          --x: 0;
          --y: -0.25px;
        }
        #test_pieces [data-big="0"] .right {
          --x: 0.25px;
          --y: 0;
        }
      </style>
      <rect x="0" y="1" height="1" width="1"></rect>

      <g data-big="3">
        <rect class="original" x="0" y="-1" height="1" width="1"></rect>
        <rect class="original top" x="0" y="-1" height="1" width="1"></rect>
        <rect class="original right" x="0" y="-1" height="1" width="1"></rect>
      </g>

      <g data-big="2">
        <rect class="big-change" x="0" y="-1" height="1" width="0.25"></rect>
        <rect
          class="big-change top"
          x="0"
          y="-1"
          height="1"
          width="0.25"
        ></rect>
        <rect class="big-change right" x="0" y="-1" height="1" width="1"></rect>
      </g>

      <g data-big="1">
        <rect class="medium-change" x="0" y="-1" height="1" width="0.25"></rect>
        <rect
          class="medium-change top"
          x="0"
          y="-0.25"
          height="0.25"
          width="0.25"
        ></rect>
        <rect
          class="medium-change right"
          x="0"
          y="-1"
          height="1"
          width="0.25"
        ></rect>
      </g>

      <g data-big="0">
        <rect
          class="small-change"
          x="0"
          y="-0.25"
          height="0.25"
          width="0.25"
        ></rect>
        <rect
          class="small-change top"
          x="0"
          y="-0.25"
          height="0.25"
          width="0.25"
        ></rect>
        <rect
          class="small-change right"
          x="0"
          y="-0.25"
          height="0.25"
          width="0.25"
        ></rect>
      </g>
    </svg>
  </body>
</html>
